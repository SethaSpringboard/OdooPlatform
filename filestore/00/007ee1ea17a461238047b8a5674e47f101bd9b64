)]}'
{"version": 3, "sources": ["/web/static/tests/ignore_missing_deps_start.js", "/base/static/tests/test_ir_model_fields_translation.js", "/web/static/tests/helpers/cleanup.js", "/web/static/tests/helpers/utils.js", "/web/static/tests/utils.js", "/mail/static/tests/tours/activity_date_format_tour.js", "/mail/static/tests/tours/discuss_channel_as_guest_tour.js", "/mail/static/tests/tours/discuss_channel_public_tour.js", "/mail/static/tests/tours/discuss_channel_tour.js", "/mail/static/tests/tours/mail_activity_schedule_from_chatter.js", "/mail/static/tests/tours/mail_composer_test_tour.js", "/mail/static/tests/tours/mail_message_load_order_tour.js", "/mail/static/tests/tours/mail_template_dynamic_placeholder_tour.js", "/mail/static/tests/tours/user_modify_own_profile_tour.js", "/portal/static/tests/tours/portal.js", "/account/static/tests/tours/tax_group_tests.js", "/calendar/static/tests/tours/calendar_tour.js", "/contacts/static/tests/tours/debug_menu_set_defaults.js", "/crm/static/tests/tours/create_crm_team_tour.js", "/crm/static/tests/tours/crm_email_and_phone_propagation.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/website/static/tests/tour_utils/focus_blur_snippets_options.js", "/website/static/tests/tour_utils/website_preview_test.js", "/website/static/tests/tour_utils/widget_lifecycle_dep_widget.js", "/website/static/tests/tours/carousel_content_removal.js", "/website/static/tests/tours/client_action_iframe_fallback.js", "/website/static/tests/tours/client_action_redirect.js", "/website/static/tests/tours/colorpicker.js", "/website/static/tests/tours/conditional_visibility.js", "/website/static/tests/tours/conditional_visibility_frontend.js", "/website/static/tests/tours/configurator_translation.js", "/website/static/tests/tours/custom_popup_snippet.js", "/website/static/tests/tours/default_shape_gets_palette_colors.js", "/website/static/tests/tours/drag_and_drop_on_non_editable.js", "/website/static/tests/tours/drop_404_ir_attachment_url.js", "/website/static/tests/tours/dropdowns_and_header_hide_on_scroll.js", "/website/static/tests/tours/edit_link_popover.js", "/website/static/tests/tours/edit_megamenu.js", "/website/static/tests/tours/edit_menus.js", "/website/static/tests/tours/edit_translated_page.js", "/website/static/tests/tours/editable_root_as_custom_snippet.js", "/website/static/tests/tours/focus_blur_snippets.js", "/website/static/tests/tours/gray_color_palette.js", "/website/static/tests/tours/grid_layout.js", "/website/static/tests/tours/homepage_edit_discard.js", "/website/static/tests/tours/html_editor.js", "/website/static/tests/tours/link_tools.js", "/website/static/tests/tours/media_dialog.js", "/website/static/tests/tours/media_iframe_video.js", "/website/static/tests/tours/multi_edition.js", "/website/static/tests/tours/page_manager.js", "/website/static/tests/tours/parallax.js", "/website/static/tests/tours/popup_visibility_option.js", "/website/static/tests/tours/powerbox_snippet.js", "/website/static/tests/tours/public_user_editor.js", "/website/static/tests/tours/public_user_editor_dep_widget.js", "/website/static/tests/tours/reset_password.js", "/website/static/tests/tours/restricted_editor.js", "/website/static/tests/tours/rte.js", "/website/static/tests/tours/skip_website_configurator.js", "/website/static/tests/tours/snippet_background_edition.js", "/website/static/tests/tours/snippet_cache_across_websites.js", "/website/static/tests/tours/snippet_countdown.js", "/website/static/tests/tours/snippet_editor_panel_options.js", "/website/static/tests/tours/snippet_empty_parent_autoremove.js", "/website/static/tests/tours/snippet_image_gallery.js", "/website/static/tests/tours/snippet_image_quality.js", "/website/static/tests/tours/snippet_images_wall.js", "/website/static/tests/tours/snippet_popup_add_remove.js", "/website/static/tests/tours/snippet_popup_and_animations.js", "/website/static/tests/tours/snippet_popup_and_scrollbar.js", "/website/static/tests/tours/snippet_popup_display_on_click.js", "/website/static/tests/tours/snippet_popup_open_on_top.js", "/website/static/tests/tours/snippet_social_media.js", "/website/static/tests/tours/snippet_table_of_content.js", "/website/static/tests/tours/snippet_tabs.js", "/website/static/tests/tours/snippet_translation.js", "/website/static/tests/tours/snippet_version.js", "/website/static/tests/tours/snippets_all_drag_and_drop.js", "/website/static/tests/tours/specific_website_editor.js", "/website/static/tests/tours/start_cloned_snippet.js", "/website/static/tests/tours/test_css_error.js", "/website/static/tests/tours/text_animations.js", "/website/static/tests/tours/text_highlights.js", "/website/static/tests/tours/translate_menu_name.js", "/website/static/tests/tours/translate_text_options.js", "/website/static/tests/tours/unsplash_beacon.js", "/website/static/tests/tours/website_backend_menus_redirect.js", "/website/static/tests/tours/website_click_tests.js", "/website/static/tests/tours/website_form_editor.js", "/website/static/tests/tours/website_form_editor_frontend.js", "/website/static/tests/tours/website_navbar_menu.js", "/website/static/tests/tours/website_no_dirty_page.js", "/website/static/tests/tours/website_page_options.js", "/website/static/tests/tours/website_snippets_menu_tabs.js", "/website/static/tests/tours/website_style_edition.js", "/website/static/tests/tours/website_text_edition.js", "/website/static/tests/tours/website_text_font_size.js", "/website/static/tests/tours/website_update_column_count.js", "/website/static/tests/tours/widget_lifecycle.js", "/mass_mailing/static/tests/tours/mailing_campaign.js", "/mass_mailing/static/tests/tours/mailing_editor.js", "/mass_mailing/static/tests/tours/mailing_editor_theme.js", "/mass_mailing/static/tests/tours/mailing_portal_unsubscribe_from_document.js", "/mass_mailing/static/tests/tours/mailing_portal_unsubscribe_from_list.js", "/mass_mailing/static/tests/tours/mailing_portal_unsubscribe_from_my.js", "/mass_mailing/static/tests/tours/mass_mailing_code_view.js", "/mass_mailing/static/tests/tours/snippets_mailing_menu_tabs.js", "/mass_mailing/static/tests/tours/snippets_mailing_menu_toolbar.js", "/mass_mailing/static/tests/tours/snippets_mailing_menu_toolbar_mobile.js", "/hr/static/tests/tours/hr_employee_flow.js", "/hr/static/tests/tours/user_modify_own_profile_tour.js", "/hr_expense/static/tests/tours/expense_upload_tours.js", "/hr_expense/static/tests/tours/expense_form_tours.js", "/web_enterprise/static/tests/tours/web_enterprise_tours.js", "/documents/static/tests/tours/documents_delete_tours.js", "/documents/static/tests/tours/documents_folder_rights_tours.js", "/maintenance/static/tests/tours/tour_calendar_with_recurrence.js", "/sign/static/tests/tours/sign_request_shared_tour.js", "/sign/static/tests/tours/sign_template_creation_tour.js", "/sign/static/tests/tours/sign_widgets_tour.js", "/sign/static/tests/tours/test_report_modal_tour.js", "/sign/static/tests/tours/test_sign_flow_tour.js", "/sign/static/tests/tours/translate_sign_instructions_tour.js", "/website_profile/static/tests/tours/tour_website_profile_description.js", "/website_slides/static/tests/tours/slide_course_publisher_standard.js", "/website_slides/static/tests/tours/slides_course_member.js", "/website_slides/static/tests/tours/slides_course_member_invited_logged.js", "/website_slides/static/tests/tours/slides_course_member_invited_public.js", "/website_slides/static/tests/tours/slides_course_member_yt.js", "/website_slides/static/tests/tours/slides_course_publisher.js", "/website_slides/static/tests/tours/slides_course_reviews.js", "/website_slides/static/tests/tours/slides_full_screen_web_editor.js", "/website_slides/static/tests/tours/slides_tour_tools.js", "/planning/static/tests/tours/planning_split_shift_tours.js", "/planning/static/tests/tours/planning_tests_tours.js", "/website_event/static/tests/tours/tickets_questions.js", "/website_event/static/tests/tours/website_event.js", "/website_event/static/tests/tours/website_event_pages_seo.js", "/im_livechat/static/tests/tours/im_livechat_channel_creation_tour.js", "/im_livechat/static/tests/tours/im_livechat_chatbot_steps_sequence_tour.js", "/im_livechat/static/tests/tours/im_livechat_history_back_and_forth.js", "/survey/static/tests/tours/certification_failure.js", "/survey/static/tests/tours/certification_success.js", "/survey/static/tests/tours/survey.js", "/survey/static/tests/tours/survey_chained_conditional_questions.js", "/survey/static/tests/tours/survey_conditional_questions_on_different_page.js", "/survey/static/tests/tours/survey_form.js", "/survey/static/tests/tours/survey_prefill.js", "/survey/static/tests/tours/survey_roaming_mandatory_questions.js", "/website_hr_recruitment/static/tests/tours/website_hr_recruitment.js", "/website_crm/static/tests/tours/website_crm.js", "/mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js", "/appointment_hr_recruitment/static/tests/tours/appointment_hr_recruitment.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js", "/documents_spreadsheet/static/tests/utils/tour.js", "/documents_spreadsheet/static/tests/tours/clone_xlsx.js", "/documents_spreadsheet/static/tests/tours/create_empty_sheet_tour.js", "/documents_spreadsheet/static/tests/tours/create_template_tour.js", "/documents_spreadsheet/static/tests/tours/open_pivot_sheet_tour.js", "/documents_spreadsheet/static/tests/tours/save_multipage.js", "/documents_spreadsheet_account/static/tests/tours/spreadsheet_account_tours.js", "/documents_spreadsheet_crm/static/tests/tours/insert_pivot_tour.js", "/saas_trial/static/tests/tours/tour_plan_change_warnings.js", "/saas_trial/static/tests/tours/tour_trials.js", "/saas_website/static/tests/tours/tour_activation.js", "/saas_website/static/tests/tours/tour_website_configurator.js", "/social_twitter/static/tests/tours/tour_social_twitter_spam.js", "/spreadsheet_dashboard_documents/static/tests/tours/add_document_to_dashboard_group_tour.js", "/website_livechat/static/tests/tours/lazy_frontend_bus_tour.js", "/website_livechat/static/tests/tours/website_livechat_as_portal.js", "/website_livechat/static/tests/tours/website_livechat_chatbot_after_reload.js", "/website_livechat/static/tests/tours/website_livechat_chatbot_flow.js", "/website_livechat/static/tests/tours/website_livechat_chatbot_fw_operator_matching_lang.js", "/website_livechat/static/tests/tours/website_livechat_chatbot_redirect.js", "/website_livechat/static/tests/tours/website_livechat_common.js", "/website_livechat/static/tests/tours/website_livechat_rating.js", "/website_livechat/static/tests/tours/website_livechat_request.js", "/website_livechat/static/tests/tours/website_livechat_session_user_changes.js", "/website_event_booth_exhibitor/static/tests/tours/website_event_booth_exhibitor_steps.js", "/website_event_booth_exhibitor/static/tests/tours/website_event_booth_exhibitor.js", "/website_links/static/tests/tours/website_links.js", "/website_mass_mailing/static/tests/tours/snippet_newsletter_block_with_edit.js", "/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_edition.js", "/website_mass_mailing/static/tests/tours/snippet_newsletter_popup_use.js", "/website_blog/static/tests/tours/blog_search_with_date.js", "/website_blog/static/tests/tours/blog_sidebar_with_date_and_tag.js", "/website_blog/static/tests/tours/blog_tags_tour.js", "/website_appointment/static/tests/tours/website_appointment_tour.js", "/appointment_crm/static/tests/tours/appointment_crm.js", "/web/static/tests/ignore_missing_deps_stop.js"], "mappings": "AAAA;;;;;AAAA;AACA;AACA;AACA;AACA;ACJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5kCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9sBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1NA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3LA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5ZA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvaA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1MA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtYA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1MA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9LA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACbA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACv/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1OA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACdA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzSA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/MA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnRA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvmCA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtOA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACdA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;;;;;AAAA;AACA", "sourcesContent": ["// This module has for sole purpose to mark all odoo modules defined between it\n// and ignore_missing_deps_stop as ignored for missing dependency errors.\n// see the template conditional_assets_tests to understand how it's used.\nwindow.__odooIgnoreMissingDependencies = true;\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nfunction checkLoginColumn(translation) {\n    return [\n        stepUtils.showAppsMenuItem(), {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: 'click',\n        }, {\n            content: \"Open Users & Companies\",\n            trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n            run: \"click\",\n        }, {\n            content: \"Open Users\",\n            trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n            run: \"click\",\n        }, {\n            content: `Login column should be ${translation}`,\n            trigger: `[data-name=\"login\"] span:contains(\"${translation}\")`,\n            isCheck: true,\n        }\n    ]\n}\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Login')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour2', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Login2')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Identifiant')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour2', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Identifiant2')\n});\n", "/** @odoo-module **/\n\n// -----------------------------------------------------------------------------\n// Cleanup\n// -----------------------------------------------------------------------------\n\nconst cleanups = [];\n\n/**\n * Register a cleanup callback that will be executed whenever the current test\n * is done.\n *\n * - the cleanups will be executed in reverse order\n * - they will be executed even if the test fails/crashes\n *\n * @param {Function} callback\n */\nexport function registerCleanup(callback) {\n    cleanups.push(callback);\n}\n\nif (window.QUnit) {\n    QUnit.on(\"OdooAfterTestHook\", (info) => {\n        if (QUnit.config.debug) {\n            return;\n        }\n        let cleanup;\n        // note that this calls the cleanup callbacks in reverse order!\n        while ((cleanup = cleanups.pop())) {\n            try {\n                cleanup(info);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    });\n\n    // -----------------------------------------------------------------------------\n    // Check leftovers\n    // -----------------------------------------------------------------------------\n\n    /**\n     * List of elements tolerated in the body after a test. The property \"keep\"\n     * prevents the element from being removed (typically: qunit suite elements).\n     */\n    const validElements = [\n        // always in the body:\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit\", keep: true },\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit-fixture\", keep: true },\n        // shouldn't be in the body after a test but are tolerated:\n        { tagName: \"SCRIPT\", attr: \"id\", value: \"\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"o_notification_manager\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto show\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip tooltip-field-info fade bs-tooltip-auto\" },\n        {\n            tagName: \"DIV\",\n            attr: \"class\",\n            value: \"tooltip tooltip-field-info fade bs-tooltip-auto show\",\n        },\n        { tagName: \"SPAN\", attr: \"class\", value: \"select2-hidden-accessible\" },\n\n        // Due to a Document Kanban bug (already present in 12.0)\n        { tagName: \"DIV\", attr: \"class\", value: \"ui-helper-hidden-accessible\" },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete ui-front\",\n        },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete dropdown-menu ui-front\", // many2ones\n        },\n    ];\n\n    /**\n     * After each test, we check that there is no leftover in the DOM.\n     *\n     * Note: this event is not QUnit standard, we added it for this specific use case.\n     * As a payload, an object with keys 'moduleName' and 'testName' is provided. It\n     * is used to indicate the test that left elements in the DOM, when it happens.\n     */\n    QUnit.on(\"OdooAfterTestHook\", function (info) {\n        if (QUnit.config.debug) {\n            return;\n        }\n        const failed = info.testReport.getStatus() === \"failed\";\n        const toRemove = [];\n        // check for leftover elements in the body\n        for (const bodyChild of document.body.children) {\n            const tolerated = validElements.find(\n                (e) => e.tagName === bodyChild.tagName && bodyChild.getAttribute(e.attr) === e.value\n            );\n            if (!failed && !tolerated) {\n                QUnit.pushFailure(\n                    `Body still contains undesirable elements:\\n${bodyChild.outerHTML}`\n                );\n            }\n            if (!tolerated || !tolerated.keep) {\n                toRemove.push(bodyChild);\n            }\n        }\n        // cleanup leftovers in #qunit-fixture\n        const qunitFixture = document.getElementById(\"qunit-fixture\");\n        if (qunitFixture.children.length) {\n            toRemove.push(...qunitFixture.children);\n        }\n        // remove unwanted elements if not in debug\n        for (const el of toRemove) {\n            el.remove();\n        }\n        document.body.classList.remove(\"modal-open\");\n    });\n}\n", "/** @odoo-module **/\n\nimport { templates } from \"@web/core/assets\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { isMacOS } from \"@web/core/browser/feature_detection\";\nimport { download } from \"@web/core/network/download\";\nimport { Deferred } from \"@web/core/utils/concurrency\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registerCleanup } from \"./cleanup\";\n\nimport {\n    App,\n    onError,\n    onMounted,\n    onPatched,\n    onRendered,\n    onWillDestroy,\n    onWillPatch,\n    onWillRender,\n    onWillStart,\n    onWillUnmount,\n    onWillUpdateProps,\n    useComponent,\n} from \"@odoo/owl\";\n\n/**\n * @typedef {keyof HTMLElementEventMap | keyof WindowEventMap} EventType\n *\n * @typedef {Side | `${Side}-${Side}` | { x?: number, y?: number }} Position\n *\n * @typedef {\"bottom\" | \"left\" | \"right\" | \"top\"} Side\n *\n * @typedef TriggerEventOptions\n * @property {boolean} [skipVisibilityCheck=false]\n * @property {boolean} [sync=false]\n */\n\n/**\n * Patch the native Date object\n *\n * Note that it will be automatically unpatched at the end of the test\n *\n * @param {number} [year]\n * @param {number} [month]\n * @param {number} [day]\n * @param {number} [hours]\n * @param {number} [minutes]\n * @param {number} [seconds]\n * @param {number} [ms=0]\n */\nexport function patchDate(year, month, day, hours, minutes, seconds, ms = 0) {\n    var RealDate = window.Date;\n    var actualDate = new RealDate();\n\n    // By default, RealDate uses the browser offset, so we must replace it with the offset fixed in luxon.\n    var fakeDate = new RealDate(year, month, day, hours, minutes, seconds, ms);\n    if (!(luxon.Settings.defaultZone instanceof luxon.FixedOffsetZone)) {\n        throw new Error(\"luxon.Settings.defaultZone must be a FixedOffsetZone\");\n    }\n    const browserOffset = -fakeDate.getTimezoneOffset();\n    const patchedOffset = luxon.Settings.defaultZone.offset();\n    const offsetDiff = patchedOffset - browserOffset;\n    const correctedMinutes = fakeDate.getMinutes() - offsetDiff;\n    fakeDate.setMinutes(correctedMinutes);\n\n    var timeInterval = actualDate.getTime() - fakeDate.getTime();\n\n    // eslint-disable-next-line no-global-assign\n    window.Date = (function (NativeDate) {\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            let date;\n            if (arguments.length > 0) {\n                date =\n                    length == 1 && String(Y) === Y // isString(Y)\n                        ? // We explicitly pass it through parse:\n                          new NativeDate(Date.parse(Y))\n                        : // We have to manually make calls depending on argument\n                        // length here\n                        length >= 7\n                        ? new NativeDate(Y, M, D, h, m, s, ms)\n                        : length >= 6\n                        ? new NativeDate(Y, M, D, h, m, s)\n                        : length >= 5\n                        ? new NativeDate(Y, M, D, h, m)\n                        : length >= 4\n                        ? new NativeDate(Y, M, D, h)\n                        : length >= 3\n                        ? new NativeDate(Y, M, D)\n                        : length >= 2\n                        ? new NativeDate(Y, M)\n                        : length >= 1\n                        ? new NativeDate(Y)\n                        : new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            } else {\n                date = new NativeDate();\n                var time = date.getTime();\n                time -= timeInterval;\n                date.setTime(time);\n                return date;\n            }\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        // exception: 'now' uses fake date as reference\n        Date.now = function () {\n            var date = new NativeDate();\n            var time = date.getTime();\n            time -= timeInterval;\n            return time;\n        };\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = NativeDate.parse;\n        return Date;\n    })(Date);\n\n    registerCleanup(() => {\n        window.Date = RealDate;\n    });\n}\n\n/**\n * Applies a fixed time zone to luxon based on an offset to the UTC time zone.\n *\n * @param {number} offset the number of minutes ahead or behind the UTC time zone\n *                          +120 => UTC+2\n *                          -120 => UTC-2\n */\nexport function patchTimeZone(offset) {\n    patchWithCleanup(luxon.Settings, { defaultZone: luxon.FixedOffsetZone.instance(offset) });\n}\n\n/**\n *\n * @param {Object} obj object to patch\n * @param {Object} patchValue the actual patch description\n */\nexport function patchWithCleanup(obj, patchValue) {\n    const unpatch = patch(obj, patchValue);\n    registerCleanup(() => {\n        unpatch();\n    });\n}\n\n/**\n * @returns {Element}\n */\nexport function getFixture() {\n    if (!window.QUnit) {\n        return document;\n    }\n    if (QUnit.config.debug) {\n        return document.body;\n    } else {\n        return document.getElementById(\"qunit-fixture\");\n    }\n}\n\nexport async function nextTick() {\n    await new Promise((resolve) => window.requestAnimationFrame(resolve));\n    await new Promise((resolve) => setTimeout(resolve));\n}\n\nexport function makeDeferred() {\n    return new Deferred();\n}\n\nexport function findElement(el, selector) {\n    let target = el;\n    if (selector) {\n        const els = el.querySelectorAll(selector);\n        if (els.length === 0) {\n            throw new Error(`No element found (selector: ${selector})`);\n        }\n        if (els.length > 1) {\n            throw new Error(`Found ${els.length} elements, instead of 1 (selector: ${selector})`);\n        }\n        target = els[0];\n    }\n    return target;\n}\n\n//-----------------------------------------------------------------------------\n// Event init attributes mappers\n//-----------------------------------------------------------------------------\n\n/** @param {EventInit} [args] */\nconst mapBubblingEvent = (args) => ({ ...args, bubbles: true });\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingEvent = (args) => ({ ...args, bubbles: false });\n\n/** @param {EventInit} [args={}] */\nconst mapBubblingPointerEvent = (args = {}) => ({\n    clientX: args.pageX,\n    clientY: args.pageY,\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    view: window,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingPointerEvent = (args) => ({\n    ...mapBubblingPointerEvent(args),\n    bubbles: false,\n    cancelable: false,\n});\n\n/** @param {EventInit} [args={}] */\nconst mapCancelableTouchEvent = (args = {}) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    composed: true,\n    rotation: 0.0,\n    touches: args.touches ? [...args.touches.map((e) => new Touch(e))] : undefined,\n    view: window,\n    zoom: 1.0,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonCancelableTouchEvent = (args) => ({\n    ...mapCancelableTouchEvent(args),\n    cancelable: false,\n});\n\n/** @param {EventInit} [args] */\nconst mapKeyboardEvent = (args) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n});\n\n/**\n * @template {typeof Event} T\n * @param {EventType} eventType\n * @returns {[T, (attrs: EventInit) => EventInit]}\n */\nconst getEventConstructor = (eventType) => {\n    switch (eventType) {\n        // Mouse events\n        case \"auxclick\":\n        case \"click\":\n        case \"contextmenu\":\n        case \"dblclick\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"mousemove\":\n        case \"mouseover\":\n        case \"mouseout\": {\n            return [MouseEvent, mapBubblingPointerEvent];\n        }\n        case \"mouseenter\":\n        case \"mouseleave\": {\n            return [MouseEvent, mapNonBubblingPointerEvent];\n        }\n        // Pointer events\n        case \"pointerdown\":\n        case \"pointerup\":\n        case \"pointermove\":\n        case \"pointerover\":\n        case \"pointerout\": {\n            return [PointerEvent, mapBubblingPointerEvent];\n        }\n        case \"pointerenter\":\n        case \"pointerleave\": {\n            return [PointerEvent, mapNonBubblingPointerEvent];\n        }\n        // Focus events\n        case \"focusin\": {\n            return [FocusEvent, mapBubblingEvent];\n        }\n        case \"focus\":\n        case \"blur\": {\n            return [FocusEvent, mapNonBubblingEvent];\n        }\n        // Clipboard events\n        case \"cut\":\n        case \"copy\":\n        case \"paste\": {\n            return [ClipboardEvent, mapBubblingEvent];\n        }\n        // Keyboard events\n        case \"keydown\":\n        case \"keypress\":\n        case \"keyup\": {\n            return [KeyboardEvent, mapKeyboardEvent];\n        }\n        // Drag events\n        case \"drag\":\n        case \"dragend\":\n        case \"dragenter\":\n        case \"dragstart\":\n        case \"dragleave\":\n        case \"dragover\":\n        case \"drop\": {\n            return [DragEvent, mapBubblingEvent];\n        }\n        // Input events\n        case \"input\": {\n            return [InputEvent, mapBubblingEvent];\n        }\n        // Composition events\n        case \"compositionstart\":\n        case \"compositionend\": {\n            return [CompositionEvent, mapBubblingEvent];\n        }\n        // UI events\n        case \"scroll\": {\n            return [UIEvent, mapNonBubblingEvent];\n        }\n        // Touch events\n        case \"touchstart\":\n        case \"touchend\":\n        case \"touchmove\": {\n            return [TouchEvent, mapCancelableTouchEvent];\n        }\n        case \"touchcancel\": {\n            return [TouchEvent, mapNonCancelableTouchEvent];\n        }\n        // Default: base Event constructor\n        default: {\n            return [Event, mapBubblingEvent];\n        }\n    }\n};\n\n/**\n * @template {EventType} T\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {T} eventType\n * @param {EventInit} [eventInit]\n * @param {TriggerEventOptions} [options={}]\n * @returns {GlobalEventHandlersEventMap[T] | Promise<GlobalEventHandlersEventMap[T]>}\n */\nexport function triggerEvent(el, selector, eventType, eventInit, options = {}) {\n    const errors = [];\n    const target = findElement(el, selector);\n\n    // Error handling\n    if (typeof eventType !== \"string\") {\n        errors.push(\"event type must be a string\");\n    }\n    if (!target) {\n        errors.push(\"cannot find target\");\n    } else if (!options.skipVisibilityCheck && !isVisible(target)) {\n        errors.push(\"target is not visible\");\n    }\n    if (errors.length) {\n        throw new Error(\n            `Cannot trigger event${eventType ? ` \"${eventType}\"` : \"\"}${\n                selector ? ` (with selector \"${selector}\")` : \"\"\n            }: ${errors.join(\" and \")}`\n        );\n    }\n\n    // Actual dispatch\n    const [Constructor, processParams] = getEventConstructor(eventType);\n    const event = new Constructor(eventType, processParams(eventInit));\n    target.dispatchEvent(event);\n\n    if (window.QUnit && QUnit.config.debug) {\n        const group = `%c[${event.type.toUpperCase()}]`;\n        console.groupCollapsed(group, \"color: #b52c9b\");\n        console.log(target, event);\n        console.groupEnd(group, \"color: #b52c9b\");\n    }\n\n    if (options.sync) {\n        return event;\n    } else {\n        return nextTick().then(() => event);\n    }\n}\n\n/**\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {(EventType | [EventType, EventInit])[]} [eventDefs]\n * @param {TriggerEventOptions} [options={}]\n */\nexport function triggerEvents(el, selector, eventDefs, options = {}) {\n    const events = [...eventDefs].map((eventDef) => {\n        const [eventType, eventInit] = Array.isArray(eventDef) ? eventDef : [eventDef, {}];\n        return triggerEvent(el, selector, eventType, eventInit, options);\n    });\n    if (options.sync) {\n        return events;\n    } else {\n        return nextTick().then(() => events);\n    }\n}\n\n/**\n * Triggers a scroll event on the given target\n *\n * If the target cannot be scrolled or an axis has reached\n * the end of the scrollable area, the event can be transmitted\n * to its nearest parent until it can be triggered\n *\n * @param {Element} target target of the scroll event\n * @param {Object} coordinates\n * @param {number} coordinates.left coordinates to scroll horizontally\n * @param {number} coordinates.top coordinates to scroll vertically\n * @param {boolean} canPropagate states if the scroll can propagate to a scrollable parent\n */\nexport async function triggerScroll(\n    target,\n    coordinates = { left: null, top: null },\n    canPropagate = true\n) {\n    const isScrollable =\n        (target.scrollHeight > target.clientHeight && target.clientHeight > 0) ||\n        (target.scrollWidth > target.clientWidth && target.clientWidth > 0);\n    if (!isScrollable && !canPropagate) {\n        return;\n    }\n    if (isScrollable) {\n        const canScrollFrom = {\n            left:\n                coordinates.left > target.scrollLeft\n                    ? target.scrollLeft + target.clientWidth < target.scrollWidth\n                    : target.scrollLeft > 0,\n            top:\n                coordinates.top > target.scrollTop\n                    ? target.scrollTop + target.clientHeight < target.scrollHeight\n                    : target.scrollTop > 0,\n        };\n        const scrollCoordinates = {};\n        Object.entries(coordinates).forEach(([key, value]) => {\n            if (value !== null && canScrollFrom[key]) {\n                scrollCoordinates[key] = value;\n                delete coordinates[key];\n            }\n        });\n        target.scrollTo(scrollCoordinates);\n        await triggerEvent(target, null, \"scroll\");\n        if (!canPropagate || !Object.entries(coordinates).length) {\n            return;\n        }\n    }\n    target.parentElement\n        ? triggerScroll(target.parentElement, coordinates)\n        : triggerEvent(window, null, \"scroll\");\n    await nextTick();\n}\n\nexport function click(\n    el,\n    selector,\n    { mouseEventInit = {}, skipDisabledCheck = false, skipVisibilityCheck = false } = {}\n) {\n    if (!skipDisabledCheck && el.disabled) {\n        throw new Error(\"Can't click on a disabled button\");\n    }\n    return triggerEvents(\n        el,\n        selector,\n        [\"pointerdown\", \"mousedown\", \"focus\", \"pointerup\", \"mouseup\", [\"click\", mouseEventInit]],\n        { skipVisibilityCheck }\n    );\n}\n\nexport function clickCreate(htmlElement) {\n    if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .d-none.d-xl-inline-flex .o_form_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .d-none.d-xl-inline-flex .o_form_button_create\"\n        );\n    } else if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .d-none.d-xl-inline-flex .o_list_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .d-none.d-xl-inline-flex .o_list_button_create\"\n        );\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport function clickEdit(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_list_button_edit\").length) {\n        return click(htmlElement, \".o_list_button_edit\");\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport async function clickSave(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_save\").length) {\n        return click(htmlElement, \".o_form_button_save\");\n    }\n    const listSaveButtons = htmlElement.querySelectorAll(\".o_list_button_save\");\n    if (listSaveButtons.length) {\n        return listSaveButtons.length >= 2 ? click(listSaveButtons[1]) : click(listSaveButtons[0]);\n    } else {\n        throw new Error(\"No save button found to be clicked.\");\n    }\n}\n\nexport async function clickDiscard(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_cancel\").length) {\n        return click(htmlElement, \".o_form_button_cancel\");\n    } else if ($(htmlElement).find(\".o_list_button_discard:visible\").length) {\n        return click($(htmlElement).find(\".o_list_button_discard:visible\").get(0));\n    } else {\n        throw new Error(\"No discard button found to be clicked.\");\n    }\n}\n\n/**\n * Trigger pointerenter and mouseenter events on the given target. If no\n * coordinates are given, the event is located by default\n * in the middle of the target to simplify the test process\n *\n * @param {Element} el\n * @param {string} selector\n * @param {Object} coordinates position of the mouseenter event\n */\nexport async function mouseEnter(el, selector, coordinates) {\n    const target = el.querySelector(selector) || el;\n    const atPos = coordinates || {\n        clientX: target.getBoundingClientRect().left + target.getBoundingClientRect().width / 2,\n        clientY: target.getBoundingClientRect().top + target.getBoundingClientRect().height / 2,\n    };\n    return triggerEvents(target, null, [\"pointerenter\", \"mouseenter\"], atPos);\n}\n\n/**\n * Trigger pointerleave and mouseleave events on the given target.\n *\n * @param {Element} el\n * @param {string} selector\n */\nexport async function mouseLeave(el, selector) {\n    const target = el.querySelector(selector) || el;\n    return triggerEvents(target, null, [\"pointerleave\", \"mouseleave\"]);\n}\n\nexport async function editInput(el, selector, value) {\n    const input = findElement(el, selector);\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) {\n        throw new Error(\"Only 'input' and 'textarea' elements can be edited with 'editInput'.\");\n    }\n    if (\n        ![\"text\", \"textarea\", \"email\", \"search\", \"color\", \"number\", \"file\", \"tel\"].includes(\n            input.type\n        )\n    ) {\n        throw new Error(`Type \"${input.type}\" not supported by 'editInput'.`);\n    }\n\n    const eventOpts = {};\n    if (input.type === \"file\") {\n        const files = Array.isArray(value) ? value : [value];\n        const dataTransfer = new DataTransfer();\n        for (const file of files) {\n            if (!(file instanceof File)) {\n                throw new Error(`File input value should be one or several File objects.`);\n            }\n            dataTransfer.items.add(file);\n        }\n        input.files = dataTransfer.files;\n        eventOpts.skipVisibilityCheck = true;\n    } else {\n        input.value = value;\n    }\n\n    await triggerEvents(input, null, [\"input\", \"change\"], eventOpts);\n\n    if (input.type === \"file\") {\n        // Need to wait for the file to be loaded by the input\n        await nextTick();\n        await nextTick();\n    }\n}\n\nexport function editSelect(el, selector, value) {\n    const select = findElement(el, selector);\n    if (select.tagName !== \"SELECT\") {\n        throw new Error(\"Only select tag can be edited with selectInput.\");\n    }\n    select.value = value;\n    return triggerEvent(select, null, \"change\");\n}\n\nexport async function editSelectMenu(el, selector, value) {\n    const dropdown = el.querySelector(selector);\n    await click(dropdown.querySelector(\".dropdown-toggle\"));\n    for (const item of Array.from(dropdown.querySelectorAll(\".dropdown-item\"))) {\n        if (item.textContent === value) {\n            return click(item);\n        }\n    }\n}\n\n/**\n * Triggers an hotkey properly disregarding the operating system.\n *\n * @param {string} hotkey\n * @param {boolean} addOverlayModParts\n * @param {KeyboardEventInit} eventAttrs\n */\nexport async function triggerHotkey(hotkey, addOverlayModParts = false, eventAttrs = {}) {\n    eventAttrs.key = hotkey.split(\"+\").pop();\n\n    if (/shift/i.test(hotkey)) {\n        eventAttrs.shiftKey = true;\n    }\n\n    if (/control/i.test(hotkey)) {\n        if (isMacOS()) {\n            eventAttrs.metaKey = true;\n        } else {\n            eventAttrs.ctrlKey = true;\n        }\n    }\n\n    if (/alt/i.test(hotkey) || addOverlayModParts) {\n        if (isMacOS()) {\n            eventAttrs.ctrlKey = true;\n        } else {\n            eventAttrs.altKey = true;\n        }\n    }\n\n    if (!(\"bubbles\" in eventAttrs)) {\n        eventAttrs.bubbles = true;\n    }\n\n    const [keydownEvent, keyupEvent] = await triggerEvents(\n        document.activeElement,\n        null,\n        [\n            [\"keydown\", eventAttrs],\n            [\"keyup\", eventAttrs],\n        ],\n        { skipVisibilityCheck: true }\n    );\n\n    return { keydownEvent, keyupEvent };\n}\n\nexport function mockDownload(cb) {\n    patchWithCleanup(download, { _download: cb });\n}\n\nexport const hushConsole = Object.create(null);\nfor (const propName of Object.keys(window.console)) {\n    hushConsole[propName] = () => {};\n}\n\nexport function mockSendBeacon(mock) {\n    patchWithCleanup(navigator, {\n        sendBeacon: (url, blob) => {\n            return mock(url, blob) !== false;\n        },\n    });\n}\n\nexport function mockTimeout() {\n    const timeouts = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        setTimeout(fn, delay = 0) {\n            timeouts.set(id, { fn, scheduledFor: delay + currentTime, id });\n            return id++;\n        },\n        clearTimeout(id) {\n            timeouts.delete(id);\n        },\n    });\n    return {\n        execRegisteredTimeouts() {\n            for (const { fn } of timeouts.values()) {\n                fn();\n            }\n            timeouts.clear();\n        },\n        async advanceTime(duration) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += duration;\n            for (const { fn, scheduledFor, id } of timeouts.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn();\n                    timeouts.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport function mockAnimationFrame() {\n    const callbacks = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        requestAnimationFrame(fn) {\n            callbacks.set(id, { fn, scheduledFor: 16 + currentTime, id });\n            return id++;\n        },\n        cancelAnimationFrame(id) {\n            callbacks.delete(id);\n        },\n        performance: { now: () => currentTime },\n    });\n    return {\n        execRegisteredAnimationFrames() {\n            for (const { fn } of callbacks.values()) {\n                fn(currentTime);\n            }\n            callbacks.clear();\n        },\n        async advanceFrame(count = 1) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += 16 * count;\n            for (const { fn, scheduledFor, id } of callbacks.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn(currentTime);\n                    callbacks.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport async function mount(Comp, target, config = {}) {\n    let { props, env } = config;\n    env = env || {};\n    const configuration = {\n        env,\n        templates,\n        test: true,\n        props,\n    };\n    if (env.services && \"localization\" in env.services) {\n        configuration.translateFn = _t;\n    }\n    const app = new App(Comp, configuration);\n    registerCleanup(() => app.destroy());\n    return app.mount(target);\n}\n\nexport function destroy(comp) {\n    comp.__owl__.app.destroy();\n}\n\nexport function findChildren(comp, predicate = (e) => e) {\n    const queue = [];\n    [].unshift.apply(queue, Object.values(comp.__owl__.children));\n\n    while (queue.length > 0) {\n        const curNode = queue.pop();\n        if (predicate(curNode)) {\n            return curNode;\n        }\n        [].unshift.apply(queue, Object.values(curNode.component.__owl__.children));\n    }\n}\n\n// partial replacement of t-ref on component\nexport function useChild() {\n    const node = useComponent().__owl__;\n    const setChild = () => {\n        const componentNode = Object.values(node.children)[0];\n        node.component.child = componentNode.component;\n    };\n    onMounted(setChild);\n    onPatched(setChild);\n}\n\nexport function useLogLifeCycle(logFn, name = \"\") {\n    const component = useComponent();\n    let loggedName = `${component.constructor.name}`;\n    if (name) {\n        loggedName = `${component.constructor.name} ${name}`;\n    }\n    onError(() => {\n        logFn(`onError ${loggedName}`);\n    });\n    onMounted(() => {\n        logFn(`onMounted ${loggedName}`);\n    });\n    onPatched(() => {\n        logFn(`onPatched ${loggedName}`);\n    });\n    onRendered(() => {\n        logFn(`onRendered ${loggedName}`);\n    });\n    onWillDestroy(() => {\n        logFn(`onWillDestroy ${loggedName}`);\n    });\n    onWillPatch(() => {\n        logFn(`onWillPatch ${loggedName}`);\n    });\n    onWillRender(() => {\n        logFn(`onWillRender ${loggedName}`);\n    });\n    onWillStart(() => {\n        logFn(`onWillStart ${loggedName}`);\n    });\n    onWillUnmount(() => {\n        logFn(`onWillUnmount ${loggedName}`);\n    });\n    onWillUpdateProps(() => {\n        logFn(`onWillUpdateProps ${loggedName}`);\n    });\n}\n\n/**\n * Returns the list of nodes containing n2 (included) that do not contain n1.\n *\n * @param {Node} n1\n * @param {Node} n2\n * @returns {Node[]}\n */\nfunction getDifferentParents(n1, n2) {\n    const parents = [n2];\n    while (parents[0].parentNode) {\n        const parent = parents[0].parentNode;\n        if (parent.contains(n1)) {\n            break;\n        }\n        parents.unshift(parent);\n    }\n    return parents;\n}\n\n/**\n * Helper performing a drag and drop sequence.\n *\n * - 'from' is used to determine the element on which the drag will start;\n * - 'target' will determine the element on which the first one will be dropped.\n *\n * The first element will be dragged by its center, and will be dropped on the\n * bottom-right inner pixel of the target element. This behavior covers both\n * cases of appending the first element to the end of a list (toSelector =\n * target list) or moving it at the position of another element, effectively\n * placing the first element before the second (toSelector = other element).\n *\n * A position can be given to drop the first element above, below, or on the\n * side of the second (default is inside, as specified above).\n *\n * Note that only the last event is awaited, since all the others are\n * considered to be synchronous.\n *\n * @param {Element | string} from\n * @param {Element | string} to\n * @param {Position} [position]\n */\nexport async function dragAndDrop(from, to, position) {\n    const { drop } = await drag(from);\n    await drop(to, position);\n}\n\n/**\n * Helper performing a drag.\n *\n * - the 'from' selector is used to determine the element on which the drag will\n *  start;\n * - the 'target' selector will determine the element on which the dragged element will be\n * moved.\n *\n * Returns a drop function\n *\n * @param {Element | string} from\n */\nexport async function drag(from, pointerType = \"mouse\") {\n    const assertIsDragging = (fn, endDrag) => {\n        return {\n            async [fn.name](...args) {\n                if (dragEndReason) {\n                    throw new Error(\n                        `Cannot execute drag helper '${fn.name}': drag sequence has been ended by '${dragEndReason}'.`\n                    );\n                }\n                await fn(...args);\n                if (endDrag) {\n                    dragEndReason = fn.name;\n                }\n            },\n        }[fn.name];\n    };\n\n    const cancel = assertIsDragging(async function cancel() {\n        await triggerEvent(window, null, \"keydown\", { key: \"Escape\" });\n    }, true);\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const drop = assertIsDragging(async function drop(to, position) {\n        if (to) {\n            await moveTo(to, position);\n        }\n        await triggerEvent(target || source, null, \"pointerup\", targetPosition);\n    }, true);\n\n    /**\n     * @param {Element | string} selector\n     */\n    const getEl = (selector) =>\n        selector instanceof Element ? selector : fixture.querySelector(selector);\n\n    /**\n     * @param {Position} [position]\n     */\n    const getTargetPosition = (position) => {\n        const tRect = target.getBoundingClientRect();\n        const tPos = {\n            clientX: Math.floor(tRect.x),\n            clientY: Math.floor(tRect.y),\n        };\n        if (position && typeof position === \"object\") {\n            // x and y coordinates start from the element's initial coordinates\n            tPos.clientX += position.x || 0;\n            tPos.clientY += position.y || 0;\n        } else {\n            const positions = typeof position === \"string\" ? position.split(\"-\") : [];\n\n            // X position\n            if (positions.includes(\"left\")) {\n                tPos.clientX -= 1;\n            } else if (positions.includes(\"right\")) {\n                tPos.clientX += Math.ceil(tRect.width) + 1;\n            } else {\n                tPos.clientX += Math.floor(tRect.width / 2);\n            }\n\n            // Y position\n            if (positions.includes(\"top\")) {\n                tPos.clientY -= 1;\n            } else if (positions.includes(\"bottom\")) {\n                tPos.clientY += Math.ceil(tRect.height) + 1;\n            } else {\n                tPos.clientY += Math.floor(tRect.height / 2);\n            }\n        }\n        return tPos;\n    };\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const moveTo = assertIsDragging(async function moveTo(to, position) {\n        target = getEl(to);\n        if (!target) {\n            return;\n        }\n\n        // Recompute target position\n        targetPosition = getTargetPosition(position);\n\n        // Move, enter and drop the element on the target\n        await triggerEvent(source, null, \"pointermove\", targetPosition);\n\n        // \"pointerenter\" is fired on every parent of `target` that do not contain\n        // `from` (typically: different parent lists).\n        for (const parent of getDifferentParents(source, target)) {\n            triggerEvent(parent, null, \"pointerenter\", targetPosition);\n        }\n        await nextTick();\n\n        return dragHelpers;\n    }, false);\n\n    const dragHelpers = { cancel, drop, moveTo };\n    const fixture = getFixture();\n\n    const source = getEl(from instanceof Element ? from : fixture.querySelector(from));\n    const sourceRect = source.getBoundingClientRect();\n\n    let dragEndReason = null;\n    let target;\n    let targetPosition;\n\n    // Pointer down on main target\n    await triggerEvent(source, null, \"pointerdown\", {\n        pointerType,\n        clientX: sourceRect.x + sourceRect.width / 2,\n        clientY: sourceRect.y + sourceRect.height / 2,\n    });\n\n    return dragHelpers;\n}\n\nexport async function clickDropdown(target, fieldName) {\n    const dropdownInput = target.querySelector(`[name='${fieldName}'] .dropdown input`);\n    dropdownInput.focus();\n    await nextTick();\n    await click(dropdownInput);\n}\n\nexport async function clickOpenedDropdownItem(target, fieldName, itemContent) {\n    const dropdowns = target.querySelectorAll(`[name='${fieldName}'] .dropdown .dropdown-menu`);\n    if (dropdowns.length === 0) {\n        throw new Error(`No dropdown found for field ${fieldName}`);\n    } else if (dropdowns.length > 1) {\n        throw new Error(`Found ${dropdowns.length} dropdowns for field ${fieldName}`);\n    }\n    const dropdownItems = dropdowns[0].querySelectorAll(\"li\");\n    const indexToClick = Array.from(dropdownItems)\n        .map((html) => html.textContent)\n        .indexOf(itemContent);\n    if (indexToClick === -1) {\n        throw new Error(`The element '${itemContent}' does not exist in the dropdown`);\n    }\n    await click(dropdownItems[indexToClick]);\n}\n\nexport async function selectDropdownItem(target, fieldName, itemContent) {\n    await clickDropdown(target, fieldName);\n    await clickOpenedDropdownItem(target, fieldName, itemContent);\n}\n\nexport function getNodesTextContent(nodes) {\n    return Array.from(nodes).map((n) => n.textContent);\n}\n\n/**\n * Click to open the dropdown on a many2one\n */\nexport async function clickOpenM2ODropdown(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n\n    await click(matches[0]);\n    return matches[0];\n}\n\n/**\n * Click on the active (highlighted) selection in a m2o dropdown.\n */\n// TO FIX\nexport async function clickM2OHighlightedItem(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    // const $dropdown = $(m2oSelector).autocomplete('widget');\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n    // clicking on an li (no matter which one), will select the focussed one\n    return click(matches[0].parentElement.querySelector(\"li\"));\n}\n\n// X2Many\nexport async function addRow(target, selector) {\n    await click(target.querySelector(`${selector ? selector : \"\"} .o_field_x2many_list_row_add a`));\n}\n\nexport async function removeRow(target, index) {\n    await click(target.querySelectorAll(\".o_list_record_remove\")[index]);\n}\n", "/* @odoo-module */\n\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { registerCleanup } from \"@web/../tests/helpers/cleanup\";\nimport {\n    click as webClick,\n    getFixture,\n    makeDeferred,\n    triggerEvents as webTriggerEvents,\n} from \"@web/../tests/helpers/utils\";\n\n/**\n * Create a file object, which can be used for drag-and-drop.\n *\n * @param {Object} data\n * @param {string} data.name\n * @param {string} data.content\n * @param {string} data.contentType\n * @returns {Promise<Object>} resolved with file created\n */\nexport function createFile(data) {\n    // Note: this is only supported by Chrome, and does not work in Incognito mode\n    return new Promise(function (resolve, reject) {\n        var requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        if (!requestFileSystem) {\n            throw new Error(\"FileSystem API is not supported\");\n        }\n        requestFileSystem(window.TEMPORARY, 1024 * 1024, function (fileSystem) {\n            fileSystem.root.getFile(data.name, { create: true }, function (fileEntry) {\n                fileEntry.createWriter(function (fileWriter) {\n                    fileWriter.onwriteend = function (e) {\n                        fileSystem.root.getFile(data.name, {}, function (fileEntry) {\n                            fileEntry.file(function (file) {\n                                resolve(file);\n                            });\n                        });\n                    };\n                    fileWriter.write(new Blob([data.content], { type: data.contentType }));\n                });\n            });\n        });\n    });\n}\n\n/**\n * Create a fake object 'dataTransfer', linked to some files,\n * which is passed to drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction createFakeDataTransfer(files) {\n    return {\n        dropEffect: \"all\",\n        effectAllowed: \"all\",\n        files,\n        items: [],\n        types: [\"Files\"],\n    };\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then clicks on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.shiftKey]\n */\nexport async function click(selector, options = {}) {\n    const { shiftKey } = options;\n    delete options.shiftKey;\n    await contains(selector, { click: { shiftKey }, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragenters `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragenterFiles(selector, files, options) {\n    await contains(selector, { dragenterFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragovers `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragoverFiles(selector, files, options) {\n    await contains(selector, { dragoverFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then drops `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dropFiles(selector, files, options) {\n    await contains(selector, { dropFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inputs `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function inputFiles(selector, files, options) {\n    await contains(selector, { inputFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then pastes `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function pasteFiles(selector, files, options) {\n    await contains(selector, { pasteFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then focuses on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function focus(selector, options) {\n    await contains(selector, { setFocus: true, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inserts the given `content`.\n *\n * @param {string} selector\n * @param {string} content\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.replace=false]\n */\nexport async function insertText(selector, content, options = {}) {\n    const { replace = false } = options;\n    delete options.replace;\n    await contains(selector, { ...options, insertText: { content, replace } });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then sets its `scrollTop` to the given value.\n *\n * @param {string} selector\n * @param {number|\"bottom\"} scrollTop\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function scroll(selector, scrollTop, options) {\n    await contains(selector, { setScroll: scrollTop, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then triggers `event` on it.\n *\n * @param {string} selector\n * @param {(import(\"@web/../tests/helpers/utils\").EventType|[import(\"@web/../tests/helpers/utils\").EventType, EventInit])[]} events\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function triggerEvents(selector, events, options) {\n    await contains(selector, { triggerEvents: events, ...options });\n}\n\nfunction log(ok, message) {\n    if (window.QUnit) {\n        QUnit.assert.ok(ok, message);\n    } else {\n        if (ok) {\n            console.log(message);\n        } else {\n            console.error(message);\n        }\n    }\n}\n\nlet hasUsedContainsPositively = false;\nif (window.QUnit) {\n    QUnit.testStart(() => (hasUsedContainsPositively = false));\n}\n/**\n * @typedef {[string, ContainsOptions]} ContainsTuple tuple representing params of the contains\n *  function, where the first element is the selector, and the second element is the options param.\n * @typedef {Object} ContainsOptions\n * @property {ContainsTuple} [after] if provided, the found element(s) must be after the element\n *  matched by this param.\n * @property {ContainsTuple} [before] if provided, the found element(s) must be before the element\n *  matched by this param.\n * @property {Object} [click] if provided, clicks on the first found element\n * @property {ContainsTuple|ContainsTuple[]} [contains] if provided, the found element(s) must\n *  contain the provided sub-elements.\n * @property {number} [count=1] numbers of elements to be found to declare the contains check\n *  as successful. Elements are counted after applying all other filters.\n * @property {Object[]} [dragenterFiles] if provided, dragenters the given files on the found element\n * @property {Object[]} [dragoverFiles] if provided, dragovers the given files on the found element\n * @property {Object[]} [dropFiles] if provided, drops the given files on the found element\n * @property {Object[]} [inputFiles] if provided, inputs the given files on the found element\n * @property {{content:string, replace:boolean}} [insertText] if provided, adds to (or replace) the\n *  value of the first found element by the given content.\n * @property {ContainsTuple} [parent] if provided, the found element(s) must have as\n *  parent the node matching the parent parameter.\n * @property {Object[]} [pasteFiles] if provided, pastes the given files on the found element\n * @property {number|\"bottom\"} [scroll] if provided, the scrollTop of the found element(s)\n *  must match.\n *  Note: when using one of the scrollTop options, it is advised to ensure the height is not going\n *  to change soon, by checking with a preceding contains that all the expected elements are in DOM.\n * @property {boolean} [setFocus] if provided, focuses the first found element.\n * @property {boolean} [shadowRoot] if provided, targets the shadowRoot of the found elements.\n * @property {number|\"bottom\"} [setScroll] if provided, sets the scrollTop on the first found\n *  element.\n * @property {HTMLElement} [target=getFixture()]\n * @property {string[]} [triggerEvents] if provided, triggers the given events on the found element\n * @property {string} [text] if provided, the textContent of the found element(s) or one of their\n *  descendants must match. Use `textContent` option for a match on the found element(s) only.\n * @property {string} [textContent] if provided, the textContent of the found element(s) must match.\n *  Prefer `text` option for a match on the found element(s) or any of their descendants, usually\n *  allowing for a simpler and less specific selector.\n * @property {string} [value] if provided, the input value of the found element(s) must match.\n *  Note: value changes are not observed directly, another mutation must happen to catch them.\n * @property {boolean} [visible] if provided, the found element(s) must be (in)visible\n */\nclass Contains {\n    /**\n     * @param {string} selector\n     * @param {ContainsOptions} [options={}]\n     */\n    constructor(selector, options = {}) {\n        this.selector = selector;\n        this.options = options;\n        this.options.count ??= 1;\n        this.options.targetParam = this.options.target;\n        this.options.target ??= getFixture();\n        let selectorMessage = `${this.options.count} of \"${this.selector}\"`;\n        if (this.options.visible !== undefined) {\n            selectorMessage = `${selectorMessage} ${\n                this.options.visible ? \"visible\" : \"invisible\"\n            }`;\n        }\n        if (this.options.targetParam) {\n            selectorMessage = `${selectorMessage} inside a specific target`;\n        }\n        if (this.options.parent) {\n            selectorMessage = `${selectorMessage} inside a specific parent`;\n        }\n        if (this.options.contains) {\n            selectorMessage = `${selectorMessage} with a specified sub-contains`;\n        }\n        if (this.options.text !== undefined) {\n            selectorMessage = `${selectorMessage} with text \"${this.options.text}\"`;\n        }\n        if (this.options.textContent !== undefined) {\n            selectorMessage = `${selectorMessage} with textContent \"${this.options.textContent}\"`;\n        }\n        if (this.options.value !== undefined) {\n            selectorMessage = `${selectorMessage} with value \"${this.options.value}\"`;\n        }\n        if (this.options.scroll !== undefined) {\n            selectorMessage = `${selectorMessage} with scroll \"${this.options.scroll}\"`;\n        }\n        if (this.options.after !== undefined) {\n            selectorMessage = `${selectorMessage} after a specified element`;\n        }\n        if (this.options.before !== undefined) {\n            selectorMessage = `${selectorMessage} before a specified element`;\n        }\n        this.selectorMessage = selectorMessage;\n        if (this.options.contains && !Array.isArray(this.options.contains[0])) {\n            this.options.contains = [this.options.contains];\n        }\n        if (this.options.count) {\n            hasUsedContainsPositively = true;\n        } else if (!hasUsedContainsPositively) {\n            throw new Error(\n                `Starting a test with \"contains\" of count 0 for selector \"${this.selector}\" is useless because it might immediately resolve. Start the test by checking that an expected element actually exists.`\n            );\n        }\n        /** @type {string} */\n        this.successMessage = undefined;\n        /** @type {function} */\n        this.executeError = undefined;\n    }\n\n    /**\n     * Starts this contains check, either immediately resolving if there is a\n     * match, or registering appropriate listeners and waiting until there is a\n     * match or a timeout (resolving or rejecting respectively).\n     *\n     * Success or failure messages will be logged with QUnit as well.\n     *\n     * @returns {Promise}\n     */\n    run() {\n        this.done = false;\n        this.def = makeDeferred();\n        this.scrollListeners = new Set();\n        this.onScroll = () => this.runOnce(\"after scroll\");\n        if (!this.runOnce(\"immediately\")) {\n            this.timer = setTimeout(\n                () => this.runOnce(\"Timeout of 5 seconds\", { crashOnFail: true }),\n                5000\n            );\n            this.observer = new MutationObserver((mutations) => {\n                try {\n                    this.runOnce(\"after mutations\");\n                } catch (e) {\n                    this.def.reject(e); // prevents infinite loop in case of programming error\n                }\n            });\n            this.observer.observe(this.options.target, {\n                attributes: true,\n                childList: true,\n                subtree: true,\n            });\n            registerCleanup(() => {\n                if (!this.done) {\n                    this.runOnce(\"Test ended\", { crashOnFail: true });\n                }\n            });\n        }\n        return this.def;\n    }\n\n    /**\n     * Runs this contains check once, immediately returning the result (or\n     * undefined), and possibly resolving or rejecting the main promise\n     * (and printing QUnit log) depending on options.\n     * If undefined is returned it means the check was not successful.\n     *\n     * @param {string} whenMessage\n     * @param {Object} [options={}]\n     * @param {boolean} [options.crashOnFail=false]\n     * @param {boolean} [options.executeOnSuccess=true]\n     * @returns {HTMLElement[]|undefined}\n     */\n    runOnce(whenMessage, { crashOnFail = false, executeOnSuccess = true } = {}) {\n        const res = this.select();\n        if (res?.length === this.options.count || crashOnFail) {\n            // clean before doing anything else to avoid infinite loop due to side effects\n            this.observer?.disconnect();\n            clearTimeout(this.timer);\n            for (const el of this.scrollListeners ?? []) {\n                el.removeEventListener(\"scroll\", this.onScroll);\n            }\n            this.done = true;\n        }\n        if (res?.length === this.options.count) {\n            this.successMessage = `Found ${this.selectorMessage} (${whenMessage})`;\n            if (executeOnSuccess) {\n                this.executeAction(res[0]);\n            }\n            return res;\n        } else {\n            this.executeError = () => {\n                let message = `Failed to find ${this.selectorMessage} (${whenMessage}).`;\n                message = res\n                    ? `${message} Found ${res.length} instead.`\n                    : `${message} Parent not found.`;\n                if (this.parentContains) {\n                    if (this.parentContains.successMessage) {\n                        log(true, this.parentContains.successMessage);\n                    } else {\n                        this.parentContains.executeError();\n                    }\n                }\n                log(false, message);\n                this.def?.reject(new Error(message));\n                for (const childContains of this.childrenContains || []) {\n                    if (childContains.successMessage) {\n                        log(true, childContains.successMessage);\n                    } else {\n                        childContains.executeError();\n                    }\n                }\n            };\n            if (crashOnFail) {\n                this.executeError();\n            }\n        }\n    }\n\n    /**\n     * Executes the action(s) given to this constructor on the found element,\n     * prints the success messages, and resolves the main deferred.\n\n     * @param {HTMLElement} el\n     */\n    executeAction(el) {\n        let message = this.successMessage;\n        if (this.options.click) {\n            message = `${message} and clicked it`;\n            webClick(el, undefined, {\n                mouseEventInit: this.options.click,\n                skipDisabledCheck: true,\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.options.dragenterFiles) {\n            message = `${message} and dragentered ${this.options.dragenterFiles.length} file(s)`;\n            const ev = new Event(\"dragenter\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragenterFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dragoverFiles) {\n            message = `${message} and dragovered ${this.options.dragoverFiles.length} file(s)`;\n            const ev = new Event(\"dragover\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragoverFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dropFiles) {\n            message = `${message} and dropped ${this.options.dropFiles.length} file(s)`;\n            const ev = new Event(\"drop\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dropFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.inputFiles) {\n            message = `${message} and inputted ${this.options.inputFiles.length} file(s)`;\n            // could not use _createFakeDataTransfer as el.files assignation will only\n            // work with a real FileList object.\n            const dataTransfer = new window.DataTransfer();\n            for (const file of this.options.inputFiles) {\n                dataTransfer.items.add(file);\n            }\n            el.files = dataTransfer.files;\n            /**\n             * Changing files programatically is not supposed to trigger the event but\n             * it does in Chrome versions before 73 (which is on runbot), so in that\n             * case there is no need to make a manual dispatch, because it would lead to\n             * the files being added twice.\n             */\n            const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n            const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n            if (!chromeVersion || chromeVersion >= 73) {\n                el.dispatchEvent(new Event(\"change\"));\n            }\n        }\n        if (this.options.insertText !== undefined) {\n            message = `${message} and inserted text \"${this.options.insertText.content}\" (replace: ${this.options.insertText.replace})`;\n            el.focus();\n            if (this.options.insertText.replace) {\n                el.value = \"\";\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            for (const char of this.options.insertText.content) {\n                el.value += char;\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: char }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: char }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            el.dispatchEvent(new window.InputEvent(\"change\"));\n        }\n        if (this.options.pasteFiles) {\n            message = `${message} and pasted ${this.options.pasteFiles.length} file(s)`;\n            const ev = new Event(\"paste\", { bubbles: true });\n            Object.defineProperty(ev, \"clipboardData\", {\n                value: createFakeDataTransfer(this.options.pasteFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.setFocus) {\n            message = `${message} and focused it`;\n            el.focus();\n        }\n        if (this.options.setScroll !== undefined) {\n            message = `${message} and set scroll to \"${this.options.setScroll}\"`;\n            el.scrollTop =\n                this.options.setScroll === \"bottom\" ? el.scrollHeight : this.options.setScroll;\n        }\n        if (this.options.triggerEvents) {\n            message = `${message} and triggered \"${this.options.triggerEvents.join(\", \")}\" events`;\n            webTriggerEvents(el, null, this.options.triggerEvents, {\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.parentContains) {\n            log(true, this.parentContains.successMessage);\n        }\n        log(true, message);\n        for (const childContains of this.childrenContains) {\n            log(true, childContains.successMessage);\n        }\n        this.def?.resolve();\n    }\n\n    /**\n     * Returns the found element(s) according to this constructor setup.\n     * If undefined is returned it means the parent cannot be found\n     *\n     * @returns {HTMLElement[]|undefined}\n     */\n    select() {\n        const target = this.selectParent();\n        if (!target) {\n            return;\n        }\n        const baseRes = [...target.querySelectorAll(this.selector)]\n            .map((el) => (this.options.shadowRoot ? el.shadowRoot : el))\n            .filter((el) => el);\n        /** @type {Contains[]} */\n        this.childrenContains = [];\n        const res = baseRes.filter((el, currentIndex) => {\n            let condition =\n                (this.options.textContent === undefined ||\n                    el.textContent.trim() === this.options.textContent) &&\n                (this.options.value === undefined || el.value === this.options.value) &&\n                (this.options.scroll === undefined ||\n                    (this.options.scroll === \"bottom\"\n                        ? Math.abs(el.scrollHeight - el.clientHeight - el.scrollTop) <= 1\n                        : Math.abs(el.scrollTop - this.options.scroll) <= 1));\n            if (condition && this.options.text !== undefined) {\n                if (\n                    el.textContent.trim() !== this.options.text &&\n                    [...el.querySelectorAll(\"*\")].every(\n                        (el) => el.textContent.trim() !== this.options.text\n                    )\n                ) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.contains) {\n                for (const param of this.options.contains) {\n                    const childContains = new Contains(param[0], { ...param[1], target: el });\n                    if (\n                        !childContains.runOnce(`as child of el ${currentIndex + 1})`, {\n                            executeOnSuccess: false,\n                        })\n                    ) {\n                        condition = false;\n                    }\n                    this.childrenContains.push(childContains);\n                }\n            }\n            if (condition && this.options.visible !== undefined) {\n                if (isVisible(el) !== this.options.visible) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.after) {\n                const afterContains = new Contains(this.options.after[0], {\n                    ...this.options.after[1],\n                    target,\n                });\n                const afterEl = afterContains.runOnce(`as \"after\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !afterEl ||\n                    !(el.compareDocumentPosition(afterEl) & Node.DOCUMENT_POSITION_PRECEDING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(afterContains);\n            }\n            if (condition && this.options.before) {\n                const beforeContains = new Contains(this.options.before[0], {\n                    ...this.options.before[1],\n                    target,\n                });\n                const beforeEl = beforeContains.runOnce(`as \"before\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !beforeEl ||\n                    !(el.compareDocumentPosition(beforeEl) & Node.DOCUMENT_POSITION_FOLLOWING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(beforeContains);\n            }\n            return condition;\n        });\n        if (\n            this.options.scroll !== undefined &&\n            this.scrollListeners &&\n            baseRes.length === this.options.count &&\n            res.length !== this.options.count\n        ) {\n            for (const el of baseRes) {\n                if (!this.scrollListeners.has(el)) {\n                    this.scrollListeners.add(el);\n                    el.addEventListener(\"scroll\", this.onScroll);\n                }\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Returns the found element that should act as the target (parent) for the\n     * main selector.\n     * If undefined is returned it means the parent cannot be found.\n     *\n     * @returns {HTMLElement|undefined}\n     */\n    selectParent() {\n        if (this.options.parent) {\n            this.parentContains = new Contains(this.options.parent[0], {\n                ...this.options.parent[1],\n                target: this.options.target,\n            });\n            return this.parentContains.runOnce(`as parent`, { executeOnSuccess: false })?.[0];\n        }\n        return this.options.target;\n    }\n}\n\n/**\n * Waits until `count` elements matching the given `selector` are present in\n * `options.target`.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options]\n * @returns {Promise}\n */\nexport async function contains(selector, options) {\n    await new Contains(selector, options).run();\n}\n\nconst stepState = {\n    expectedSteps: null,\n    deferred: null,\n    timeout: null,\n    currentSteps: [],\n\n    clear() {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.deferred = null;\n        this.currentSteps = [];\n        this.expectedSteps = null;\n    },\n\n    check({ crashOnFail = false } = {}) {\n        const success =\n            this.expectedSteps.length === this.currentSteps.length &&\n            this.expectedSteps.every((s, i) => s === this.currentSteps[i]);\n        if (!success && !crashOnFail) {\n            return;\n        }\n        QUnit.config.current.assert.verifySteps(this.expectedSteps);\n        if (success) {\n            this.deferred.resolve();\n        } else {\n            this.deferred.reject(new Error(\"Steps do not match.\"));\n        }\n        this.clear();\n    },\n};\n\nif (window.QUnit) {\n    QUnit.testStart(() =>\n        registerCleanup(() => {\n            if (stepState.expectedSteps) {\n                stepState.check({ crashOnFail: true });\n            } else {\n                stepState.clear();\n            }\n        })\n    );\n}\n\n/**\n * Indicate the completion of a test step. This step must then be verified by\n * calling `assertSteps`.\n *\n * @param {string} step\n */\nexport function step(step) {\n    stepState.currentSteps.push(step);\n    QUnit.config.current.assert.step(step);\n    if (stepState.expectedSteps) {\n        stepState.check();\n    }\n}\n\n/**\n * Wait for the given steps to be executed or for the timeout to be reached.\n *\n * @param {string[]} steps\n */\nexport function assertSteps(steps) {\n    if (stepState.expectedSteps) {\n        stepState.check({ crashOnFail: true });\n    }\n    stepState.expectedSteps = steps;\n    stepState.deferred = makeDeferred();\n    stepState.timeout = setTimeout(() => stepState.check({ crashOnFail: true }), 2000);\n    stepState.check();\n    return stepState.deferred;\n}\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_date_format\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"text Go Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Go Party')\",\n        },\n        {\n            trigger: \".fa-info-circle\",\n            run: \"click\",\n        },\n        // Format expected from the server for 9 AM at the first day of 2024 is date_format = \"%d/%b/%y\", time_format = \"%I:%M:%S %p\".\n        {\n            trigger: \".o-mail-Activity-details tr:contains('Created') td:contains('01/Jan/24 09:00:00 AM')\",\n            isCheck: true,\n        },\n        {\n            // Default due date is 5 days after creation date.\n            trigger: \".o-mail-Activity-details tr:contains('Due on') td:contains('06/Jan/24')\",\n            isCheck: true,\n        }\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_as_guest_tour.js\", {\n        test: true,\n        steps: () => [\n            {\n                content: \"Channel secret token has been hidden on welcome page\",\n                trigger: \".o-mail-WelcomePage\",\n                run() {\n                    if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                        console.error(\"Channel secret token is still present in URL.\");\n                    }\n                },\n            },\n            {\n                content: \"Click join\",\n                trigger: \"button[title='Join Channel']\",\n                extraTrigger: \".o-mail-Thread\",\n            },\n            {\n                content: \"Check that we are on channel page\",\n                trigger: \".o-mail-Thread\",\n                run() {},\n            },\n        ],\n    });\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { click, contains, createFile, inputFiles } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_public_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussPublic\",\n            extraTrigger: \".o-mail-Thread\",\n            run() {},\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n                const { missing, failed, unloaded } = odoo.loader.findErrors();\n                if ([missing, failed, unloaded].some((arr) => arr.length)) {\n                    console.error(\n                        \"Couldn't load all JS modules.\",\n                        JSON.stringify({ missing, failed, unloaded })\n                    );\n                }\n                document.body.classList.add(\"o_discuss_channel_public_modules_loaded\");\n            },\n            extraTrigger: \".o_discuss_channel_public_modules_loaded\",\n        },\n        {\n            content: \"Wait for all modules loaded check in previous step\",\n            trigger: \".o_discuss_channel_public_modules_loaded\",\n            run() {},\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"text cheese\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [\n                    await createFile({\n                        content: \"hello, world\",\n                        contentType: \"text/plain\",\n                        name: \"text.txt\",\n                    }),\n                ]);\n            },\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: '.o-mail-AttachmentCard[title=\"text.txt\"]',\n            extra_trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n            run() {},\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o-mail-Composer-send:enabled\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"cheese\")',\n            run() {},\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            run() {},\n        },\n        {\n            content: \"Click on more menu\",\n            trigger: \".o-mail-Message [title='Expand']\",\n        },\n        {\n            content: \"Click on edit\",\n            trigger: \".o-mail-Message [title='Edit']\",\n        },\n        {\n            content: \"Edit message\",\n            trigger: \".o-mail-Message .o-mail-Composer-input\",\n            run: \"text vegetables\",\n        },\n        {\n            content: \"Add one more file in composer\",\n            trigger: \".o-mail-Message .o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                inputFiles(\".o-mail-Message .o-mail-Composer-coreMain .o_input_file\", [\n                    await createFile({\n                        content: \"hello 2\",\n                        contentType: \"text/plain\",\n                        name: \"extra.txt\",\n                    }),\n                ]);\n            },\n        },\n        {\n            content: \"Check the earlier provided extra attachment is listed\",\n            trigger: '.o-mail-Message .o-mail-Composer .o-mail-AttachmentCard[title=\"extra.txt\"]',\n            extra_trigger:\n                \".o-mail-Message .o-mail-Composer .o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n            run() {},\n        },\n        {\n            content: \"Save edited message\",\n            trigger: \".o-mail-Message a:contains(save)\",\n        },\n        {\n            content: \"Check message is edited\",\n            trigger: '.o-mail-Message-body:contains(\"vegetables\")',\n            run() {},\n        },\n        {\n            content: \"Check edited message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            run() {},\n        },\n        {\n            content: \"Check edited message contains the extra attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"extra.txt\")',\n            async run() {\n                await click(\".o-mail-AttachmentCard-unlink\", {\n                    parent: [\".o-mail-AttachmentCard\", { text: \"extra.txt\" }],\n                });\n                await click(\".btn\", { text: \"Ok\", parent: [\".modal\", { text: \"Confirmation\" }] });\n                await contains(\".o-mail-AttachmentCard\", { text: \"extra.txt\", count: 0 });\n            },\n        },\n        {\n            content: \"Open search panel\",\n            trigger: \"button[title='Search Messages']\",\n        },\n        {\n            content: \"Search for the attachment name\",\n            trigger: \".o_searchview_input\",\n            run: \"text text.txt\",\n        },\n        {\n            content: \"Trigger the search\",\n            trigger: \"button[aria-label='Search button']\",\n        },\n        {\n            content: \"Check that searched message contains the attachment\",\n            trigger:\n                '.o-mail-SearchMessagesPanel .o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            run() {},\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registry } from \"@web/core/registry\";\n\nimport { markup } from \"@odoo/owl\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_tour\", {\n    url: \"/web#action=mail.action_discuss\",\n    sequence: 80,\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussSidebarCategory-channel .o-mail-DiscussSidebarCategory-add\",\n            content: markup(\n                _t(\n                    \"<p>Channels make it easy to organize information across different topics and groups.</p> <p>Try to <b>create your first channel</b> (e.g. sales, marketing, product XYZ, after work party, etc).</p>\"\n                )\n            ),\n            position: \"bottom\",\n        },\n        {\n            trigger: \".o-discuss-ChannelSelector input\",\n            content: markup(_t(\"<p>Create a channel here.</p>\")),\n            position: \"bottom\",\n            auto: true,\n            run: function (actions) {\n                var t = new Date().getTime();\n                actions.text(\"SomeChannel_\" + t, this.$anchor);\n            },\n        },\n        {\n            trigger: \".o-discuss-ChannelSelector-list\",\n            extra_trigger: \".o-discuss-ChannelSelector-suggestion\",\n            content: markup(_t(\"<p>Create a public or private channel.</p>\")),\n            position: \"right\",\n            run() {\n                document.querySelector(\".o-discuss-ChannelSelector-suggestion\").click();\n            },\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            content: markup(\n                _t(\n                    \"<p><b>Write a message</b> to the members of the channel here.</p> <p>You can notify someone with <i>'@'</i> or link another channel with <i>'#'</i>. Start your message with <i>'/'</i> to get the list of possible commands.</p>\"\n                )\n            ),\n            position: \"top\",\n            width: 350,\n            run: function (actions) {\n                var t = new Date().getTime();\n                actions.text(\"SomeText_\" + t, this.$anchor);\n            },\n        },\n        {\n            trigger: \".o-mail-Composer-send:enabled\",\n            content: _t(\"Post your message on the thread\"),\n            position: \"top\",\n        },\n        {\n            trigger: \".o-mail-Message\",\n            content: _t(\"Click on your message\"),\n            position: \"top\",\n        },\n        {\n            trigger: \".o-mail-Message [title='Expand']\",\n            content: _t(\"Expand options\"),\n            position: \"top\",\n        },\n        {\n            trigger: \".o-mail-Message [title='Mark as Todo']\",\n            content: markup(\n                _t(\"Messages can be <b>starred</b> to remind you to check back later.\")\n            ),\n            position: \"bottom\",\n        },\n        {\n            trigger: \"button:contains(Starred)\",\n            content: _t(\n                \"Once a message has been starred, you can come back and review it at any time here.\"\n            ),\n            position: \"bottom\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarCategory-chat .o-mail-DiscussSidebarCategory-add\",\n            content: markup(\n                _t(\n                    \"<p><b>Chat with coworkers</b> in real-time using direct messages.</p><p><i>You might need to invite users from the Settings app first.</i></p>\"\n                )\n            ),\n            position: \"bottom\",\n        },\n        {\n            trigger: \".o-discuss-ChannelSelector\",\n            auto: true,\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_schedule_from_chatter\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('Call')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']:propValue('Call')\",\n            run: () => {},\n        },\n        {\n            extra_trigger: \"button:contains('Schedule')\",\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"text Play Mario Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Play Mario Party')\",\n        },\n        {\n            trigger: \"button:contains('Activities')\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"text Play Mario Kart\",\n        },\n        {\n            trigger: \"button:contains('Mark as Done')\",\n        },\n        {\n            trigger: \".o-mail-Message:contains('Play Mario Kart')\",\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { contains, createFile, inputFiles } from \"@web/../tests/utils\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_composer.py\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/mail_composer_test_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Wait for the chatter to be fully loaded\",\n            trigger: \".o-mail-Chatter\",\n            async run() {\n                await contains(\".o-mail-Message\", { count: 1 });\n            },\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"text blahblah @Not\",\n        },\n        {\n            content: \"Mention a partner\",\n            trigger: \".o-mail-Composer-suggestion:contains(Not A Demo User)\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [\n                    await createFile({\n                        content: \"hello, world\",\n                        contentType: \"text/plain\",\n                        name: \"text.txt\",\n                    }),\n                ]);\n            },\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            extra_trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check composer keeps open after pushing Escape\",\n            trigger: \".o_mail_composer_form_view\",\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        bubbles: true,\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: '.o_attachment[title=\"text.txt\"]',\n            run() {},\n        },\n        {\n            content: \"Check subject is autofilled\",\n            trigger: '[name=\"subject\"] input',\n            run() {\n                const subjectValue = document.querySelector('[name=\"subject\"] input').value;\n                if (subjectValue !== \"Jane\") {\n                    console.error(\n                        `Full composer should have \"Jane\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Check composer content is kept\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                if (!bodyContent.includes(\"blahblah @Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain text from small composer (\"blahblah @Not A Demo User\") in body input (actual: ${bodyContent})`\n                    );\n                }\n                const mentionLink = document.querySelector(\n                    '.o_field_html[name=\"body\"] a'\n                ).textContent;\n                if (!mentionLink.includes(\"@Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain mention link from small composer (\"@Not A Demo User\") in body input)`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Open templates\",\n            trigger: '.o_field_widget[name=\"template_id\"] input',\n        },\n        {\n            content: \"Check a template is listed\",\n            in_modal: false,\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Test template\")',\n            run() {},\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o_mail_send\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")',\n        },\n        {\n            content: \"Click on envelope to see recipients of message\",\n            trigger:\n                '.o-mail-Message:has(.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")) .o-mail-Message-notification',\n        },\n        {\n            content: \"Check message has correct recipients\",\n            trigger: \".o-mail-MessageNotificationPopover:contains('Not A Demo UserJane')\",\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { contains, scroll } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_message_load_order_tour\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(MyTestChannel)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Thread .o-mail-Message\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 30 });\n                await contains(\".o-mail-Thread\", { scroll: \"bottom\" });\n            },\n        },\n        {\n            trigger: \"*[title='Pinned Messages']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-MessageCard-jump\",\n            run: \"click\",\n        },\n        {\n            // Messages depends on FETCH_LIMIT (currently set to 30) in\n            // the thread service. Thus, at first load the message range\n            // will be (31 - 60). This trigger ensures the next messages\n            // are fetched after jumping to the message.\n            trigger:\n                \".o-mail-Thread .o-mail-Message:first .o-mail-Message-textContent:not(:contains(31))\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 16 });\n                await contains(\".o-mail-Thread\", { scroll: 0 });\n                // ensure 1 - 16 are loaded in order: 15 below and the\n                // one we're loading messages around.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 16; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading around\");\n                    }\n                }\n                await scroll(\".o-mail-Thread\", \"bottom\");\n            },\n        },\n        {\n            // After jumping to the pinned message, the message range\n            // was (1 -16): 15 before (but none were found), 15 after\n            // and the pinned message itself. This trigger ensures the\n            // next messages are fetched after scrolling to the bottom.\n            trigger: \".o-mail-Thread .o-mail-Message .o-mail-Message-textContent:contains(17)\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 46 });\n                // ensure 1 - 46  are loaded in order.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 46; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading after\");\n                    }\n                }\n            },\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { contains } from \"@web/../tests/utils\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_template_dynamic_placeholder_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Go into the Setting \"app\"',\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        },\n        {\n            content: \"Open email templates\",\n            trigger: 'button[name=\"open_mail_templates\"]',\n        },\n        {\n            content: \"Create a new email template\",\n            trigger: \"button.o_list_button_add\",\n        },\n        {\n            content: 'Insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            async run(actions) {\n                actions.text(`no_model_id #`, this.$anchor);\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { bubbles: true, key: \"#\" })\n                );\n                await contains(\"div[name='subject'] input[type='text']\", {\n                    value: \"no_model_id #\",\n                });\n                await contains(\".o_notification\", {\n                    text: \"You need to select a model before opening the dynamic placeholder selector.\",\n                });\n            },\n        },\n        {\n            content: 'Select \"Contact\" model',\n            trigger: 'div[name=\"model_id\"] input[type=\"text\"]',\n            run: \"text Contact\",\n        },\n        {\n            content: \"Wait for the autocomplete RPC\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete:contains(\"Contact\")',\n            isCheck: true,\n        },\n        {\n            content: \"Click on contact\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete',\n            run: async function () {\n                const contact = Array.from(\n                    document.querySelectorAll(\n                        'div[name=\"model_id\"] .ui-autocomplete .dropdown-item'\n                    )\n                ).find((el) => el.textContent === \"Contact\");\n                await contact.click();\n            },\n        },\n        {\n            content: \"Wait for the drop down to disappear\",\n            trigger: 'div[name=\"model_id\"] .o-autocomplete:not(:has(.ui-autocomplete))',\n            run: async () => {\n                // Ensure the system has registered a correct model value before\n                // we try to open the DPH.\n                // It seems that the autocomplete validation can be very slow.\n                await new Promise((r) => setTimeout(r, 200));\n            },\n        },\n        {\n            content: 'Retry insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run(actions) {\n                actions.text(`yes_model_id #`, this.$anchor);\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { bubbles: true, key: \"#\" })\n                );\n            },\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n            isCheck: true,\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"text name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover li:first-child button:contains(\"Name\")',\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"text defValue\",\n        },\n        {\n            content: \"Click on the the dynamic placeholder default value\",\n            trigger: \"div.o_model_field_selector_popover li:first-child button\",\n        },\n        {\n            content: \"Wait for the popover to disappear\",\n            trigger: \"body:not(:has(.o_model_field_selector_popover))\",\n        },\n        {\n            content: \"Check if subject value was correclty updated\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.$anchor[0].value;\n                const correctValue = \"yes_model_id {{object.name or '''defValue'''}}\";\n                if (subjectValue !== correctValue) {\n                    console.error(\n                        `Email template should have \"${correctValue}\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Insert tesxt inside editable\",\n            trigger: \".note-editable.odoo-editor-editable\",\n            run(actions) {\n                actions.text(`/`, this.$anchor);\n                document.querySelector(\".note-editable\").dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Click on the the dynamic placeholder commandBar options\",\n            trigger: \"div.oe-powerbox-commandWrapper:contains(Dynamic Placeholder)\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"text name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover li:first-child button:contains(\"Name\")',\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"text defValue\",\n        },\n        {\n            content: \"Click on the the dynamic placeholder default value\",\n            trigger: \"div.o_model_field_selector_popover li:first-child button\",\n        },\n        {\n            content: \"Ensure the editable contain the dynamic placeholder t tag\",\n            trigger:\n                \".note-editable.odoo-editor-editable t[t-out=\\\"object.name or '''defValue'''\\\"]\",\n        },\n        {\n            content: \"Discard form changes\",\n            trigger: \"button.o_form_button_cancel\",\n        },\n        {\n            content: \"Wait for the form view to disappear\",\n            trigger: \"body:not(:has(.o_form_sheet))\",\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Verify that a user can modify their own profile information.\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/user_modify_own_profile_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Open user account menu\",\n            trigger: \".o_user_menu button\",\n        },\n        {\n            content: \"Open preferences / profile screen\",\n            trigger: \"[data-menu=settings]\",\n        },\n        {\n            content: \"Update the email address\",\n            trigger: 'div[name=\"email\"] input',\n            run: \"text updatedemail@example.com\",\n        },\n        {\n            content: \"Save the form\",\n            trigger: 'button[name=\"preference_save\"]',\n            extra_trigger: \"body.modal-open\",\n        },\n        {\n            content: \"Wait until the modal is closed\",\n            isCheck: true,\n            trigger: \"body:not(.modal-open)\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('portal_load_homepage', {\n    test: true,\n    url: '/my',\n    steps: () => [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]',\n            isCheck: true,\n        },\n        {\n            content: 'type a different phone number',\n            trigger: 'input[name=\"phone\"]',\n            run: 'text +1 555 666 7788',\n        },\n        {\n            content: \"Submit the form\",\n            trigger: 'button[type=submit]',\n        },\n        {\n            content: \"Check that we are back on the portal\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n            isCheck: true,\n        }\n    ]\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_tax_group', {\n    test: true,\n    url: \"/web\",\n    steps: () => [stepUtils.showAppsMenuItem(),\n    {\n        id: 'account_menu_click',\n        content: \"Go to Invoicing\",\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n    },\n    {\n        content: \"Go to Vendors\",\n        trigger: 'span:contains(\"Vendors\")',\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'a:contains(\"Bills\")',\n    },\n    {\n        extra_trigger: '.o_breadcrumb .text-truncate:contains(\"Bills\")',\n        content: \"Create new bill\",\n        trigger: '.o_control_panel_main_buttons .d-none .o_list_button_add',\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_res_partner_many2one[name=\"partner_id\"] div input',\n        run: 'text Account Tax Group Partner',\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Account Tax Group Partner\")',\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n    },\n    {\n        content: \"Type item\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n        run: \"text Account Tax Group Product\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Account Tax Group Product\")',\n    },\n    // Save account.move\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    ...stepUtils.saveForm(),\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: function (actions) {\n            $('.o_tax_group_edit_input input').val(200);\n            $('.o_tax_group_edit_input input').select();\n            $('.o_tax_group_edit_input input').blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"800\")',\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"]',\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: 'text 2',\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: function (actions) {\n            let keydownEvent = jQuery.Event('keydown');\n            keydownEvent.key = \"Enter\";\n            this.$anchor.trigger(keydownEvent);\n        },\n    },\n    // Save form\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    ...stepUtils.saveForm(),\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n    {\n        content: \"Edit tax value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: 'text 2'\n    },\n    {\n        content: \"Check new value of total\",\n        trigger: '.oe_subtotal_footer_separator:contains(\"1,202\")',\n    },\n    {\n        content: \"Discard changes\",\n        trigger: '.o_form_button_cancel',\n    },\n    {\n        content: \"Check tax value is reset\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        isCheck: true,\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst todayDate = function () {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n\n    return `${month}/${day}/${year} 10:00:00`;\n};\n\nregistry.category(\"web_tour.tours\").add(\"calendar_appointments_hour_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n            content: \"Open Calendar\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-calendar-button-new\",\n            content: \"Create a new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \"#name_0\",\n            content: \"Give a name to the new event\",\n            run: \"text TEST EVENT\",\n        },\n        {\n            trigger: \"#start_0\",\n            content: \"Give a date to the new event\",\n            run: `text ${todayDate()}`,\n        },\n        {\n            trigger: \"#duration_0\",\n            content: \"Give a duration to the new event\",\n            run: \"text 02:00\",\n        },\n        {\n            trigger: \".fa-cloud-upload\",\n            content: \"Save the new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            content: \"Go back to Calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: '.scale_button_selection',\n            content: \"Click to change calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Month\")',\n            content: \"Change the calendar view to Month\",\n            run: \"click\",\n        },\n        {\n            trigger: '.fc-day-header:contains(\"Mon\")',\n            content: \"Check the day is properly displayed\",\n        },\n        {\n            trigger: '.fc-time:contains(\"10:00\")',\n            content: \"Check the time is properly displayed\",\n        },\n        {\n            trigger: '.o_event_title:contains(\"TEST EVENT\")',\n            content: \"Check the event title\",\n            isCheck: true,\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_delete_tour\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: \"Click on the event (focus + waiting)\",\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            },\n        },\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n        },\n        {\n            content: \"Validate the deletion\",\n            trigger: 'button:contains(\"Delete\")',\n            async run() {\n                $('button:contains(\"Delete\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_tour\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Click on the event (focus + waiting)\",\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            },\n        },\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n            isCheck: true,\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_with_everybody_filter_tour\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: \"Click on the event (focus + waiting)\",\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            },\n        },\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n        },\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n            isCheck: true,\n        },\n    ],\n});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('debug_menu_set_defaults', {\n        test: true,\n        url: '/web?debug=1',\n        steps: () => [\n            ...stepUtils.goToAppSteps('contacts.menu_contacts', \"Open the contacts menu\"),\n            {\n                content: \"Create a new contact\",\n                trigger: '.o-kanban-button-new',\n            },\n            {\n                content: \"Check that Company is checked by default, and not Individual\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"company\"]:checked',\n                run: function () {},\n            },\n            {\n                content: \"Select the individual radio button\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]',\n            },\n            {\n                content: \"Open the debug menu\",\n                trigger: '.o_debug_manager button',\n            },\n            {\n                content: \"Click the Set Defaults menu\",\n                trigger: '.o_debug_manager .dropdown-item:contains(Set Defaults)',\n            },\n            {\n                content: \"Choose Company Type = Individual\",\n                trigger: '#formview_default_fields',\n                run: function () {\n                    const element_field = document.querySelector('select#formview_default_fields');\n                    element_field.value = 'company_type';\n                    element_field.dispatchEvent(new Event(\"change\"));\n                },\n            },\n            {\n                content: \"Check that there are conditions\",\n                trigger: '#formview_default_conditions',\n            },\n            {\n                content: \"Save the new default\",\n                trigger: 'footer button:contains(Save default)',\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n            },\n            {\n                trigger: '.o_action_manager > .o_kanban_view .o-kanban-button-new',\n            },\n            {\n                content: \"Check that Individual is checked instead of Company\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]:checked',\n                run: function () {},\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n            },\n            {\n                content: \"Wait for discard\",\n                trigger: '.o_control_panel .o-kanban-button-new',\n                run() {},\n            },\n        ]\n    });\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('create_crm_team_tour', {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n    ...stepUtils.goToAppSteps('crm.crm_menu_root'),\n{\n    trigger: 'button[data-menu-xmlid=\"crm.crm_menu_config\"]',\n}, {\n    trigger: 'a[data-menu-xmlid=\"crm.crm_team_config\"]',\n}, {\n    trigger: 'button.o_list_button_add',\n}, {\n    trigger: 'input[id=\"name_0\"]',\n    run: 'text My CRM Team',\n}, {\n    trigger: 'button.o-kanban-button-new',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Salesman\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input:checked',\n    run: () => {},\n}, {\n    trigger: '.o_list_selection_box:contains(2)',\n    run: () => {},\n}, {\n    trigger: 'button.o_select_button',\n}, \n    ...stepUtils.saveForm()\n]});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('crm_email_and_phone_propagation_edit_save', {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n        }, {\n            trigger: '.o_kanban_record .o_kanban_record_title span:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_button_save',\n            extra_trigger: '.o_form_editable .o_field_widget[name=email_from] input',\n            content: 'Save the lead',\n            run: 'click',\n        },\n    ]});\n\n    registry.category(\"web_tour.tours\").add('crm_email_and_phone_propagation_remove_email_and_phone', {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n        }, {\n            trigger: '.o_kanban_record .o_kanban_record_title span:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_editable .o_field_widget[name=email_from] input',\n            extra_trigger: '.o_form_editable .o_field_widget[name=phone] input',\n            content: 'Remove the email and the phone',\n            run: function (action) {\n                action.remove_text(\"\", \".o_form_editable .o_field_widget[name=email_from] input\");\n                action.remove_text(\"\", \".o_form_editable .o_field_widget[name=phone] input\");\n            },\n        }, {\n            trigger: '.o_back_button',\n            // wait the warning message to be visible\n            extra_trigger: '.o_form_sheet_bg .fa-exclamation-triangle:not(.o_invisible_modifier)',\n            content: 'Save the lead and exit to kanban',\n            run: 'click',\n        },{\n            trigger: '.o_kanban_renderer',\n            isCheck: true,\n        }\n    ]});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nconst today = luxon.DateTime.now();\n\nregistry.category(\"web_tour.tours\").add('crm_forecast', {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading'\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \".o_field_widget[name=name] input\",\n        content: \"complete name\",\n        run: \"text Test Opportunity 1\",\n    }, {\n        trigger: \".o_field_widget[name=expected_revenue] input\",\n        content: \"complete expected revenue\",\n        run: \"text 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `text ${today.toFormat(\"MM/dd/yyyy\")}`,\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        run: function (actions) {\n            const undefined_groups = $('.o_column_title:contains(\"None\")').length;\n            actions.drag_and_drop_native(`.o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`, this.$anchor);\n        },\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: \".o_field_widget[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: function (actions) {\n            actions.text(`text ${today.plus({months: 5}).startOf('month').minus({days: 1}).toFormat(\"MM/dd/yyyy\")}`, this.$anchor);\n            this.$anchor[0].dispatchEvent(new KeyboardEvent(\"keydown\", { bubbles: true, key: \"Escape\" }));\n        },\n    }, {\n        trigger: \".o_field_widget[name=probability] input\",\n        content: \"max out probability\",\n        run: \"text 100\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n        run: function () {},\n    }\n]});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from '@web_tour/tour_service/tour_utils';\n\n    registry.category(\"web_tour.tours\").add('crm_rainbowman', {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n        }, {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"text Test Lead 1\",\n        }, {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999997\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop_native .o_opportunity_kanban .o_kanban_group:has(.o_column_title:contains('Won')) \"\n        }, {\n            trigger: \".o_reward_rainbow\",\n            extra_trigger: \".o_reward_rainbow\",\n            run: function () {} // check rainbowman is properly displayed\n        }, {\n            // This step and the following simulates the fact that after drag and drop,\n            // from the previous steps, a click event is triggered on the window element,\n            // which closes the currently shown .o_kanban_quick_create.\n            trigger: \".o_kanban_renderer\",\n        }, {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_quick_create))\",\n            run() {},\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n        }, {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"text Test Lead 2\",\n        }, {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999998\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            run: function () {} // wait for the record to be properly created\n        }, {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \"\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n        }, {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n        },\n        ...stepUtils.saveForm(),\n        {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"move lead to previous stage & rainbowman appears\",\n        }, {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n        },\n        ...stepUtils.saveForm(),\n        {\n            trigger: \".o_menu_brand\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"last rainbowman appears\",\n            isCheck: true,\n        }\n    ]});\n", "/** @odoo-module **/\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@web_editor/js/editor/snippets.options\") {\n        const options = e.detail.module[Symbol.for(\"default\")];\n        const FocusBlur = options.Class.extend({\n            onFocus() {\n                window.focusBlurSnippetsResult.push(`focus ${this.focusBlurName}`);\n            },\n            onBlur() {\n                window.focusBlurSnippetsResult.push(`blur ${this.focusBlurName}`);\n            },\n        });\n        options.registry.FocusBlurParent = FocusBlur.extend({focusBlurName: 'parent'});\n        options.registry.FocusBlurChild1 = FocusBlur.extend({focusBlurName: 'child1'});\n        options.registry.FocusBlurChild2 = FocusBlur.extend({focusBlurName: 'child2'});\n    }\n});\n", "/** @odoo-module */\n\nimport { patch } from \"@web/core/utils/patch\";\n\n// It's an optionnal import, to patch only when the WebsitePreview is loaded.\nconst WebsitePreviewLoader = odoo.loader.modules.get(\"@website/client_actions/website_preview/website_preview\");\n\nif (WebsitePreviewLoader) {\n    patch(WebsitePreviewLoader.WebsitePreview.prototype, {\n        /**\n         * @override\n         */\n        get testMode() {\n            return true;\n        }\n    });\n}\n", "/** @odoo-module **/\nimport { browser } from \"@web/core/browser/browser\";\nconst localStorage = browser.localStorage;\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName !== \"@web/legacy/js/public/public_widget\") {\n        return;\n    }\n\n    const publicWidget = e.detail.module[Symbol.for(\"default\")];\n\n    const localStorageKey = 'widgetAndWysiwygLifecycle';\n    if (!localStorage.getItem(localStorageKey)) {\n        localStorage.setItem(localStorageKey, '[]');\n    }\n\n    function addLifecycleStep(step) {\n        const oldValue = localStorage.getItem(localStorageKey);\n        const newValue = JSON.stringify(JSON.parse(oldValue).concat(step));\n        localStorage.setItem(localStorageKey, newValue);\n    }\n\n    publicWidget.registry.CountdownPatch = publicWidget.Widget.extend({\n        selector: \".s_countdown\",\n        disabledInEditableMode: false,\n\n        /**\n         * @override\n         */\n        async start() {\n            addLifecycleStep('widgetStart');\n            await this._super(...arguments);\n            this.el.classList.add(\"public_widget_started\");\n        },\n        /**\n         * @override\n         */\n        destroy() {\n            this.el.classList.remove(\"public_widget_started\");\n            addLifecycleStep('widgetStop');\n            this._super(...arguments);\n        },\n    });\n});\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst carouselInnerSelector = \"iframe .carousel-inner\";\n\nwTourUtils.registerWebsitePreviewTour(\"carousel_content_removal\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_carousel',\n        name: 'Carousel',\n}), {\n    trigger: \"iframe .carousel .carousel-item.active .carousel-content\",\n    content: \"Select the active carousel item.\",\n}, {\n    trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    content: \"Remove the active carousel item.\",\n}, {\n    trigger: \"iframe .carousel .carousel-item.active .container:not(:has(*))\",\n    content: \"Check for a carousel slide with an empty container tag\",\n    allowInvisible: true,\n    run: function () {},\n}]);\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_carousel\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: \"s_carousel\", name: \"Carousel\"}),\n    wTourUtils.clickOnSnippet(\".carousel .carousel-item.active\"),\n    // Slide to the right.\n    wTourUtils.changeOption(\"CarouselItem\", 'we-button[data-switch-to-slide=\"right\"]'),\n    {\n        content: \"Check if the second slide is active\",\n        trigger: `${carouselInnerSelector} > div.active:nth-child(2)`,\n        isCheck: true,\n    },\n    // Add a slide (with the \"CarouselItem\" option).\n    wTourUtils.changeOption(\"CarouselItem\", \"we-button[data-add-slide-item]\"),\n    {\n        content: \"Check if there are four slides and if the third one is active\",\n        trigger: `${carouselInnerSelector}:has(div:nth-child(4)) > div.active:nth-child(3)`,\n        isCheck: true,\n    },\n     // Remove a slide.\n     wTourUtils.changeOption(\"CarouselItem\", \"we-button[data-remove-slide]\"),\n    {\n        content: \"Check if there are three slides and if the second one is active\",\n        trigger: `${carouselInnerSelector}:has(div:nth-child(3)) > div.active:nth-child(2)`,\n        isCheck: true,\n    }, {\n        trigger: \"iframe .carousel .carousel-control-prev\",\n        content: \"Slide the carousel to the left with the arrows.\",\n    }, {\n        content: \"Check if the first slide is active\",\n        trigger: `${carouselInnerSelector} > div.active:nth-child(1)`,\n        isCheck: true,\n    },\n    // Add a slide (with the \"Carousel\" option).\n    wTourUtils.changeOption(\"Carousel\", \"we-button[data-add-slide]\"),\n    {\n        content: \"Check if there are four slides and if the second one is active\",\n        trigger: `${carouselInnerSelector}:has(div:nth-child(4)) > div.active:nth-child(2)`,\n        isCheck: true,\n    }, {\n        content: \"Check if the slide indicator was correctly updated\",\n        trigger: \"we-customizeblock-options span:contains(' (2/4)')\",\n        isCheck: true,\n    },\n    // Check if we can still remove a slide.\n    wTourUtils.changeOption(\"CarouselItem\", \"we-button[data-remove-slide]\"),\n    {\n        content: \"Check if there are three slides and if the first one is active\",\n        trigger: `${carouselInnerSelector}:has(div:nth-child(3)) > div.active:nth-child(1)`,\n        isCheck: true,\n    },\n    // Slide to the left.\n    wTourUtils.changeOption(\"CarouselItem\", 'we-button[data-switch-to-slide=\"left\"]'),\n    {\n        content: \"Check if the third slide is active\",\n        trigger: `${carouselInnerSelector} > div.active:nth-child(3)`,\n        isCheck: true,\n    },\n    // Reorder the slides and make it the second one.\n    wTourUtils.changeOption(\"GalleryElement\", 'we-button[data-position=\"prev\"]'),\n    {\n        content: \"Check if the second slide is active\",\n        trigger: `${carouselInnerSelector} > div.active:nth-child(2)`,\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    // Check that saving always sets the first slide as active.\n    {\n        content: \"Check that the first slide became the active one\",\n        trigger: `${carouselInnerSelector} > div.active:nth-child(1)`,\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('client_action_iframe_fallback', {\n    test: true,\n    url: '/',\n},\n() => [\n    {\n        content: \"Ensure we are on the expected page\",\n        trigger: 'body iframe html[data-view-xmlid=\"website.homepage\"]',\n        run: () => {}, // It's a check.\n    }, {\n        content: \"Ensure the iframe fallback is not loaded in test mode\",\n        trigger: 'body',\n        run: () => {\n            if (document.querySelector('iframe[src=\"/website/iframefallback\"]')) {\n                console.error(\"The iframe fallback shouldn't be inside the DOM.\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nconst testUrl = '/test_client_action_redirect';\n\nconst goToFrontendSteps = [{\n    content: \"Go to the frontend\",\n    trigger: 'body',\n    run: () => {\n        window.location.href = testUrl;\n    },\n}, {\n    content: \"Check we are in the frontend\",\n    trigger: 'body:not(:has(.o_website_preview)) #test_contact_FE',\n    run: () => null, // it's a check\n}];\nconst goToBackendSteps = [{\n    content: \"Go to the backend\",\n    trigger: 'body',\n    run: () => {\n        window.location.href = `/@${testUrl}`;\n    },\n}, {\n    content: \"Check we are in the backend\",\n    trigger: '.o_website_preview',\n    run: () => null, // it's a check\n}];\nconst checkEditorSteps = [{\n    content: \"Check that the editor is loaded\",\n    trigger: 'iframe body.editor_enable',\n    timeout: 30000,\n    run: () => null, // it's a check\n}, {\n    content: \"exit edit mode\",\n    trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save\")',\n}, {\n    content: \"wait for editor to close\",\n    trigger: 'iframe body:not(.editor_enable)',\n    run: () => null, // It's a check\n}];\n\nregistry.category(\"web_tour.tours\").add('client_action_redirect', {\n    test: true,\n    url: testUrl,\n    steps: () => [\n    // Case 1: From frontend, click on `enable_editor=1` link without `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to frontend\",\n        trigger: '#test_contact_FE',\n    },\n    ...checkEditorSteps,\n\n    // Case 2: From frontend, click on `enable_editor=1` link with `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to backend\",\n        trigger: '#test_contact_BE',\n    },\n    ...checkEditorSteps,\n\n    // Case 3: From backend, click on `enable_editor=1` link without `/@/` in it\n    // TODO: This will be fixed in another fix related to the listening of the\n    //       URL changes from the client action.\n    // ...goToBackendSteps,\n    // {\n    //     content: \"Click on the link to frontend (2)\",\n    //     trigger: 'iframe #test_contact_FR',\n    // },\n    // ...checkEditorSteps,\n\n    // Case 4: From backend, click on `enable_editor=1` link with `/@/` in it\n    ...goToBackendSteps,\n    {\n        content: \"Click on the link to backend (2)\",\n        trigger: 'iframe #test_contact_BE',\n    },\n    ...checkEditorSteps,\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nfunction selectColorpickerSwitchPanel(type) {\n    return [\n        {\n            content: \"Select text snippet\",\n            trigger: \"iframe #wrap .s_text_block\",\n        },\n        {\n            content: \"Click on background-color option\",\n            trigger: \".o_we_so_color_palette[data-css-property='background-color']\",\n        },\n        {\n            content: \"Select type of colorpicker in switch panel\",\n            trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${type}\"]`,\n        },\n    ]\n}\n\nfunction checkBackgroundColorWithRGBA(red, green, blue) {\n    return [\n        {\n            content: \"Check if the RGBA color matches the selected color\",\n            trigger: \".o_rgba_div\",\n            run: ({ tip_widget }) => {\n                const rgbaEl = tip_widget.$anchor[0];\n                const red_color = rgbaEl.querySelector(\".o_red_input\").value;\n                const green_color = rgbaEl.querySelector(\".o_green_input\").value;\n                const blue_color = rgbaEl.querySelector(\".o_blue_input\").value;\n                if (red_color != red || green_color != green || blue_color != blue) {\n                    console.error(\"There may be a problem with the RGBA colorpicker\");\n                }\n            }\n        },\n    ]\n}\n\nwTourUtils.registerWebsitePreviewTour(\"website_background_colorpicker\", {\n    test: true,\n    edition: true,\n    url: \"/\",\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_block\",\n        name: \"Text\",\n    }),\n    ...selectColorpickerSwitchPanel(\"gradients\"),\n    {\n        content: \"Select first gradient element\",\n        trigger: \".o_colorpicker_section .o_we_color_btn[data-color='linear-gradient(135deg, rgb(255, 204, 51) 0%, rgb(226, 51, 255) 100%)']\",\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"gradients\"),\n    ...checkBackgroundColorWithRGBA(\"255\", \"204\", \"51\"),\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"custom-colors\"),\n    {\n        content: \"Select first custom color element\",\n        trigger: \".o_colorpicker_section .o_we_color_btn[style='background-color:#65435C;']\",\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"custom-colors\"),\n    ...checkBackgroundColorWithRGBA(\"101\", \"67\", \"92\"),\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n    {\n        id: \"s_banner\",\n        name: \"Banner\",\n    },\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n];\nfunction checkEyeIcon(snippetName, visible) {\n    const eyeIcon = visible ? \"fa-eye\" : \"fa-eye-slash\";\n    const openOrClose = visible ? \"open\" : \"close\";\n    const endExplanation = `should be ${openOrClose} in the \"Invisible Elements\" panel`;\n    const invisibleElPanel = \"o_we_invisible_el_panel\";\n    return {\n            content: `The eye icon of ${snippetName} ${endExplanation}`,\n            trigger:\n            `.${invisibleElPanel} .o_we_invisible_entry:contains(\"${snippetName}\") i.${eyeIcon}`,\n            run: () => {}, // it is a check\n        };\n}\nfunction checkEyesIconAfterSave(footerIsHidden = true) {\n    const eyeIconChecks = [\n        checkEyeIcon(\"Header\", false),\n        checkEyeIcon(\"Text - Image\", true),\n        checkEyeIcon(\"Popup\", false),\n        checkEyeIcon(\"Banner\", true),\n    ];\n    if (footerIsHidden) {\n        eyeIconChecks.push(checkEyeIcon(\"Footer\", false));\n    }\n    return eyeIconChecks;\n}\nwTourUtils.registerWebsitePreviewTour('conditional_visibility_1', {\n    edition: true,\n    url: '/',\n    test: true,\n}, () => [\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\nwTourUtils.changeOption('ConditionalVisibility', 'we-toggler'),\n{\n    content: 'click on conditional visibility',\n    trigger: '[data-name=\"visibility_conditional\"]',\n    run: 'click',\n},\n{\n    content: 'click on utm medium toggler',\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-toggler',\n    run: 'click',\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items .o_we_m2o_search input',\n    content: 'Search for Email',\n    run: 'text Email',\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items [data-add-record=\"Email\"]',\n    content: 'click on Email',\n    run: 'click',\n},\n...wTourUtils.clickOnSave(),\n{\n    content: 'Check if the rule was applied',\n    extra_trigger: '.o_website_preview:only-child',\n    trigger: 'iframe #wrap',\n    allowInvisible: true,\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display !== 'none') {\n            console.error('error This item should be invisible and only visible if utm_medium === email');\n        }\n    },\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: 'Check if the element is visible as it should always be visible in edit view',\n    trigger: 'iframe #wrap .s_text_image',\n    run: function (actions) {\n        const style = window.getComputedStyle((this.$anchor[0]));\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"conditional_visibility_3\", {\n    edition: true,\n    test: true,\n    url: \"/\",\n},\n() => [\ncheckEyeIcon(\"Text - Image\", true),\n// Drag a \"Banner\" snippet on the website.\nwTourUtils.dragNDrop(snippets[1]),\n// Click on the \"Banner\" snippet.\nwTourUtils.clickOnSnippet(snippets[1]),\nwTourUtils.changeOption(\"ConditionalVisibility\", \"we-toggler\"),\nwTourUtils.changeOption(\"ConditionalVisibility\", '[data-name=\"visibility_conditional\"]'),\ncheckEyeIcon(\"Banner\", true),\nwTourUtils.goBackToBlocks(),\n// Drag a \"Popup\" snippet on the website.\nwTourUtils.dragNDrop(snippets[2]),\n{\n    content: \"Toggle the visibility of the popup\",\n    in_modal: false,\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup')\",\n},\ncheckEyeIcon(\"Popup\", false),\n{\n    content: \"Click on footer\",\n    trigger: \"iframe #wrapwrap footer\",\n},\nwTourUtils.changeOption(\"HideFooter\", \"we-checkbox\"),\ncheckEyeIcon(\"Footer\", false),\n{\n    content: \"Click on Header\",\n    trigger: \"iframe #wrapwrap header\",\n},\nwTourUtils.changeOption(\"TopMenuVisibility\", \"we-toggler\"),\nwTourUtils.changeOption(\"TopMenuVisibility\", '[data-visibility=\"hidden\"]'),\ncheckEyeIcon(\"Header\", false),\n{\n    content: \"Toggle the visibility of the Banner snippet\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Banner')\",\n},\ncheckEyeIcon(\"Banner\", false),\n...wTourUtils.clickOnSave(),\n...wTourUtils.clickOnEditAndWaitEditMode(),\n...checkEyesIconAfterSave(),\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"conditional_visibility_4\", {\n    edition: true,\n    test: true,\n    url: \"/\",\n},\n() => [\n// Click on the \"Text-Image\" snippet.\nwTourUtils.clickOnSnippet(snippets[0]),\n{\n    content: \"Click on the 'move down' option\",\n    trigger: \"iframe we-button.o_we_user_value_widget.fa-angle-down\",\n},\n...checkEyesIconAfterSave(),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Banner')\",\n    run: () => {}, // it is a check\n},\n{\n    content: \"Toggle the visibility of the Footer\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Footer')\",\n},\n{\n    content: \"Check that the footer is visible\",\n    trigger: \"iframe #wrapwrap footer\",\n    run: () => {}, // it is a check\n},\n// Click on the \"Banner\" snippet.\nwTourUtils.clickOnSnippet(snippets[1]),\n{\n    content: \"Drag the 'Banner' snippet to the end of the page\",\n    trigger: \"iframe .o_overlay_move_options .o_move_handle\",\n    run: \"drag_and_drop_native iframe #wrapwrap footer\",\n},\n...checkEyesIconAfterSave(false),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Text - Image')\",\n    run: () => {}, // it is a check\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"conditional_visibility_5\", {\n    edition: true,\n    test: true,\n    url: \"/\",\n}, () => [\n    wTourUtils.dragNDrop(snippets[0]),\n    {\n        content: \"Click on the image of the dragged snippet\",\n        trigger: \"iframe .s_text_image img\",\n    },\n    wTourUtils.changeOption(\"DeviceVisibility\", 'we-button[data-toggle-device-visibility=\"no_desktop\"]'),\n    {\n        content: \"Check that the Column has been added in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Column')\",\n        run: () => {}, // it is a check\n    },\n    {\n        content: \"Click on the 'Text - Image' snippet\",\n        trigger: \"iframe .s_text_image\",\n    },\n    wTourUtils.changeOption(\"ConditionalVisibility\", 'we-button[data-toggle-device-visibility=\"no_desktop\"]'),\n    {\n        content: \"Check that the 'Text - Image' is the parent of 'Column' in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image') + ul .o_we_invisible_entry.o_we_sublevel_1:contains('Column')\",\n        run: () => {}, // it is a check\n    },\n    {\n        content: \"Click on the 'Text - Image' entry on the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image')\",\n    },\n    {\n        content: \"Check that the snippet is visible on the website\",\n        trigger: \"iframe .s_text_image.o_snippet_desktop_invisible.o_snippet_override_invisible\",\n        run: () => {}, // it is a check\n    },\n    wTourUtils.changeOption(\"ConditionalVisibility\", 'we-button[data-toggle-device-visibility=\"no_mobile\"]'),\n    {\n        content: \"Check that the 'Text - Image' has been removed from the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel:not(.o_we_invisible_entry:contains('Text - Image'))\",\n        run: () => {}, // it is a check\n    },\n    {\n        content: \"Click on the 'Column' entry on the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Column')\",\n    },\n    {\n        content: \"Check that the column is visible on the website\",\n        trigger: \"iframe .s_text_image .row > .o_snippet_desktop_invisible.o_snippet_override_invisible\",\n        run: () => {}, // it is a check\n    },\n    wTourUtils.changeOption(\"DeviceVisibility\", 'we-button[data-toggle-device-visibility=\"no_mobile\"]'),\n    {\n        content: \"Check that the column has been removed from the 'Invisible Elements' panel\",\n        trigger: \"#oe_snippets:not(:has(.o_we_invisible_entry:contains('Column')))\",\n        run: () => {}, // it is a check\n    },\n    {\n        content: \"Activate mobile preview\",\n        trigger: \".o_we_website_top_actions button[data-action='mobile']\",\n    },\n    {\n        content: \"Check that the 'Text - Image' is the parent of 'Column' in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image') + ul .o_we_invisible_entry.o_we_sublevel_1:contains('Column')\",\n        run: () => {}, // it is a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('conditional_visibility_2', {\n    test: true,\n    url: '/?utm_medium=Email',\n    steps: () => [{\n    content: 'The content previously hidden should now be visible',\n    trigger: 'body #wrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('configurator_translation', {\n    test: true,\n    url: '/website/configurator',\n    steps: () => [\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Make sure \"Back\" works\n    {\n        content: \"use browser's Back\",\n        trigger: 'a.o_change_website_type',\n        run: () => {\n            window.history.back();\n        },\n    }, {\n        content: \"return to description screen\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: 'text ab',\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry_wrapper ul li a:contains(\"in fr\")',\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n    },\n    // Features screen\n    {\n        content: \"select confidentialit\u00e9\",\n        trigger: '.card:contains(Parseltongue_privacy)',\n    }, {\n        content: \"Click on build my website\",\n        trigger: 'button.btn-primary',\n    }, {\n        content: \"Loader should be shown\",\n        trigger: '.o_website_loader_container',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Wait until the configurator is finished\",\n        trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        timeout: 30000,\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        // Check the content of the save button to make sure the website is in\n        // Parseltongue. (The editor should be in the website's default language,\n        // which should be parseltongue in this test.)\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save_Parseltongue\")',\n    }, {\n         content: \"wait for editor to be closed\",\n         trigger: 'iframe body:not(.editor_enable)',\n         run: function () {}, // It's a check.\n    }\n]});\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    { id: \"s_popup\", name: \"Popup\" },\n    { id: \"s_banner\", name: \"Banner\" },\n    { id: \"s_popup\", name: \"Custom Popup\" },\n];\nwTourUtils.registerWebsitePreviewTour(\n    \"custom_popup_snippet\",\n    {\n        url: \"/\",\n        test: true,\n        edition: true,\n    },\n    () => [\n        wTourUtils.dragNDrop(snippets[0]),\n        wTourUtils.clickOnSnippet(snippets[1]),\n        {\n            content: \"save this snippet to save later\",\n            trigger: \".o_we_user_value_widget.fa-save\",\n        },\n        {\n            content: \"confirm and reload custom snippet\",\n            trigger: \".modal-footer > .btn.btn-primary\",\n        },\n        wTourUtils.dragNDrop(snippets[2]),\n        {\n            content: \"check whether new custom popup is visible or not.\",\n            trigger: \"iframe #wrap.o_editable section[data-snippet='s_banner']\",\n            run: () => {},\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"default_shape_gets_palette_colors\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape does not have a background-image in its inline style\",\n        trigger: 'iframe #wrap .s_text_image .o_we_shape',\n        run: () => {\n            const shape = $('iframe:not(.o_ignore_in_tour)').contents().find('#wrap .s_text_image .o_we_shape')[0];\n            if (shape.style.backgroundImage) {\n                console.error(\"error The default shape has a background-image in its inline style (should rely on the class)\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"test_drag_and_drop_on_non_editable\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_company_team\",\n        name: \"Team\",\n    }),\n    {\n        content: \"Click on an editable media in non editable env.\",\n        trigger: \"iframe .s_company_team .o_not_editable > .o_editable_media\",\n    },\n    {\n        content: \"Verify that the Replace options is in the editor.\",\n        trigger: \"we-button[data-replace-media]\",\n        isCheck: true,\n    },\n    wTourUtils.goBackToBlocks(),\n    Object.assign(wTourUtils.dragNDrop({\n        id: \"s_text_highlight\",\n        name: \"Text Highlight\",\n    }), {\n        content: \"Drag and drop the Text Highlight building block next to the Team block media.\",\n        run: \"drag_and_drop_native iframe .s_company_team .o_not_editable > .o_editable_media\",\n    }),\n    {\n        content: \"Verify that the Text Highlight building block isn't in a non editable element.\",\n        trigger: \"iframe .s_company_team :not(.o_not_editable) > .s_text_highlight\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('drop_404_ir_attachment_url', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_404_snippet',\n        name: '404 Snippet',\n    }),\n    {\n        content: 'Click on the snippet image',\n        trigger: 'iframe .s_404_snippet img',\n    }, {\n        content: 'Once the image UI appears, check the image has no size (404)',\n        trigger: 'iframe .s_404_snippet img',\n        extra_trigger: '.snippet-option-ReplaceMedia',\n        run: function () {\n            const imgEl = this.$anchor[0];\n            if (!imgEl.complete\n                    || imgEl.naturalWidth !== 0\n                    || imgEl.naturalHeight !== 0) {\n                console.error('This is supposed to be a 404 image');\n            }\n        },\n    },\n    wTourUtils.changeOption('ImageTools', 'we-select[data-name=\"shape_img_opt\"] we-toggler'),\n    wTourUtils.changeOption('ImageTools', 'we-button[data-set-img-shape]'),\n    {\n        content: 'Once the shape is applied, check the image has now a size (placeholder image)',\n        trigger: 'iframe .s_404_snippet img[src^=\"data:\"]',\n        run: function () {\n            const imgEl = this.$anchor[0];\n            if (!imgEl.complete\n                    || imgEl.naturalWidth === 0\n                    || imgEl.naturalHeight === 0) {\n                console.error('Even though the original image was a 404, the option should have been applied on the placeholder image');\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst checkIfUserMenuNotMasked = function () {\n    return [\n        {\n            content: \"Click on the user dropdown\",\n            trigger: \"iframe #wrapwrap header .o_header_hide_on_scroll li.dropdown > a\",\n        },\n        wTourUtils.checkIfVisibleOnScreen(\"iframe #wrapwrap header .o_header_hide_on_scroll li.dropdown .dropdown-menu.show a[href='/my/home']\"),\n    ];\n};\n\nconst scrollDownToMediaList = function () {\n    return {\n        content: \"Scroll down the page a little to leave the dropdown partially visible\",\n        trigger: \"iframe #wrapwrap .s_media_list\",\n        run: function () {\n            // Scroll down to the media list snippet.\n            this.$anchor[0].scrollIntoView(true);\n        },\n    };\n};\n\nwTourUtils.registerWebsitePreviewTour(\"dropdowns_and_header_hide_on_scroll\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: \"s_media_list\", name: \"Media List\"}),\n    wTourUtils.selectHeader(),\n    wTourUtils.changeOption(\"undefined\", 'we-select[data-variable=\"header-scroll-effect\"]'),\n    wTourUtils.changeOption(\"undefined\", 'we-button[data-name=\"header_effect_fixed_opt\"]'),\n    wTourUtils.changeOption(\"HeaderLayout\", 'we-select[data-variable=\"header-template\"] we-toggler'),\n    wTourUtils.changeOption(\"HeaderLayout\", 'we-button[data-name=\"header_sales_two_opt\"]'),\n    ...wTourUtils.clickOnSave(undefined, 30000),\n    ...checkIfUserMenuNotMasked(),\n    // We scroll the page a little because when clicking on the dropdown, the\n    // page needs to scroll to the top first and then open the dropdown menu.\n    scrollDownToMediaList(),\n    ...checkIfUserMenuNotMasked(),\n    // We scroll the page again because when typing in the searchbar input, the\n    // page needs also to scroll to the top first and then open the dropdown\n    // with the search results.\n    scrollDownToMediaList(),\n    {\n        content: \"Type a search query into the searchbar input\",\n        trigger: \"iframe #wrapwrap header .s_searchbar_input input.search-query\",\n        run: \"text a\",\n    },\n    wTourUtils.checkIfVisibleOnScreen(\"iframe #wrapwrap header .s_searchbar_input.show .o_dropdown_menu.show\"),\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { patch } from \"@web/core/utils/patch\";\n\nconst FIRST_PARAGRAPH = 'iframe #wrap .s_text_image p:nth-child(2)';\n\nconst clickFooter = [{\n    content: \"Save the link by clicking outside the URL input (not on a link element)\",\n    trigger: 'iframe footer h5:first',\n}, {\n    content: \"Wait delayed click on footer\",\n    trigger: '.o_we_customize_panel we-title:contains(\"Footer\")',\n    run: function () {}, // it's a check\n}];\n\nconst clickEditLink = [{\n    content: \"Click on Edit Link in Popover\",\n    trigger: 'iframe .o_edit_menu_popover .o_we_edit_link',\n}, {\n    content: \"Ensure popover is closed\",\n    trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n    run: function () {}, // it's a check\n    in_modal: false,\n}];\n\nwTourUtils.registerWebsitePreviewTour('edit_link_popover', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // 1. Test links in page content (web_editor)\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on a paragraph\",\n        trigger: FIRST_PARAGRAPH,\n        run: 'text Paragraph', // Make sure the selection is set in the paragraph\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n    },\n    {\n        content: \"Type the link URL /contactus\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text /contactus'\n    },\n    ...clickFooter,\n    {\n        content: \"Click on newly created link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n    },\n    {\n        content: \"Popover should be shown\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")', // At this point preview is loaded\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Type the link URL /\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"text /\"\n    },\n    ...clickFooter,\n    {\n        content: \"Click on link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n    },\n    {\n        content: \"Popover should be shown with updated preview data\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Remove Link in Popover\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_remove_link',\n    },\n    {\n        content: \"Link should be removed\",\n        trigger: `${FIRST_PARAGRAPH}:not(:has(a))`,\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Ensure popover is closed\",\n        trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        run: function () {}, // it's a check\n    },\n    // 2. Test links in navbar (website)\n    {\n        content: \"Click navbar menu Home\",\n        trigger: 'iframe .top_menu a:contains(\"Home\")',\n    },\n    {\n        content: \"Popover should be shown (2)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Change the URL\",\n        trigger: '#url_input',\n        run: \"text /contactus\"\n    },\n    {\n        content: \"Save the Edit Menu modal\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Click on the Home menu again\",\n        extra_trigger: 'div:not(.o_loading_dummy) > #oe_snippets',\n        trigger: 'iframe .top_menu a:contains(\"Home\")[href=\"/contactus\"]',\n    },\n    {\n        content: \"Popover should be shown with updated preview data (2)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Edit Menu in Popover\",\n        trigger: 'iframe .o_edit_menu_popover .js_edit_menu',\n    },\n    {\n        content: \"Edit Menu (tree) should open\",\n        trigger: '.o_website_dialog .oe_menu_editor',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Close modal\",\n        trigger: '.modal-footer .btn-secondary',\n    },\n    // 3. Test other links (CTA in navbar & links in footer)\n    {\n        content: \"Click CTA in navbar\",\n        trigger: 'iframe .o_main_nav a.btn-primary[href=\"/contactus\"]',\n    },\n    {\n        content: \"Popover should be shown (3)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (3)\",\n        trigger: '.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:propValue(/contactus))',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click 'Home' link in footer\",\n        trigger: 'iframe footer a[href=\"/\"]',\n        run: function (actions) {\n            // Simulate a real click, as the current step does not properly set\n            // focus on the link.\n            actions.click();\n            const el = this.$anchor[0];\n            const sel = el.ownerDocument.getSelection();\n            sel.collapse(el.childNodes[1], 1);\n            el.focus();\n        },\n    },\n    {\n        content: \"Popover should be shown (4)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (4)\",\n        trigger: '.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:propValue(/))',\n        run: function () {}, // it's a check\n    },\n    // 4. Popover should close when clicking non-link element\n    ...clickFooter,\n    // 5. Double click should not open popover but should open toolbar link\n    {\n        content: \"Double click on link\",\n        extra_trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        trigger: 'iframe footer a[href=\"/\"]',\n        run: function (actions) {\n            // Create range to simulate real double click, see pull request\n            const range = document.createRange();\n            range.selectNodeContents(this.$anchor[0]);\n            const sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n            actions.click();\n            actions.dblclick();\n        },\n    },\n    {\n        content: \"Ensure popover is opened on double click, and so is right panel edit link\",\n        trigger: 'html:has(#o_link_dialog_url_input)',\n        extra_trigger: 'iframe html:has(.o_edit_menu_popover)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Ensure that a click on the link popover link opens a new window in edit mode\",\n        trigger: 'iframe .o_edit_menu_popover a.o_we_url_link[target=\"_blank\"]',\n        extra_trigger: 'iframe .o_edit_menu_popover a.o_we_full_url[target=\"_blank\"]',\n        run: (actions) => {\n            // We do not want to open a link in a tour\n            patch(browser, {\n                open: (url) => {\n                    if (window.location.hostname === url.hostname && url.pathname.startsWith('/@/')) {\n                        document.querySelector('body').classList.add('new_backend_window_opened');\n                    }\n                }\n            }, { pure: true });\n            actions.click();\n        },\n    },\n    {\n        content: \"Ensure that link is opened correctly in edit mode\",\n        trigger: '.new_backend_window_opened',\n        run: () => {}, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst toggleMegaMenu = (stepOptions) => Object.assign({}, {\n    content: \"Toggles the mega menu.\",\n    trigger: \"iframe .top_menu .nav-item a.o_mega_menu_toggle\",\n    run: function () {\n        // If the mega menu is displayed inside the extra menu items, it should\n        // already be displayed.\n        if (!this.$anchor[0].closest('.o_extra_menu_items')) {\n            this.$anchor[0].dispatchEvent(new Event('click'))\n        }\n    },\n}, stepOptions);\n\nwTourUtils.registerWebsitePreviewTour('edit_megamenu', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: \"iframe .top_menu .nav-item a\",\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(1)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: 'text Megaaaaa!'\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    {\n        trigger: '#oe_snippets.o_loaded',\n        run() {},\n    },\n    // Edit a menu item\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"}, true),\n    toggleMegaMenu({extra_trigger: 'iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")'}),\n    {\n        content: \"Select the last menu link of the first column\",\n        trigger: 'iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :nth-child(6)', // 6th is the last one\n    },\n    {\n        content: \"Hit the delete button to remove the menu link\",\n        trigger: 'iframe .oe_overlay .oe_snippet_remove',\n    },\n    {\n        content: \"Check that the last menu link was deleted\",\n        trigger: 'iframe .s_mega_menu_odoo_menu .row > div:first-child .nav:not(:has(> :nth-child(6)))',\n        run: () => null,\n    },\n    {\n        content: \"Clicks on the first title item.\",\n        trigger: 'iframe .o_mega_menu h4',\n    },\n    {\n        content: \"Press enter.\",\n        trigger: 'iframe .o_mega_menu h4',\n        run: function (actions) {\n            this.$anchor[0].dispatchEvent(new window.InputEvent('input', {bubbles: true, inputType: 'insertParagraph'}));\n        },\n    },\n    {\n        content: \"The menu should still be visible. Edit a menu item.\",\n        trigger: 'iframe .o_mega_menu h4',\n        // The content is removed in the previous step so it's now invisible.\n        allowInvisible: true,\n        run: 'text New Menu Item',\n    },\n    {\n        // If this step fails, it means that a patch inside bootstrap was lost.\n        content: \"Press the 'down arrow' key.\",\n        trigger: 'iframe .o_mega_menu h4',\n        run: function (actions) {\n            this.$anchor[0].dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"ArrowDown\" }));\n        },\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should have been renamed.\",\n        trigger: 'iframe .o_mega_menu h4:contains(\"New Menu Item\")',\n        run: function () {}, // it's a check\n    },\n]);\nwTourUtils.registerWebsitePreviewTour('edit_megamenu_big_icons_subtitles', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: 'iframe .top_menu .nav-item a',\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: \".o_website_dialog\",\n        trigger: '.modal-body a:eq(1)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: 'text Megaaaaa2!',\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa2!\")',\n    },\n    {\n        trigger: '#oe_snippets.o_loaded',\n        run() {},\n    },\n    {\n        content: \"Check for the new mega menu\",\n        trigger: 'iframe .top_menu:has(.nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa2!\"))',\n        run: function () {}, // it's a check\n    },\n    // Edit a menu item\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"}, true),\n    toggleMegaMenu({extra_trigger: 'iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa2!\")'}),\n    {\n        content: \"Select the first menu link of the first column\",\n        trigger: 'iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :first-child',\n    },\n    wTourUtils.changeOption(\"MegaMenuLayout\", \"we-toggler\"),\n    {\n        content: \"Select Big Icons Subtitles mega menu\",\n        trigger: '[data-select-label=\"Big Icons Subtitles\"]',\n    },\n    {\n        content: \"Select the h4 of first menu link of the first column\",\n        trigger: 'iframe .s_mega_menu_big_icons_subtitles .row > div:first-child .nav > :first-child h4',\n        run: function (actions) {\n            // Clicking on the h4 element first time leads to the selection of\n            // the entire a.nav-link, due to presence of `o_default_snippet_text` class\n            // hence, specify the selection on the h4 element\n            actions.click();\n            const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n            const range = iframeDocument.createRange();\n            range.selectNodeContents(this.$anchor[0]);\n            const sel = iframeDocument.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        },\n    },\n    {\n        content: \"Convert it to Bold\",\n        trigger: '#oe_snippets #toolbar #bold',\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should only convert selected text to Bold.\",\n        trigger: 'iframe .s_mega_menu_big_icons_subtitles .row > div:first-child .nav > :first-child span:not(:has(strong))',\n        run: function () {}, // it's a check\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('edit_menus', {\n    test: true,\n    url: '/',\n}, () => [\n    // Add a megamenu item from the menu.\n    {\n        content: \"open site menu\",\n        extra_trigger: \"iframe #wrapwrap\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(1)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: 'text Megaaaaa!'\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the new menu\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'body:not(:has(.oe_menu_editor))'}, true),\n    {\n        content: \"There should be a new megamenu item.\",\n        trigger: 'iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n        run: () => {}, // It's a check.\n    },\n    // Add a menu item in edit mode.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on a menu item\",\n        trigger: \"iframe .top_menu .nav-item a\",\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(0)',\n    },\n    {\n        content: \"Confirm the new menu entry without a label\",\n        extra_trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"It didn't save without a label. Fill label input.\",\n        extra_trigger: '.o_website_dialog:eq(1):visible',\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Random!',\n    },\n    {\n        content: \"Confirm the new menu entry without a url\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"It didn't save without a url. Fill url input.\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        extra_trigger: '.modal-dialog .o_website_dialog input.is-invalid',\n        run: 'text #',\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with the new entry\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor .js_menu_label:contains(\"Random!\")',\n    },\n    // Edit the new menu item from the \"edit link\" popover button\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: '#oe_snippets.o_loaded'}, true),\n    {\n        content: \"Menu should have a new link item\",\n        trigger: 'iframe .top_menu .nav-item a:contains(\"Random!\")',\n        // Don't click the new menu when the editor is still blocked.\n        extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\",\n    },\n    {\n        content: \"navbar shouldn't have any zwnbsp and no o_link_in_selection class\",\n        trigger: 'iframe nav.navbar:not(:has(.o_link_in_selection)):not(:contains(\"\\ufeff\"))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Click on Edit Link\",\n        trigger: 'iframe .o_edit_menu_popover a.o_we_edit_link',\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Modnar',\n    },\n    {\n        content: \"Confirm the new label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    {\n        content: \"Label should have changed\",\n        trigger: 'iframe .top_menu .nav-item a:contains(\"Modnar\")',\n        run: () => {}, // it's a check\n    },\n    // Edit the menu item from the \"edit menu\" popover button\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    {\n        content: \"Click on the 'Modnar' link\",\n        trigger: 'iframe .top_menu .nav-item a:contains(\"Modnar\")',\n    },\n    {\n        content: \"Click on the popover Edit Menu button\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Click on the dialog Edit Menu button\",\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar\")',\n        run: function () {\n            const liEl = this.$anchor[0].closest('[data-menu-id]');\n            liEl.querySelector('button.js_edit_menu').click();\n        },\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Modnar !!',\n    },\n    {\n        content: \"Confirm the new menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with the new menu label\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar !!\")',\n    },\n    // Drag a block to be able to scroll later.\n    wTourUtils.dragNDrop({id: 's_media_list', name: 'Media List'}),\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    {\n        content: \"Label should have changed\",\n        trigger: 'iframe .top_menu .nav-item a:contains(\"Modnar !!\")',\n        run: () => {}, // It's a check.\n    },\n    // Nest menu item from the menu.\n    {\n        content: \"open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n    },\n    {\n        content: \"Avoid flickering during DnD\",\n        trigger: \".modal-dialog\",\n        run: () => {\n            const modalDialog = document.querySelector(\".modal .modal-dialog\");\n            modalDialog.classList.remove(\"modal-dialog-centered\");\n        },\n        debugHelp: \"This is a hack/workaround for the next step\",\n    },\n    {\n        content: \"Drag 'Contact Us' item below the 'Home' item\",\n        trigger: '.oe_menu_editor li:contains(\"Contact us\") .fa-bars',\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('Home') + li .fa-bars\",\n    },\n    {\n        content: \"Drag 'Contact Us' item as a child of the 'Home' item\",\n        trigger: '.oe_menu_editor li:contains(\"Contact us\") .fa-bars',\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('Home') + li .form-control\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor li:contains(\"Home\") ul li:contains(\"Contact us\")',\n        run: () => {}, // It's a check.\n    },\n    // Drag the Mega menu to the first position.\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Megaaaaa!\") .fa-bars',\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('Home') .fa-bars\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Megaaaaa!\")',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Save the website menu with new nested menus\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Menu item should have a child\",\n        trigger: 'iframe .top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n    },\n    // Check that with the auto close of dropdown menus, the dropdowns remain\n    // openable.\n    {\n        content: \"When menu item is opened, child item must appear in the shown menu\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\") ul.show li a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n        run: function () {\n            // Scroll down.\n            this.$anchor[0].closest('body').querySelector('.o_footer_copyright_name')\n                .scrollIntoView(true);\n        },\n    },\n    {\n        content: \"The Home menu should be closed\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Open the Home menu after scroll\",\n        trigger: 'iframe .top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n    },\n    {\n        content: \"Check that the Home menu is opened\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\") ul.show li' +\n            ' a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Close the Home menu\",\n        trigger: 'iframe .top_menu .nav-item:has(a.dropdown-toggle:contains(\"Home\"))',\n    },\n    {\n        content: \"Check that the Home menu is closed\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Open the mega menu\",\n        trigger: 'iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"When the mega menu is opened, scroll up\",\n        trigger: \"iframe .top_menu .o_mega_menu_toggle.show\",\n        run: function () {\n            const marginTopOfMegaMenu = getComputedStyle(\n                this.$anchor[0].closest('.dropdown').querySelector('.o_mega_menu'))['margin-top'];\n            if (marginTopOfMegaMenu !== '0px') {\n                console.error('The margin-top of the mega menu should be 0px');\n            }\n            // Scroll up.\n            this.$anchor[0].closest('body').querySelector('.s_media_list_item:nth-child(2)')\n                .scrollIntoView(true);\n        }\n    },\n    {\n        content: \"Check that the mega menu is closed\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Megaaaaa!\"):has(div[data-name=\"Mega Menu\"]:not(.show))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Open the mega menu after scroll\",\n        trigger: 'iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"Check that the mega menu is opened\",\n        trigger: 'iframe .top_menu .nav-item:has(a.o_mega_menu_toggle:contains(\"Megaaaaa!\")) ' +\n                 '.s_mega_menu_odoo_menu',\n        run: () => {}, // It's a check.\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Open nested menu item\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\"):nth(1) .dropdown-toggle',\n    },\n    {\n        // If this step fails, it means that a patch inside bootstrap was lost.\n        content: \"Press the 'down arrow' key.\",\n        trigger: 'iframe .top_menu .nav-item:contains(\"Home\") li:contains(\"Contact us\")',\n        run: function (actions) {\n            this.$anchor[0].dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"ArrowDown\" }));\n        },\n    },\n    ...wTourUtils.clickOnSave(),\n    // Nest and re-arrange menu items for a newly created menu\n    {\n        content: \"Open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n    },\n    {\n        content: \"Trigger link dialog (click 'Add Menu Item')\",\n        trigger: '.modal-body a:eq(0)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text new_menu',\n    },\n    {\n        content: \"Write a url for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        run: 'text #',\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Check if new menu(new_menu) is added\",\n        trigger: \".oe_menu_editor li:contains('new_menu')\",\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Trigger link dialog (click 'Add Menu Item')\",\n        trigger: '.modal-body a:eq(0)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text new_nested_menu',\n    },\n    {\n        content: \"Write a url for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        run: 'text #',\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Check if new menu(new_nested_menu) is added\",\n        trigger: \".oe_menu_editor li:contains('new_nested_menu')\",\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Nest 'new_nested_menu' under 'new_menu'\",\n        trigger: \".oe_menu_editor li:contains('new_nested_menu') .fa-bars\",\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('new_menu') .form-control\",\n    },\n    {\n        content: \"Drag 'new_menu' above 'Modnar !!'\",\n        trigger: \".oe_menu_editor li:contains('new_menu') .fa-bars\",\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('Modnar !!') .fa-bars\",\n    },\n    {\n        content: \"Nest 'Modnar !!' under 'new_menu'\",\n        trigger: \".oe_menu_editor li:contains('Modnar !!') .fa-bars\",\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('new_menu') .form-control\",\n    },\n\n    {\n        content: \"Check if 'nested_menu' and 'Modnar !!' is nested under 'new_menu'\",\n        trigger: \".oe_menu_editor li:contains('new_menu') > ul > li:contains('nested_menu') + li:contains('Modnar !!')\",\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Move 'Modnar !!' above 'new_nested_menu' inside the 'new_menu'\",\n        trigger: \".oe_menu_editor  li:contains('new_menu') > ul > li:contains('Modnar !!') .fa-bars\",\n        run: \"drag_and_drop_native .oe_menu_editor  li:contains('new_menu') > ul > li:contains('new_nested_menu') .fa-bars\",\n    },\n    {\n        content: \"Check if 'Modnar !!' is now above 'new_nested_menu' in 'new_menu'\",\n        trigger: \".oe_menu_editor li:contains('new_menu') > ul > li:first:contains('Modnar !!')\",\n        run: () => {}, // It's a check.\n    },\n]);\n\nwTourUtils.registerWebsitePreviewTour(\n    \"edit_menus_delete_parent\",\n    {\n        test: true,\n        url: \"/\",\n    },\n    () => [\n        {\n            content: \"Open site menu\",\n            extra_trigger: \"iframe #wrapwrap\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"Click on Edit Menu\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n        },\n        {\n            content: \"Delete Home menu\",\n            trigger: \".modal-body ul li:nth-child(1) button.js_delete_menu\",\n        },\n        {\n            content: \"Save\",\n            trigger: \".modal-footer button:first-child\",\n            run: \"click\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('edit_translated_page_redirect', {\n    test: true,\n    url: '/nl/contactus',\n    steps: () => [\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n    },\n    {\n        content: \"Check the data-for attribute\",\n        trigger: 'iframe main:has([data-for=\"contactus_form\"])',\n        run: () => {}, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Go to /nl\",\n        trigger: \"body\",\n        run: () => {\n            // After checking the presence of the editor dashboard, we visit a\n            // translated version of the homepage. The homepage is a special\n            // case (there is no trailing slash), so we test it separately.\n            location.href = '/nl';\n        },\n    },\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"editable_root_as_custom_snippet\", {\n    test: true,\n    edition: true,\n    url: '/custom-page',\n}, () => [\n    wTourUtils.clickOnSnippet('.s_title.custom[data-oe-model][data-oe-id][data-oe-field][data-oe-xpath]'),\n    wTourUtils.changeOption('SnippetSave', 'we-button'),\n    {\n        content: \"Confirm modal\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Wait for the custom snippet to appear in the panel\",\n        trigger: '.oe_snippet[name=\"Custom Title\"]',\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Go to homepage\",\n        trigger: 'iframe a[href=\"/\"].nav-link',\n    },\n    {\n        content: \"Wait to land on homepage\",\n        trigger: 'iframe a[href=\"/\"].nav-link.active',\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({id: 's_title', name: 'Custom Title'}),\n    {\n        content: \"Check that the custom snippet does not have branding\",\n        trigger: 'iframe #wrap .s_title.custom:not([data-oe-model]):not([data-oe-id]):not([data-oe-field]):not([data-oe-xpath])',\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst blockIDToData = {\n    parent: {\n        selector: 'iframe .s_focusblur',\n        name: 'section',\n        overlayIndex: 2,\n    },\n    child1: {\n        selector: 'iframe .s_focusblur_child1',\n        name: 'first child',\n        overlayIndex: 1,\n    },\n    child2: {\n        selector: 'iframe .s_focusblur_child2',\n        name: 'second child',\n        overlayIndex: 0,\n    },\n};\n\nfunction clickAndCheck(blockID, expected) {\n    const blockData = blockIDToData[blockID] || {};\n\n    return [{\n        content: blockID ? `Enable the ${blockData.name}` : 'Disable all blocks',\n        trigger: blockData.selector || 'iframe #wrapwrap',\n    }, {\n        content: 'Once the related overlays are enabled/disabled, check that the focus/blur calls have been correct.',\n        trigger: blockID\n            ? `iframe .oe_overlay.o_draggable:eq(${blockData.overlayIndex}).oe_active`\n            : `iframe #oe_manipulators:not(:has(.oe_active))`,\n        allowInvisible: !blockID,\n        run: function (actions) {\n            const result = window.focusBlurSnippetsResult;\n            window.focusBlurSnippetsResult = [];\n\n            if (expected.length !== result.length\n                    || !expected.every((item, i) => item === result[i])) {\n                console.error(`\n                    Expected: ${expected.toString()}\n                    Result: ${result.toString()}\n                `);\n            }\n        },\n    }];\n}\n\nwindow.focusBlurSnippetsResult = [];\n\nwTourUtils.registerWebsitePreviewTour(\"focus_blur_snippets\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    {\n        content: 'Drag the custom block into the page',\n        trigger: '#snippet_structure .oe_snippet:has(.oe_snippet_body.s_focusblur) .oe_snippet_thumbnail',\n        run: 'drag_and_drop_native iframe #wrap',\n    },\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck(null, ['blur parent']),\n    ...clickAndCheck('child1', ['focus parent', 'focus child1']),\n    ...clickAndCheck('child1', []),\n    ...clickAndCheck(null, ['blur parent', 'blur child1']),\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck('child1', ['blur parent', 'focus parent', 'focus child1']),\n    ...clickAndCheck('child2', ['blur parent', 'blur child1', 'focus parent', 'focus child2']),\n    ...clickAndCheck('parent', ['blur parent', 'blur child2', 'focus parent']),\n]);\n", "/** @odoo-module **/\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nfunction waitForCSSReload() {\n    // TODO we should find a better way to wait for this in tests after CSS\n    // reload, it is currently done multiple different ways depending on the\n    // test.\n    return [\n        // This step is here because the option is applied but triggers a\n        // reloading of the CC value, so if the second value is sent too soon,\n        // it will be ignored. Clicking on the snippet tab and back will ensure\n        // that the mutex is cleared, and therefore we can apply the saturation\n        // step.\n        wTourUtils.goBackToBlocks(),\n        wTourUtils.goToTheme(),\n        {\n            content: \"Wait for no loading\",\n            trigger: 'body:not(:has(.o_we_ui_loading)) iframe body:not(:has(.o_we_ui_loading))',\n            run: () => null,\n        },\n    ];\n}\n\nwTourUtils.registerWebsitePreviewTour('website_gray_color_palette', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.goToTheme(),\n    {\n        content: \"Toggle gray color palette\",\n        trigger: '.o_we_gray_preview.o_we_collapse_toggler',\n    },\n    {\n        content: \"Drag the hue slider\",\n        trigger: '.o_we_slider_tint[data-param=\"gray-hue\"]',\n        run: () => {\n            const slider = document.querySelector('.o_we_slider_tint[data-param=\"gray-hue\"] input');\n            slider.value = 100;\n            slider.dispatchEvent(new InputEvent('change', {bubbles: true}));\n        },\n    },\n    {\n        content: \"Check the preview of the gray 900 after hue change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(36, 41, 33) !important;\"]',\n        run: () => {}, // This is a check.\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Drag the saturation slider\",\n        trigger: '.o_we_user_value_widget[data-param=\"gray-extra-saturation\"]',\n        run: () => {\n            const slider = document.querySelector('.o_we_user_value_widget[data-param=\"gray-extra-saturation\"] input');\n            slider.value = 15;\n            slider.dispatchEvent(new InputEvent('change', {bubbles: true}));\n        }\n    },\n    {\n        content: \"Check the preview of the gray 900 after saturation change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(34, 47, 27) !important;\"]',\n        run: () => {}, // This is a check.\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Wait for the iframe to be loaded\",\n        trigger: 'iframe body',\n        run: () => {\n            const iframeEl = document.querySelector('.o_website_preview .o_iframe');\n            const styles = iframeEl.contentWindow.getComputedStyle(iframeEl.contentDocument.documentElement);\n            if (styles.getPropertyValue('--900').toString().replace(/ /g, '') !== '#222F1B') {\n                console.error('The value for the gray 900 is not right');\n            }\n        }\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst snippet = {\n    id: 's_text_image',\n    name: 'Text - Image',\n};\n\nwTourUtils.registerWebsitePreviewTour('website_replace_grid_image', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop(snippet),\n    wTourUtils.clickOnSnippet(snippet),\n    {\n        content: \"Toggle to grid mode\",\n        trigger: '.o_we_user_value_widget[data-name=\"grid_mode\"]',\n    },\n    {\n        content: \"Replace image\",\n        trigger: 'iframe .s_text_image img',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n    },\n    {\n        content: \"Add new image column\",\n        trigger: '.o_we_user_value_widget[data-add-element=\"image\"]',\n    },\n    {\n        content: \"Replace new image\",\n        trigger: 'iframe .s_text_image img[src=\"/web/image/website.s_text_image_default_image\"]',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n    },\n    ...wTourUtils.clickOnSave()\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"scroll_to_new_grid_item\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    // Drop enough snippets to scroll.\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Text - Image\"}),\n    wTourUtils.dragNDrop({id: \"s_image_text\", name: \"Image - Text\"}),\n    wTourUtils.dragNDrop({id: \"s_image_text\", name: \"Image - Text\"}),\n    // Toggle the first snippet to grid mode.\n    wTourUtils.clickOnSnippet({id: \"s_text_image\", name: \"Text - Image\"}),\n    wTourUtils.changeOption(\"layout_column\", 'we-button[data-name=\"grid_mode\"]'),\n    // Add a new grid item.\n    wTourUtils.changeOption(\"layout_column\", 'we-button[data-add-element=\"image\"]'),\n    {\n        content: \"Check that the page scrolled to the new grid item\",\n        trigger: \"iframe .s_text_image .o_grid_item:nth-child(3)\",\n        run: function () {\n            // Leave some time to the page to scroll.\n            setTimeout(() => {\n                const newItemPosition = this.$anchor[0].getBoundingClientRect();\n                if (newItemPosition.top < 0) {\n                    console.error(\"The page did not scroll to the new grid item.\");\n                }\n                document.body.classList.add(\"o_scrolled_to_grid_item\");\n            }, 500);\n        },\n    }, {\n        content: \"Make sure the scroll check is done\",\n        trigger: \".o_scrolled_to_grid_item\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport { markup } from \"@odoo/owl\";\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\n// TODO remove this test; it is badly written: you just have to change the fact\n// that editor_enable is added on the body to silently make it useless +\n// useless extra_trigger + useless auto: true + ... A better duplicate of it has\n// been made with \"website_no_dirty_page\".\nwTourUtils.registerWebsitePreviewTour('homepage_edit_discard', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [{\n    trigger: \"#oe_snippets button[data-action=\\\"cancel\\\"]:not([disabled])\",\n    extra_trigger: \"body:not(:has(.o_dialog))\",\n    content: markup(\"<b>Click Discard</b> to Discard all Changes.\"),\n    position: \"bottom\",\n}, {\n    trigger: \"iframe body:not(.editor_enable)\",\n    auto: true,\n    run: () => null,\n}]);\n", "/** @odoo-module**/\n/* global ace */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst adminCssModif = '#wrap {display: none;}';\nconst demoCssModif = '// demo_edition';\n\nwTourUtils.registerWebsitePreviewTour('html_editor_language', {\n    url: '/test_page',\n    test: true,\n}, () => [{\n    content: \"open site menu\",\n    trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n}, {\n    content: \"open html editor\",\n    trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n}, {\n    content: \"add something in the page's default language version\",\n    trigger: 'div.ace_line .ace_xml:contains(\"rommelpot\")',\n    run: () => {\n        ace.edit(document.querySelector('#resource-editor div')).getSession().insert({\n            row: 1,\n            column: 1,\n        }, '<div class=\"test_language\"/>\\n');\n    },\n}, {\n    content: \"save the html editor\",\n    extra_trigger: 'div.ace_line .ace_xml:contains(\"test_language\")',\n    trigger: \".o_resource_editor .btn-primary\",\n}, {\n    content: \"check that the page has the modification\",\n    trigger: 'iframe #wrapwrap:has(.test_language)',\n    run: function () {}, // it's a check\n}, {\n    content: \"check that the page has not lost the original text\",\n    trigger: 'iframe #wrapwrap:contains(\"rommelpot\")',\n    run: function () {}, // it's a check\n}]\n);\n\nwTourUtils.registerWebsitePreviewTour('html_editor_multiple_templates', {\n    url: '/generic',\n    edition: true,\n    test: true,\n},\n    () => [\n        {\n            content: \"drop a snippet\",\n            trigger: \".oe_snippet:has(.s_cover) .oe_snippet_thumbnail\",\n            // id starting by 'oe_structure..' will actually create an inherited view\n            run: \"drag_and_drop_native iframe #oe_structure_test_ui\",\n        },\n        ...wTourUtils.clickOnSave(),\n        // 2. Edit generic view\n        {\n            content: \"open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"add something in the generic view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"Generic\")',\n            run: function () {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 3, column: 1}, '<p>somenewcontent</p>\\n');\n            },\n        },\n        // 3. Edit oe_structure specific view\n        {\n            content: \"select oe_structure specific view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"somenewcontent\")',\n            run: function () {},\n        },\n        {\n            content: \"open file selector menu\",\n            trigger: \".o_resource_editor .o_select_menu_toggler\",\n        },\n        {\n            content: \"open oe_structure_test_ui view\",\n            trigger: \".o_resource_editor .o_select_menu_item:contains(oe_structure_test_ui)\",\n        },\n        {\n            content: \"add something in the oe_structure specific view\",\n            extra_trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"oe_structure_test_ui\")',\n            trigger: 'div.ace_line .ace_xml:contains(\"s_cover\")',\n            run: function () {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 1}, '<p>anothernewcontent</p>\\n');\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: 'div.ace_line .ace_xml:contains(\"anothernewcontent\")',\n            trigger: \".o_resource_editor button:contains(Save)\",\n        },\n        {\n           content: \"check that the page has both modification\",\n           extra_trigger: 'iframe #wrapwrap:contains(\"anothernewcontent\")',\n           trigger: 'iframe #wrapwrap:contains(\"somenewcontent\")',\n           run: function () {}, // it's a check\n       },\n    ]\n);\n\nwTourUtils.registerWebsitePreviewTour('test_html_editor_scss', {\n    url: '/contactus',\n    test: true,\n},\n    () => [\n        // 1. Open Html Editor and select a scss file\n        {\n            content: \"open site menu\",\n            extra_trigger: 'iframe #wrap:visible', // ensure state for later\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_resource_editor_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_resource_editor_type_switcher .dropdown-item:contains(\"SCSS\")',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"user_custom_rules\")',\n            run: () => {},\n        },\n        // 2. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: \".o_resource_editor_title button:contains(Save)\",\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: 'iframe body:has(#wrap:hidden)',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#resource-editor-id button:contains(Reset)',\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly, wrap content should now be visible again\",\n            trigger: 'iframe #wrap:visible',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        // 3. Customize again that file (will be used in second part of the test\n        //    to ensure restricted user can still use the HTML Editor)\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: \".o_resource_editor_title button:contains(Save)\",\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: 'iframe body:has(#wrap:hidden)',\n            run: function () {}, // it's a check\n        },\n    ]\n);\n\nwTourUtils.registerWebsitePreviewTour('test_html_editor_scss_2', {\n    url: '/',\n    test: true,\n},\n    () => [\n        // This part of the test ensures that a restricted user can still use\n        // the HTML Editor if someone else made a customization previously.\n\n        // 4. Open Html Editor and select a scss file\n        {\n            content: \"open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_resource_editor_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_resource_editor_type_switcher .dropdown-item:contains(\"SCSS\")',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"user_custom_rules\")',\n            run: () => {},\n        },\n        // 5. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`, // ensure the admin modification is here\n            run: function () {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${demoCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${demoCssModif}\")`,\n            trigger: \".o_resource_editor button:contains(Save)\",\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#resource-editor-id button:contains(Reset)',\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly\",\n            extra_trigger: `body:not(:has(div.ace_line:contains(\"${adminCssModif}\")))`,\n            trigger: `body:not(:has(div.ace_line:contains(\"${demoCssModif}\")))`,\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n    ]\n);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\nimport { boundariesIn, setSelection, nodeSize } from '@web_editor/js/editor/odoo-editor/src/utils/utils';\n\nconst clickOnImgStep = {\n    content: \"Click somewhere else to save.\",\n    trigger: 'iframe #wrap .s_text_image img',\n};\n\nwTourUtils.registerWebsitePreviewTour('link_tools', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // 1. Create a new link from scratch.\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Replace first paragraph, to insert a new link\",\n        trigger: 'iframe #wrap .s_text_image p',\n        run: 'text Go to odoo: '\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#toolbar:not(.oe-floating) #o_link_dialog_url_input',\n        run: 'text odoo.com'\n    },\n    clickOnImgStep,\n    {\n        content: \"Select the newly created link\",\n        trigger: 'iframe #wrap .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n        run() {\n            setSelection(this.$anchor[0], 0, this.$anchor[0], nodeSize(this.$anchor[0]));\n        }\n    },\n    // Remove the link.\n    {\n        content: \"Click on the newly created link\",\n        trigger: 'iframe #wrap .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n    },\n    {\n        content: \"Remove the link.\",\n        trigger: 'iframe .popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n    },\n    {\n        content: \"Check that the link was removed\",\n        trigger: 'iframe #wrap .s_text_image p:contains(\"Go to odoo:\"):not(:has(a))',\n        run: () => {}, // It's a check.\n    },\n    // Recreate the link.\n    {\n        content: \"Select first paragraph, to insert a new link\",\n        trigger: 'iframe #wrap .s_text_image p',\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar #create-link\",\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text odoo.com'\n    },\n    clickOnImgStep,\n    // 2. Edit the link with the link tools.\n    {\n        content: \"Click on the newly created link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n    },\n    {\n        content: \"Change content (editing the label input) to odoo website_2\",\n        trigger: '#o_link_dialog_label_input:propValue(odoo.com)',\n        run: 'text odoo website_2',\n    },\n    {\n        content: \"Click again on the link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website_2\")',\n    },\n    {\n        content: \"Change content (editing the DOM) to odoo website\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website_2\")',\n        run: 'text odoo website',\n    },\n    clickOnImgStep,\n    {\n        content: \"Click again on the link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website\")',\n    },\n    {\n        content: \"Check that the label input contains the new content\",\n        trigger: '#o_link_dialog_label_input:propValue(odoo website)',\n        isCheck: true,\n    },\n    {\n        content: \"Link tools, should be open, change the url\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text_blur odoo.be'\n    },\n\n    ...wTourUtils.clickOnSave(),\n    // 3. Edit a link after saving the page.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n    },\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: '#toolbar:not(.oe-floating) .dropdown:has([name=\"link_style_color\"]) > button',\n    },\n    {\n        content: \"Click on the secondary style button.\",\n        trigger: '#toolbar:not(.oe-floating) we-button[data-value=\"secondary\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"The link should have the secondary button style.\",\n        trigger: 'iframe .s_text_image a.btn.btn-secondary[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n        isCheck: true,\n    },\n    // 4. Add link on image.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({\n        id: 's_three_columns',\n        name: 'Columns',\n    }),\n    {\n        content: \"Click on the first image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) img',\n    },\n    {\n        content: \"Activate link.\",\n        trigger: '.o_we_customize_panel we-row:contains(\"Media\") we-button.fa-link',\n    },\n    {\n        content: \"Set URL.\",\n        trigger: '.o_we_customize_panel we-input:contains(\"Your URL\") input',\n        run: 'text odoo.com',\n    },\n    {\n        content: \"Deselect image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(2) img',\n    },\n    {\n        content: \"Re-select image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) img',\n    },\n    {\n        content: \"Check that the second image is not within a link.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(2) div > img',\n        isCheck: true,\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: 'iframe .popover div a:contains(\"http://odoo.com\")',\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the first image was saved.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) div > a > img',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Check that the second image was saved.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(2) div > img',\n        run: () => {}, // It's a check.\n    },\n    // 5. Remove link from image.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Reselect the first image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) div > a > img',\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: 'iframe .popover div a:contains(\"http://odoo.com\")',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Remove link.\",\n        trigger: 'iframe .popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n    },\n    {\n        content: \"Check that image is not within a link anymore.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) div > img',\n        isCheck: true,\n    },\n    // 6. Add mega menu with Cards template and edit URL on text-selected card.\n    wTourUtils.clickOnElement(\"menu link\", \"iframe header .nav-item a\"),\n    wTourUtils.clickOnElement(\"'Edit menu' icon\", \"iframe .o_edit_menu_popover .fa-sitemap\"),\n    {\n        content: \"Click on 'Add Mega Menu Item' link\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: \".modal-body a:contains('Add Mega Menu Item')\",\n    },\n    {\n        content: \"Enter mega menu name\",\n        trigger: \".modal-body input\",\n        run: \"text Mega\",\n    },\n    wTourUtils.clickOnElement(\"OK button\", \".btn-primary\"),\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Mega\") .fa-bars',\n        run: \"drag_and_drop_native .oe_menu_editor li:contains('Home') .fa-bars\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Mega\")',\n        isCheck: true,\n    },\n    wTourUtils.clickOnElement(\"Save button\", \".btn-primary:contains('Save')\"),\n    wTourUtils.clickOnElement(\"mega menu\", \"iframe header .o_mega_menu_toggle\"),\n    wTourUtils.changeOption(\"MegaMenuLayout\", \"we-toggler\"),\n    wTourUtils.changeOption(\"MegaMenuLayout\", '[data-select-label=\"Cards\"]'),\n    wTourUtils.clickOnElement(\"card's text\", \"iframe header .s_mega_menu_cards span\"),\n    {\n        content: \"Enter an URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text https://www.odoo.com\",\n    },\n    {\n        content: \"Check nothing is lost\",\n        trigger: \"iframe header .s_mega_menu_cards a[href='https://www.odoo.com']:has(img):has(h4):has(span)\",\n        isCheck: true,\n    },\n    // 7. Create new a link from a URL-like text.\n    {\n        content: \"Replace first paragraph, write a URL\",\n        trigger: 'iframe #wrap .s_text_image p',\n        run: 'text odoo.com'\n    },\n    {\n        content: \"Select text\",\n        trigger: 'iframe #wrap .s_text_image p:contains(odoo.com)',\n        run() {\n            setSelection(...boundariesIn(this.$anchor[0]), false);\n        }\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar #create-link\",\n    },\n    clickOnImgStep,\n    {\n        // URL transformation into link should persist, without the need for\n        // input at input[name=url]\n        content: \"Check that link was created\",\n        trigger: \"iframe .s_text_image p a[href='http://odoo.com']:contains('odoo.com')\",\n        isCheck: true,\n    },\n    {\n        content: \"Click on link to open the link tools\",\n        trigger: \"iframe .s_text_image p a\",\n    },\n    // 8. Check that http links are not coerced to https and vice-versa.\n    {\n        content: \"Change URL to https\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: 'text https://odoo.com',\n    },\n    {\n        content: \"Check that link was updated\",\n        trigger: \"iframe .s_text_image p a[href='https://odoo.com']:contains('odoo.com')\",\n        isCheck: true,\n    },\n    {\n        content: \"Change it back http\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: 'text http://odoo.com',\n    },\n    {\n        content: \"Check that link was updated\",\n        trigger: \"iframe .s_text_image p a[href='http://odoo.com']:contains('odoo.com')\",\n        isCheck: true,\n    },\n    // 9. Test conversion between http and mailto links.\n    {\n        content: \"Change URL into an email address\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text callme@maybe.com\",\n    },\n    {\n        content: \"Check that link was updated and link content is synced with URL\",\n        trigger: \"iframe .s_text_image p a[href='mailto:callme@maybe.com']:contains('callme@maybe.com')\",\n        isCheck: true,\n    },\n    {\n        content: \"Change URL back into a http one\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text_blur callmemaybe.com\",\n    },\n    {\n        content: \"Check that link was updated and link content is synced with URL\",\n        trigger: \"iframe .s_text_image p a[href='http://callmemaybe.com']:contains('callmemaybe.com')\",\n    },\n    // 10. Test that UI stays up-to-date.\n    // TODO this step which was added by https://github.com/odoo/odoo/commit/9fc283b514d420fdfd66123845d9ec3563572692\n    // for no apparent reason (the X-original-commit of that one does not add\n    // this step) is not required for the test to work (it passes more often\n    // without this step than with it). It is a cause of race condition (last\n    // check: 31 over 162 tries failed on this). It however makes sense: the\n    // popover should indeed be shown and stay shown at this point. To be\n    // reenabled once the related feature is robust.\n    /*\n    {\n        content: \"Popover should be shown\",\n        trigger: \"iframe .o_edit_menu_popover .o_we_url_link:contains('http://callmemaybe.com')\",\n        isCheck: true,\n    },\n    */\n    {\n        content: \"Edit link label\",\n        trigger: \"iframe .s_text_image p a\",\n        run(actions) {\n            // See SHOPS_STEP_DISABLED. TODO. These steps do not consistently\n            // update the link for some reason... to investigate.\n            /*\n            // Simulating text input.\n            const link = this.$anchor[0];\n            actions.text(\"callmemaybe.com/shops\");\n            // Trick the editor into keyboardType === 'PHYSICAL' and delete the\n            // last character \"s\" and end with \"callmemaybe.com/shop\"\n            link.dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Backspace\", bubbles: true }));\n            // Trigger editor's '_onInput' handler, which leads to a history step.\n            link.dispatchEvent(new InputEvent('input', {inputType: 'insertText', bubbles: true}));\n            */\n        },\n    },\n    // See SHOPS_STEP_DISABLED. TODO.\n    /*\n    {\n        content: \"Check that links's href was updated\",\n        trigger: \"iframe .s_text_image p a[href='http://callmemaybe.com/shop']:contains('callmemaybe.com/shop')\",\n        isCheck: true,\n    },\n    */\n    // TODO this step is disabled for now because it is a cause of race\n    // condition (last check: 57 over 162 tries failed on this). The popover\n    // seems to sometimes unexpectedly close. Probably why the \"Popover should\n    // be shown\" step above had to be disabled as well.\n    /*\n    {\n        content: \"Check popover content is up-to-date\",\n        trigger: \"iframe .popover div a:contains('http://callmemaybe.com/shop')\",\n        isCheck: true,\n    },\n    */\n    // TODO this step is disabled for now because writing \"/shop\" in above steps\n    // currently is not considered most of the time all of a sudden... to\n    // investigate (it was not needed in 16.4). See SHOPS_STEP_DISABLED.\n    /*\n    {\n        content: \"Check Link tools URL input content is up-to-date\",\n        trigger: \"#o_link_dialog_url_input\",\n        run() {\n            // FIXME this was changed with 69a27360c98aee3d97eb42e9a27a751311791e15\n            // to omit the http:// part... but this part is removed\n            // inconsistently. Trying to fix the test actually made it so\n            // http:// is still there at this point... make it consistent and\n            // then remove http:// here again.\n            if (this.$anchor[0].value !== 'http://callmemaybe.com/shop') {\n                throw new Error(\"Tour step failed\");\n            }\n        }\n    },\n    */\n    // 11. Pick a URL with auto-complete\n    {\n        content: \"Enter partial URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: 'text /contact'\n    },\n    {\n        content: \"Pick '/contactus\",\n        trigger: \"ul.ui-autocomplete li div:contains('/contactus (Contact Us)')\",\n    },\n    {\n        content: \"Check that links's href and label were updated\",\n        trigger: \"iframe .s_text_image p a[href='/contactus']:contains('/contactus')\",\n        isCheck: true,\n    },\n    // 12. Add a link leading to a 404 page\n    {\n        content: \"Enter a non-existent URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text /this-address-does-not-exist\",\n    },\n    {\n        content: \"Check that the link's href was updated and click on it\",\n        trigger: \"iframe .s_text_image p a[href='/this-address-does-not-exist']\",\n    },\n    // TODO this step is disabled for now because it is a cause of race\n    // condition (last check: 3 times over 95). The popover seems to sometimes\n    // unexpectedly close.\n    /*\n    {\n        content: \"Check popover content is up-to-date (2)\",\n        trigger: \"iframe .popover div a:contains('/this-address-does-not-exist')\",\n        isCheck: true,\n    },\n    */\n    // 13. Check that ZWS is not added in the link label input.\n    clickOnImgStep,\n    {\n        content: \"Click on contact us button\",\n        trigger: \"iframe a.btn[href='/contactus']\",\n    },\n    {\n        content: \"Verify that the link label input does not contain ZWS\",\n        trigger: \"#o_link_dialog_label_input:propValue('Contact Us')\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module */\n\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_undraw\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\nwTourUtils.dragNDrop({\n    id: 's_text_image',\n    name: 'Text - Image',\n}),\n{\n    content: \"Open the media dialog from the snippet\",\n    trigger: \"iframe .s_text_image img\",\n    run: \"dblclick\",\n}, {\n    content: \"Search for 'banner' to call the media library\", // Mocked call\n    trigger: \".o_select_media_dialog .o_we_search\",\n    run: \"text banner\",\n}, {\n    content: \"Check that the media library is available\",\n    trigger: '.o_select_media_dialog:has(.o_we_search_select option[value=\"media-library\"])',\n    run: () => null, // it's a check\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_external_library\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n    }),\n    {\n        content: \"Open the media dialog from the snippet\",\n        trigger: \"iframe .s_text_image img\",\n        run: \"dblclick\",\n    }, {\n        content: \"Dummy search to call the media library\",\n        trigger: \".o_select_media_dialog .o_we_search\",\n        run: \"text a\",\n    }, {\n        content: \"Choose the media library to only show its media\",\n        trigger: \".o_select_media_dialog .o_we_search_select\",\n        // This is a standard <select>: we can't simulate a click on the option\n        // directly.\n        run: function (actions) {\n            actions.click();\n            actions.text(\"Illustrations\");\n            this.$anchor.trigger($.Event(\"keydown\", {key: 'Enter', keyCode: 13}));\n        },\n    }, {\n        content: \"Double click on the first image\",\n        trigger: \".o_select_media_dialog img.o_we_attachment_highlight\",\n        run: \"dblclick\",\n    }, {\n        content: \"Reopen the media dialog\",\n        trigger: \"iframe .s_text_image img\",\n        run: \"dblclick\",\n    }, {\n        content: \"Check that the image was created only once\",\n        trigger: \".o_select_media_dialog .o_we_existing_attachments\",\n        run: function () {\n            const selector = \".o_existing_attachment_cell img[src^='/web_editor/shape/illustration/']\";\n            const imgName = this.$anchor[0].querySelector(selector).title;\n            const uploadedImgs = this.$anchor[0].querySelectorAll(`${selector}[title='${imgName}']`);\n            if (uploadedImgs.length !== 1) {\n                throw new TourError(`${uploadedImgs.length} attachment(s) were found. Exactly 1 should have been created.`);\n            }\n        },\n    },\n    {\n        content: \"Click on the first illustration image\",\n        trigger: \".o_select_media_dialog .o_we_attachment_highlight\",\n    },\n    {\n        content: \"Select the image\",\n        trigger: \"iframe .s_text_image img\",\n    },\n    {\n        content: \"Try to crop the image\",\n        trigger: \"#oe_snippets .o_we_customize_panel .o_we_user_value_widget[data-crop='true']\",\n    },\n    {\n        content: \"Observe the crop is denied for illustration image\",\n        trigger: \".o_notification_manager .o_notification\",\n        run: () => {}, // it's a check\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n\nwTourUtils.registerWebsitePreviewTour('website_media_dialog_icons', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_process_steps',\n        name: 'Steps',\n    }),\n    {\n        content: \"Open MediaDialog from a snippet icon\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Pick the same icon\",\n        trigger: '.o_select_media_dialog .o_we_attachment_selected.fa-unlock-alt',\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Open MediaDialog again\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the ADD button\",\n        trigger: '.o_select_media_dialog .btn:contains(Add)',\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnSave()\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_image_shape\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n    }),\n    {\n        content: \"Click on the image\",\n        trigger: \"iframe .s_text_image img\",\n    },\n    wTourUtils.changeOption(\"ImageTools\", 'we-select[data-name=\"shape_img_opt\"] we-toggler'),\n    wTourUtils.changeOption(\"ImageTools\", \"we-button[data-set-img-shape]\"),\n    {\n        content: \"Open MediaDialog from an image\",\n        trigger: \"iframe .s_text_image img[data-shape]\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the 'Icons' tab\",\n        trigger: '.o_select_media_dialog .o_notebook_headers .nav-item a:contains(\"Icons\")',\n    },\n    {\n        content: \"Select an icon\",\n        trigger: \".o_select_media_dialog:has(.nav-link.active:contains('Icons')) .tab-content span.fa-heart\",\n    },\n    {\n        content: \"Checks that the icon doesn't have a shape\",\n        trigger: \"iframe .s_text_image .fa-heart:not([data-shape])\",\n        run: () => {}, //it's a check\n    },\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_insert_media\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_block\",\n        name: \"Text\",\n    }),\n    {\n        content: \"Click on the first paragraph\",\n        trigger: \"iframe .s_text_block p\",\n    },\n    {\n        content: \"Click on the toolbar's 'insert media' button\",\n        trigger: \".oe-toolbar #media-insert\",\n    },\n    {\n        content: \"Click on the 'Icons' tab\",\n        trigger: \".o_select_media_dialog a.nav-link:contains('Icons')\",\n    },\n    {\n        content: \"Click on the first icon\",\n        trigger: \".o_select_media_dialog .font-icons-icon\",\n    },\n    {\n        content: \"Verify that the icon was inserted\",\n        trigger: \"iframe .s_text_block p > span.fa\",\n        run: () => {}, //it's a check\n    },\n]);\n", "/** @odoo-module */\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\n    \"website_media_iframe_video\",\n    {\n        test: true,\n        url: \"/\",\n        edition: true,\n    }, () => [\n        wTourUtils.dragNDrop({\n            id: \"s_text_image\",\n            name: \"Text - Image\",\n        }),\n        {\n            content: \"Select the image\",\n            trigger: \"iframe #wrap .s_text_image img\",\n        },\n        {\n            content: \"Open image link options\",\n            trigger: \"[data-name='media_link_opt']\",\n        },\n        {\n            content: \"Enter the url\",\n            trigger: \"input[placeholder='www.example.com']\",\n            run: \"text odoo.com\",\n        },\n        {\n            content: \"Click on replace media\",\n            trigger: \"[data-replace-media='true']\",\n        },\n        {\n            content: \"Click on video button\",\n            trigger: \"a:contains('Videos')\",\n        },\n        {\n            content: \"Enter video link\",\n            trigger: \"#o_video_text\",\n            run: \"text https://youtu.be/nbso3NVz3p8\",\n        },\n        {\n            content: \"Check video is preview\",\n            trigger: \".o_video_dialog_iframe\",\n            run: () => {}, // This is a check.\n        },\n        {\n            content: \"Click on 'add' button\",\n            trigger: \".modal-footer button:contains('Add')\",\n        },\n        {\n            content: \"Ensure that the parent of media_iframe_video is not an 'a' tag.\",\n            trigger: \"iframe .media_iframe_video\",\n            run: function () {\n                if (this.$anchor[0].parentElement.tagName === \"A\") {\n                    console.error(\"Iframe video has link!!!\");\n                }\n            },\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_multi_edition', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    {\n        content: 'Check the current page has not the elements that will be added',\n        trigger: 'iframe body:not(:has(.s_text_image)):not(:has(.s_hr))',\n        run: () => null,\n    },\n    // Edit the main element of the page\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    // Edit another part in the page, like the footer\n    wTourUtils.dragNDrop({\n        id: 's_hr',\n        name: 'Separator',\n    }),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Check that the main element of the page was properly saved',\n        trigger: 'iframe main .s_text_image',\n        run: () => null,\n    },\n    {\n        content: 'Check that the footer was properly saved',\n        trigger: 'iframe footer .s_hr',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\nimport { registry } from \"@web/core/registry\";\n\n// TODO: This part should be moved in a QUnit test\nconst checkKanbanGroupBy = [{\n    content: \"Click on Kanban View\",\n    trigger: '.o_cp_switch_buttons .o_kanban',\n}, {\n    content: \"Open search panel menu\",\n    extra_trigger: '.o_kanban_renderer',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n}, {\n    content: \"Select 'Active' in the select of Add Custom Group\",\n    trigger: \".o_add_custom_group_menu\",\n    run: \"text active\",\n}, {\n    content: \"Click on List View\",\n    extra_trigger: '.o_kanban_renderer .o_kanban_header',\n    trigger: '.o_cp_switch_buttons .o_list',\n}, {\n    content: \"Remove applied Group By\",\n    extra_trigger: '.o_list_renderer',\n    trigger: '.o_cp_searchview .o_facet_remove',\n}];\n\nconst checkWebsiteFilter = [{\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n}, {\n\tcontent: \"Select Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n}, {\n\tcontent: \"Check that the homepage is now the one of Test Website\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n\trun: () => null, // it's a check\n}, {\n\tcontent: \"Check that the search options are still open\",\n\ttrigger: \".o_search_bar_menu\",\n\trun: () => null, // it's a check\n}, {\n\tcontent: \"Go back to My Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('My Website')\",\n}, {\n\tcontent: \"Check that the homepage is now the one of My Website\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('My Website'):not(:contains('2'))\",\n\trun: () => null, // it's a check\n}];\n\nconst deleteSelectedPage = [\n    {\n        content: \"Click on Action\",\n        trigger: '.o_cp_action_menus button',\n    },\n    {\n        content: \"Click on Delete\",\n        trigger: '.o-dropdown--menu span:contains(\"Delete\")',\n    },\n    {\n        content: \"Click on I am sure about this\",\n        trigger: 'main.modal-body input[type=\"checkbox\"]',\n        // The loading of the dependencies can take a while and\n        // sometimes reach the default 10s timeout\n        timeout: 20000,\n    },\n    {\n        content: \"Click on OK\",\n        trigger: '.modal-content footer button.btn-primary:not([disabled])',\n    }\n];\nconst homePage = 'tr:contains(\"Home\")';\n\nwTourUtils.registerWebsitePreviewTour('website_page_manager', {\n    test: true,\n    url: '/',\n}, () => [\n    {\n        content: \"Click on Site\",\n        trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Pages\",\n        trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n    },\n    ...checkKanbanGroupBy,\n    ...checkWebsiteFilter,\n    {\n        content: \"Click on Home Page\",\n        trigger: `.o_list_renderer ${homePage} td.o_list_record_selector input[type=\"checkbox\"]`,\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that the page has been removed\",\n        trigger: `.o_list_renderer:not(:has(${homePage}))`,\n        run: () => null,\n    },\n    {\n        content: \"Click on All Pages\",\n        trigger: '.o_list_renderer thead input[type=\"checkbox\"]',\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that all pages have been removed\",\n        trigger: '.o_list_renderer tbody:not(:has([data-id]))',\n        run: () => null,\n    },\n]);\n\nwTourUtils.registerWebsitePreviewTour('website_page_manager_session_forced', {\n    test: true,\n    url: '/',\n}, () => [...wTourUtils.testSwitchWebsite('Test Website'), {\n    content: \"Click on Site\",\n    trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n}, {\n    content: \"Click on Pages\",\n    trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n}, {\n    content: \"Check that the homepage is the one of Test Website\",\n    trigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n             \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n    run: () => null, // it's a check\n}, {\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n}, {\n\tcontent: \"Check that the selected website is Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n    run: () => null, // it's a check\n}]);\n\nregistry.category(\"web_tour.tours\").add('website_page_manager_direct_access', {\n    test: true,\n    url: '/web#action=website.action_website_pages_list',\n    steps: () => [{\n    content: \"Check that the homepage is the one of Test Website\",\n    trigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n             \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n    run: () => null, // it's a check\n}, {\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n}, {\n\tcontent: \"Check that the selected website is Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n    run: () => null, // it's a check\n}]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst coverSnippet = {id: \"s_cover\", name: \"Cover\"};\n\nwTourUtils.registerWebsitePreviewTour(\"test_parallax\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop(coverSnippet),\n    wTourUtils.clickOnSnippet(coverSnippet),\n    wTourUtils.changeOption(\"BackgroundOptimize\", \"we-toggler\"),\n    wTourUtils.changeOption(\"BackgroundOptimize\", 'we-button[data-gl-filter=\"blur\"]'),\n{\n    content: \"Check that the Cover snippet has the Blur filter on its background image\",\n    trigger: \"iframe .s_cover span[data-gl-filter='blur']\",\n    isCheck: true,\n},\n    wTourUtils.changeOption(\"Parallax\", \"we-toggler\"),\n    wTourUtils.changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"0\"]'),\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \"iframe .s_cover[data-gl-filter='blur']\",\n    isCheck: true,\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \"iframe .s_cover.o_modified_image_to_save\",\n    isCheck: true,\n},\n    wTourUtils.changeOption(\"Parallax\", \"we-toggler\"),\n    wTourUtils.changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"1\"]'),\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been deleted from the old target\",\n    trigger: \"iframe .s_cover:not(.o_modified_image_to_save)\",\n    isCheck: true,\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \"iframe span.s_parallax_bg.o_modified_image_to_save\",\n    isCheck: true,\n},\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \"iframe span.s_parallax_bg[data-gl-filter='blur']\",\n    isCheck: true,\n},\n    wTourUtils.changeOption(\"Parallax\", \"we-toggler\"),\n    wTourUtils.changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"1.5\"]'),\n{\n    content: \"Check that the option was correctly applied\",\n    trigger: 'iframe span.s_parallax_bg[style*=top][style*=bottom][style*=transform]',\n    run: () => {}, //it's a check\n},\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: \"The parallax should not add o_dirty when entering edit mode\",\n    trigger: 'iframe #wrap:not(.o_dirty)',\n    run: () => {}, //it's a check\n},\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\n    \"website_popup_visibility_option\",\n    {\n        test: true,\n        edition: true,\n        url: \"/\",\n    },\n    () => [\n        wTourUtils.dragNDrop({\n            id: \"s_popup\",\n            name: \"Popup\",\n        }),\n        {\n            content: \"Click on the column within the popup snippet.\",\n            trigger: \"iframe #wrap .s_popup .o_cc1\",\n        },\n        {\n            content: \"Click the 'No Desktop' visibility option.\",\n            trigger:\n                \".snippet-option-DeviceVisibility we-button[data-toggle-device-visibility='no_desktop']\",\n        },\n        {\n            content: \"Verify that the popup is visible and the column is invisible.\",\n            trigger:\n                \".o_we_invisible_root_parent i.fa-eye, ul .o_we_invisible_entry i.fa-eye-slash\",\n            run: () => null, // it's a check\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"website_powerbox_snippet\", {\n    edition: true,\n    test: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_block\",\n        name: \"Text\",\n    }), {\n        content: \"Check if s_text_block snippet is inserted\",\n        trigger: \"iframe .s_text_block\",\n        run: () => {},\n    }, {\n        content: \"Select the last paragraph\",\n        trigger: \"iframe .s_text_block p:last-child\",\n    }, {\n        content: \"Show the powerbox\",\n        trigger: \"iframe .s_text_block p:last-child\",\n        run: function(actions) {\n            actions.text(`/`, this.$anchor[0]);\n            const wrapwrapEl = this.$anchor[0].closest(\"#wrapwrap\");\n            wrapwrapEl.dispatchEvent(\n                new InputEvent(\"input\", {\n                    inputType: \"insertText\",\n                    data: \"/\",\n                })\n            );\n        },\n    }, {\n        content: \"Initially alert snippet should be present in the powerbox\",\n        trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n        run: () => {},\n    }, {\n        content: \"Change the content to '/table' so that alert snippet should not be present in the powerbox\",\n        trigger: \"iframe .s_text_block p:last-child\",\n        run: function() {\n            const wrapwrapEl = this.$anchor[0].closest(\"#wrapwrap\");\n            this.$anchor[0].textContent = \"/table\";\n            wrapwrapEl.ownerDocument.dispatchEvent(\n                new KeyboardEvent('keyup', {\n                    key: 'DummyKey',\n                    code: 'KeyDummy',\n                    cancelable: true,\n                })\n            );\n        },\n    }, {\n        content: \"Alert snippet should not be present in the powerbox\",\n        trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:not(:contains('Alert'))\",\n        run: () => {},\n    }, {\n        content: \"Change the content to '/banner'\",\n        trigger: \"iframe .s_text_block p:last-child\",\n        run: function() {\n            const wrapwrapEl = this.$anchor[0].closest(\"#wrapwrap\");\n            this.$anchor[0].textContent = \"/banner\";\n            wrapwrapEl.ownerDocument.dispatchEvent(\n                new KeyboardEvent('keyup', {\n                    key: 'DummyKey',\n                    code: 'KeyDummy',\n                    cancelable: true,\n                })\n            );\n        },\n    }, {\n        content: \"Alert snippet should be present in the powerbox\",\n        trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n        run: () => {},\n    }, {\n        content: \"Click on the alert snippet\",\n        trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n    }, {\n        content: \"Check if s_alert snippet is inserted\",\n        trigger: \"iframe .s_alert\",\n        run: () => {},\n    }\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('public_user_editor', {\n    test: true,\n    steps: () => [{\n    trigger: '.note-editable',\n    run: function () {}, // Simple check\n}]});\n", "odoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@web_editor/js/frontend/loadWysiwygFromTextarea\") {\n        const publicWidget = odoo.loader.modules.get(\"@web/legacy/js/public/public_widget\")[Symbol.for('default')];\n        const { loadWysiwygFromTextarea } = e.detail.module;\n\n        publicWidget.registry['public_user_editor_test'] = publicWidget.Widget.extend({\n            selector: 'textarea.o_public_user_editor_test_textarea',\n\n            /**\n             * @override\n             */\n            start: async function () {\n                await this._super(...arguments);\n                await loadWysiwygFromTextarea(this, this.el, {});\n            },\n        });\n    }\n})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_reset_password', {\n    test: true,\n    steps: () => [\n    {\n        content: \"fill new password\",\n        trigger: '.oe_reset_password_form input[name=\"password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"fill confirm password\",\n        trigger: '.oe_reset_password_form input[name=\"confirm_password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"submit reset password form\",\n        trigger: '.oe_reset_password_form button[type=\"submit\"]',\n    },\n    {\n        content: \"check that we're logged in\",\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: function () {}\n    },\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"restricted_editor\", {\n    test: true,\n    url: \"/\",\n}, () => [\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\nimport { whenReady } from \"@odoo/owl\";\n\nwTourUtils.registerWebsitePreviewTour('rte_translator', {\n    test: true,\n    url: '/',\n    edition: true,\n    wait_for: whenReady(),\n}, () => [\nwTourUtils.goToTheme(),\n{\n    content: \"click on Add a language\",\n    trigger: \"we-button[data-add-language]\"\n}, {\n    content: \"confirm leave editor\",\n    trigger: \".modal-dialog button.btn-primary\"\n}, {\n    content: \"type Parseltongue\",\n    trigger: 'div[name=\"lang_ids\"] .o_input_dropdown input',\n    run: 'text Parseltongue',\n}, {\n    content: 'select Parseltongue',\n    trigger: '.dropdown-item:contains(Parseltongue)',\n}, {\n    content: \"load Parseltongue\",\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-dialog div[name=\"lang_ids\"] .rounded-pill .o_tag_badge_text:contains(Parseltongue)',\n}, {\n    content: \"click language dropdown (2)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n    timeout: 60000,\n}, {\n    content: \"go to english version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"en\"]',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]',\n}, {\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    extra_trigger: 'iframe html[lang*=\"en-US\"]',\n    consumeVisibleOnly: true,\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n}, {\n    content: \"click on Use this template\",\n    trigger: \".o_page_template button.btn-primary\",\n}, {\n    content: \"insert file name\",\n    trigger: '.modal-dialog input[type=\"text\"]',\n    run: 'text rte_translator.xml',\n}, {\n    content: \"create file\",\n    trigger: '.modal-dialog button.btn-primary',\n    extra_trigger: 'input[type=\"text\"]:propValue(rte_translator.xml)',\n}, {\n    content: \"click on the 'page manager' button\",\n    trigger: 'button[name=\"website.action_website_pages_list\"]',\n}, {\n    content: \"click on the record to display the xml file in the iframe\",\n    trigger: 'td:contains(\"rte_translator.xml\")',\n}, {\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    consumeVisibleOnly: true,\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n}, {\n    content: \"click on Use this template\",\n    trigger: \".o_page_template button.btn-primary\",\n}, {\n    content: \"insert page name\",\n    trigger: '.modal-dialog input[type=\"text\"]',\n    run: 'text rte_translator',\n}, {\n    content: \"create page\",\n    trigger: '.modal-dialog button.btn-primary',\n    extra_trigger: 'input[type=\"text\"]:propValue(rte_translator)',\n},\nwTourUtils.dragNDrop({\n    id: \"s_cover\",\n    name: \"Cover\"\n}), {\n    content: \"change content\",\n    trigger: 'iframe #wrap',\n    run: function () {\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap p:first\").replaceWith('<p>Write one or <font style=\"background-color: yellow;\">two paragraphs <b>describing</b></font> your product or\\\n                <font style=\"color: rgb(255, 0, 0);\">services</font>. To be successful your content needs to be\\\n                useful to your <a href=\"/999\">readers</a>.</p> <input value=\"test translate default value\" placeholder=\"test translate placeholder\"/>\\\n                <p>&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty</p>');\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap img\").attr(\"title\", \"test translate image title\");\n    }\n}, {\n    content: \"ensure change was applied\",\n    trigger: 'iframe #wrap p:first b',\n    isCheck: true,\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"click language dropdown (3)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n}, {\n    content: \"click on Parseltongue version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"pa_GB\"]',\n    extra_trigger: 'iframe html[lang*=\"en\"]',\n}, {\n    content: \"translate\",\n    trigger: '.o_menu_systray .o_translate_website_container > a',\n    extra_trigger: 'iframe html:not(:has(#wrap p span))',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-secondary',\n}, {\n    content: \"check if translation is activate\",\n    trigger: 'iframe [data-oe-translation-initial-sha]',\n}, {\n    content: \"translate text\",\n    extra_trigger: '#oe_snippets.o_loaded',\n    trigger: 'iframe #wrap p font:first',\n    run: function (actionHelper) {\n        actionHelper.text('translated Parseltongue text');\n        const { Wysiwyg } = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(this.$anchor.contents()[0], 22);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_'}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"translate text with special char\",\n    trigger: 'iframe #wrap input + p span:first',\n    run: function (actionHelper) {\n        actionHelper.click();\n        this.$anchor.prepend('&lt;{translated}&gt;');\n        const { Wysiwyg } = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(this.$anchor.contents()[0], 0);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_'}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"click on input\",\n    trigger: 'iframe #wrap input:first',\n    extra_trigger: 'iframe #wrap .o_dirty font:first:contains(translated Parseltongue text)',\n    run: 'click',\n}, {\n    content: \"translate placeholder\",\n    trigger: '.modal-dialog input:first',\n    run: 'text test Parseltongue placeholder',\n}, {\n    content: \"translate default value\",\n    trigger: '.modal-dialog input:last',\n    run: 'text test Parseltongue default value',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal input:propValue(test Parseltongue placeholder)',\n}, {\n    content: \"check: input marked as translated\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"].oe_translated',\n    run: () => {},\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"check: content is translated\",\n    trigger: 'iframe #wrap p font:first:contains(translated Parseltongue text)',\n    run: function () {}, // it's a check\n}, {\n    content: \"check: content with special char is translated\",\n    trigger: \"iframe #wrap input + p:contains(<{translated}><b></b> is an HTML\\xa0tag & )\",\n    run: function () {}, // it's a check\n\n}, {\n    content: \"check: placeholder translation\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"]',\n    run: function () {}, // it's a check\n}, {\n    content: \"check: default value translation\",\n    trigger: 'iframe input[value=\"test Parseltongue default value\"]',\n    run: () => {},\n}, {\n    content: \"open language selector\",\n    trigger: 'iframe .js_language_selector button:first',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]:not(:has(#wrap p span))',\n}, {\n    content: \"return to english version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"en\"]',\n}, {\n    content: \"Check body\",\n    trigger: \"iframe body:not(:has(#wrap p font:first:containsExact(paragraphs <b>describing</b>)))\",\n    run: function () {}, // it's a check\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: \"select text\",\n    trigger: 'iframe #wrap p',\n    run: function (actionHelper) {\n        actionHelper.click();\n        var el = this.$anchor[0];\n        var mousedown = document.createEvent('MouseEvents');\n        mousedown.initMouseEvent('mousedown', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mousedown);\n        var mouseup = document.createEvent('MouseEvents');\n        const { Wysiwyg } = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(el.childNodes[2], 6, el.childNodes[2], 13);\n        mouseup.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mouseup);\n    },\n// This is disabled for now because it reveals a bug that is fixed in saas-15.1\n// and considered a tradeoff in 15.0. The bug concerns the invalidation of\n// translations when inserting tags with more than one character. Whereas <u>\n// didn't trigger an invalidation, <span style=\"text-decoration-line: underline;\">\n// does.\n// }, {\n//     content: \"underline\",\n//     trigger: '.oe-toolbar #underline',\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"click language dropdown (4)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n}, {\n    content: \"return in Parseltongue\",\n    trigger: 'iframe html[lang=\"en-US\"] .js_language_selector .js_change_lang[data-url_code=\"pa_GB\"]',\n}, {\n    content: \"check bis: content is translated\",\n    trigger: 'iframe #wrap p font:first:contains(translated Parseltongue text)',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]',\n}, {\n    content: \"check bis: placeholder translation\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"]',\n}, {\n    content: \"open site menu\",\n    trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n}, {\n    content: \"Open HTML editor\",\n    trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n}, {\n    content: \"Check that the editor is not showing translated content (1)\",\n    trigger: '.ace_text-layer .ace_line:contains(\"an HTML\")',\n    run: function (actions) {\n        var lineEscapedText = $(this.$anchor.text()).last().text();\n        if (lineEscapedText !== \"&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty\") {\n            console.error('The HTML editor should display the correct untranslated content');\n            $('iframe:not(.o_ignore_in_tour)').contents().find('body').addClass('rte_translator_error');\n        }\n    },\n}, {\n    content: \"Check that the editor is not showing translated content (2)\",\n    trigger: 'iframe body:not(.rte_translator_error)',\n    run: function () {},\n}]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('skip_website_configurator', {\n    test: true,\n    url: '/web#action=website.action_website_configuration',\n    steps: () => [\n    {\n        content: \"create a new website\",\n        trigger: 'button[name=\"action_website_create_new\"]',\n    },\n    {\n        content: \"insert website name\",\n        trigger: 'div[name=\"name\"] input',\n        run: 'text Website EN'\n    },\n    {\n        content: \"validate the website creation modal\",\n        trigger: 'button.btn-primary'\n    },\n    {\n        content: \"skip configurator\",\n        // This trigger targets the skip button, it doesn't have a more\n        // explicit class or ID.\n        trigger: '.o_configurator_container .container-fluid .btn.btn-link'\n    },\n    {\n        content: \"make hover button appear\",\n        trigger: '.o_theme_preview',\n        run: () => {\n            $('.o_theme_preview .o_button_area').attr('style', 'visibility: visible; opacity: 1;');\n        },\n    },\n    {\n        content: \"Install a theme\",\n        trigger: 'button[name=\"button_choose_theme\"]'\n    },\n    {\n        content: \"Check that the homepage is loaded\",\n        trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        extra_trigger: \".o_menu_systray .o_user_menu\",\n        timeout: 30000,\n        isCheck: true,\n    },\n]});\n", "/** @odoo-module */\n\nimport weUtils from '@web_editor/js/common/utils';\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n];\nconst gradients = [\n    'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n    'linear-gradient(135deg, rgb(255, 222, 202) 0%, rgb(202, 115, 69) 100%)',\n];\n\nfunction typeToName(xType) {\n    return xType === 'cc' ? 'color combinations' : xType === 'bg' ? 'background colors' : 'gradients';\n}\n\nfunction switchTo(type, _name) {\n    const target = type === 'cc' ? 'color-combinations' : type === 'bg' ? 'custom-colors' : 'gradients';\n    const name = _name || typeToName(type);\n    return {\n        trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${target}\"]`,\n        content: `Switch to ${name}`,\n    };\n}\n\nfunction addCheck(steps, checkX, checkNoX, xType, noSwitch = false) {\n    if (!checkX && !checkNoX) {\n        return;\n    }\n\n    const name = typeToName(xType);\n    const selectorCheckX = checkX && `.o_we_color_btn[data-color=\"${checkX}\"].selected`;\n    const selectorCheckNoX = checkNoX && `.o_we_color_btn[data-color=\"${checkNoX}\"]:not(.selected)`;\n    const step = {\n        trigger: selectorCheckX || selectorCheckNoX,\n        content: `The correct ${name} is marked as selected`,\n        position: 'bottom',\n        run: () => null,\n    };\n    if (!selectorCheckX && selectorCheckNoX) {\n        step.extra_trigger = selectorCheckNoX;\n    }\n\n    if (!noSwitch) {\n        steps.push(switchTo(xType, name));\n    }\n    steps.push(step);\n}\n\nfunction checkAndUpdateBackgroundColor({\n    checkCC, checkNoCC,\n    checkBg, checkNoBg,\n    checkGradient, checkNoGradient,\n    changeType, change,\n    finalSelector, finalRun\n}) {\n    const steps = [\n        wTourUtils.changeBackgroundColor(),\n    ];\n\n    addCheck(steps, checkCC, checkNoCC, 'cc', true);\n    addCheck(steps, checkBg, checkNoBg, 'bg');\n    addCheck(steps, checkGradient, checkNoGradient, 'gradient');\n\n    if (changeType) {\n        steps.push(switchTo(changeType));\n        steps.push(wTourUtils.changeOption('ColoredLevelBackground', `.o_we_color_btn[data-color=\"${change}\"]`, 'background color', 'top', true));\n        steps.push({\n            trigger: finalSelector,\n            content: \"The selected colors have been applied (CC AND (BG or GRADIENT))\",\n            position: 'bottom',\n            run: finalRun,\n        });\n    }\n\n    return steps;\n}\n\nfunction updateAndCheckCustomGradient({updateStep, checkGradient}) {\n    const steps = [updateStep, {\n        trigger: `iframe #wrapwrap section.${snippets[0].id}.o_cc1`,\n        content: 'Color combination 1 still selected',\n        run: () => null,\n    }];\n    addCheck(steps, checkGradient, checkGradient !== gradients[0] && gradients[0], 'gradient', true);\n    return steps;\n}\n\nwTourUtils.registerWebsitePreviewTour('snippet_background_edition', {\n    url: '/',\n    edition: true,\n    test: true,\n},\n() => [\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\n\n// Set background image and save.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n},\n{\n    content: \"Click on image\",\n    trigger: \".o_select_media_dialog img[title='test.png']\",\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"Check that the image is set\",\n    trigger: `iframe section.${snippets[0].id} img[data-original-id]`,\n    isCheck: true,\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\nwTourUtils.clickOnSnippet(snippets[0]),\n// Remove background image.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n},\n\n// Add a color combination\n...checkAndUpdateBackgroundColor({\n    changeType: 'cc',\n    change: 3,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc3:not([class*=bg-]):not([style*=\"background\"])`,\n}),\n\n// Change the color combination + Check the previous one was marked as selected\n...checkAndUpdateBackgroundColor({\n    checkCC: 3,\n    changeType: 'cc',\n    change: 2,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2:not(.o_cc3):not([class*=bg-])`,\n}),\n\n// Check the color combination was marked as selected + Edit the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkNoCC: 3,\n    changeType: 'bg',\n    change: 'black-50',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2.bg-black-50`,\n}),\n\n// Check the current color palette selection + Change the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: 'black-50',\n    changeType: 'bg',\n    change: '800',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2.bg-800:not(.bg-black-50)`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the bg color class.\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: '800',\n    checkNoBg: 'black-50',\n    changeType: 'cc',\n    change: 4,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4:not(.o_cc2).bg-800`,\n}),\n\n// Check the current color palette status + Replace the bg color by a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoCC: 2,\n    checkBg: '800',\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4:not(.bg-800)[style*=\"background-image: ${gradients[0]}\"]`,\n}),\n\n// Check the current color palette status + Replace the gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoBg: '800',\n    checkGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4[style*=\"background-image: ${gradients[1]}\"]:not([style*=\"background-image: ${gradients[0]}\"])`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the gradient.\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkGradient: gradients[1],\n    checkNoGradient: gradients[0],\n    changeType: 'cc',\n    change: 1,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not(.o_cc4)[style*=\"background-image: ${gradients[1]}\"]`,\n}),\n\n// Final check of the color status in the color palette\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoCC: 4,\n    checkGradient: gradients[1],\n}),\n\n// Now, add an image on top of that color combination + gradient\n{\n    // Close the palette before selecting a media.\n    trigger: '.snippet-option-ColoredLevelBackground we-title',\n    content: 'Close palette',\n},\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]'),\n{\n    trigger: '.o_existing_attachment_cell img',\n    content: \"Select an image in the media dialog\",\n},\n{\n    trigger: `iframe .${snippets[0].id}.o_cc.o_cc1`,\n    run: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('An image should have been added as background.');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been kept when adding the background image');\n        }\n    },\n},\n\n// Replace the gradient while there is a background-image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[1],\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not([style*=\"${gradients[1]}\"])`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when changing the gradient');\n        }\n        if (parts.gradient !== gradients[0]) {\n            console.error('The gradient should have been changed');\n        }\n    },\n}),\n\n// Customize gradient\nwTourUtils.changeBackgroundColor(),\nswitchTo('gradient'),\n// Avoid navigating across tabs to maintain current editor state\n// Step colors\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_custom_gradient_scale',\n        content: 'Add step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_slider_multi input.active',\n        content: 'Move step',\n        run: () => {\n            const slider = $('.colorpicker .o_slider_multi input.active');\n            slider.val(45);\n            slider.trigger('click');\n        },\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_color_picker_inputs .o_hex_div input',\n        content: 'Pick step color',\n        run: 'text #FF0000',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(255, 0, 0) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_remove_color',\n        content: 'Delete step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Linear\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"angle\"]',\n        content: 'Change angle',\n        run: 'text_blur 50',\n    },\n    checkGradient: 'linear-gradient(50deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Radial\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-type=\"radial-gradient\"]',\n        content: 'Switch to Radial',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 25% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionX\"]',\n        content: 'Change X position',\n        run: 'text_blur 33',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionY\"]',\n        content: 'Change Y position',\n        run: 'text_blur 75',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-size=\"closest-side\"]',\n        content: 'Change color spread size',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle closest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Revert to predefined gradient\n{\n    trigger: `.o_we_color_btn[data-color=\"${gradients[0]}\"]`,\n    content: `Revert to predefiend gradient ${gradients[0]}`,\n    run: 'click',\n},\n\n// Replace the gradient by a bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[0],\n    checkNoGradient: gradients[1],\n    changeType: 'bg',\n    change: 'black-75',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1.bg-black-75[style^=\"background-image: url(\"]:not([style*=\"${gradients[0]}\"])`\n}),\n\n// Re-add a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkBg: 'black-75',\n    checkNoGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not(.bg-black-75)`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when re-adding the gradient');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been re-added');\n        }\n    },\n}),\n\n// Final check of color selection and removing the image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoBg: 'black-75',\n    checkGradient: gradients[1],\n}),\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]', 'image toggle', 'top', true),\n{\n    trigger: `iframe .${snippets[0].id}.o_cc.o_cc1[style*=\"background-image: ${gradients[1]}\"]`,\n    run: () => null,\n},\n\n// Now removing all colors via the 'None' button (note: colorpicker still opened)\n{\n    trigger: '.o_colorpicker_reset',\n    content: \"Click on the None button of the color palette\",\n},\n{\n    trigger: `iframe .${snippets[0].id}:not(.o_cc):not(.o_cc1):not([style*=\"background-image\"])`,\n    content: \"All color classes and properties should have been removed\",\n    run: () => null,\n}\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_cache_across_websites', {\n    edition: true,\n    test: true,\n    url: '/@/'\n}, () => [\n    {\n        content: \"Check that the custom snippet is displayed\",\n        trigger: '#snippet_custom_body span:contains(\"custom_snippet_test\")',\n        run: () => null,\n    },\n    // There's no need to save, but canceling might or might not show a popup...\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.testSwitchWebsite('Test Website'),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Check that the custom snippet is not here\",\n        extra_trigger: '#oe_snippets:not(:has(#snippet_custom_body span:contains(\"custom_snippet_test\")))',\n        trigger: '#oe_snippets:has(#snippet_custom.d-none)',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_countdown', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.clickOnSnippet({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message\"]', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button.toggle-edit-message', 'message preview'),\n    // The next two steps check that the end message does not disappear when a\n    // widgets_start_request is triggered.\n    {\n        content: \"Hover an option which has a preview\",\n        trigger: '[data-select-class=\"o_half_screen_height\"]',\n        run: function (actions) {\n            this.$anchor.trigger('mouseover');\n            this.$anchor.trigger('mouseenter');\n        },\n    },\n    {\n        content: \"Check that the countdown message is still displayed\",\n        trigger: 'iframe .s_countdown .s_picture',\n        run: () => {\n            // Just a visibility check\n\n            // Also make sure the mouseout and mouseleave are triggered so that\n            // next steps make sense.\n            // TODO the next steps are not actually testing anything without\n            // it and the mouseout and mouseleave make sense but really it\n            // should not be *necessary* to simulate those for the editor flow\n            // to make some sense.\n            const $previousAnchor = $('[data-select-class=\"o_half_screen_height\"]');\n            $previousAnchor.trigger('mouseout');\n            $previousAnchor.trigger('mouseleave');\n        },\n    },\n    // Next, we change the end action to message and no countdown while the edit\n    // message toggle is still activated. It should hide the countdown\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message_no_countdown\"]', 'end action'),\n    {\n        content: \"Check that the countdown is not displayed\",\n        trigger: 'iframe .s_countdown:has(.s_countdown_canvas_wrapper:not(:visible))',\n        run: () => null, // Just a visibility check\n    },\n    {\n        content: \"Check that the message is still displayed\",\n        trigger: 'iframe .s_countdown .s_picture',\n        run: () => null, // Just a visibility check\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\nimport { browser } from '@web/core/browser/browser';\n\nwTourUtils.registerWebsitePreviewTour('snippet_editor_panel_options', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\nwTourUtils.dragNDrop({\n    id: 's_text_image',\n    name: 'Text - Image',\n}),\n// Test keeping the text selection when using the width option.\n{\n    content: \"Click on the first paragraph.\",\n    trigger: 'iframe .s_text_image p',\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the width option.\",\n    trigger: '[data-select-class=\"o_container_small\"]',\n}, {\n    content: \"The snippet should have the correct class.\",\n    trigger: 'iframe .s_text_image > .o_container_small',\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test the anchor option.\n{\n    content: \"Click on the anchor option\",\n    trigger: '#oe_snippets .snippet-option-anchor we-button',\n    run() {\n        // Patch and ignore write on clipboard in tour as we don't have permissions\n        const oldWriteText = browser.navigator.clipboard.writeText;\n        browser.navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n        this.$anchor[0].click();\n        browser.navigator.clipboard.writeText = oldWriteText;\n    }\n}, {\n    content: \"Check the copied url from the notification toast\",\n    trigger: '.o_notification_manager .o_notification_content',\n    run() {\n        const { textContent } = this.$anchor[0];\n        const url = textContent.substring(textContent.indexOf('/'));\n\n        // The url should not target the client action\n        if (url.startsWith('/@')) {\n            console.error('The anchor option should target the frontend');\n        }\n\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const snippetId = iframeDocument.querySelector('.s_text_image').id;\n        if (!url || url.indexOf(snippetId) < 0) {\n            console.error('The anchor option does not target the correct snippet.');\n        }\n    },\n},\n// Test keeping the text selection when adding columns to a snippet with none.\nwTourUtils.goBackToBlocks(),\nwTourUtils.dragNDrop({\n    id: 's_text_block',\n    name: 'Text',\n}),\n{\n    content: \"Click on the first paragraph.\",\n    trigger: 'iframe .s_text_block p',\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"3\"]',\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: 'iframe .s_text_block .container > .row .col-lg-4:eq(3)',\n    run() {\n        if (this.$anchor[0].childElementCount !== 3) {\n            console.error(\"The snippet does not have the correct number of columns\");\n        }\n    },\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when removing all columns of a snippet.\n{\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"0\"]',\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: 'iframe .s_text_block .container:not(:has(.row))',\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling the grid mode.\nwTourUtils.changeOption(\"layout_column\", 'we-button[data-name=\"grid_mode\"]'),\n{\n    content: \"The snippet row should have the grid mode class.\",\n    trigger: \"iframe .s_text_block .row.o_grid_mode\",\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling back the normal mode.\nwTourUtils.changeOption(\"layout_column\", 'we-button[data-name=\"normal_mode\"]'),\n{\n    content: \"The snippet row should not have the grid mode class anymore.\",\n    trigger: \"iframe .s_text_block .row:not(.o_grid_mode)\",\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test close dropdowns if click anywhere outside the dropdown\n{\n    content: \"Open text style dropdown.\",\n    trigger: \"#style button.dropdown-toggle\",\n}, {\n    content: \"Check if dropdown opened correctly.\",\n    trigger: \"#style button[data-bs-toggle=dropdown][aria-expanded=true]\",\n    run: () => {}, // It's a check.\n}, {\n    content: \"Click on the first paragraph again.\",\n    trigger: \"iframe .s_text_block p\",\n}, {\n    content: \"Check if dropdown closed correctly.\",\n    trigger: \"#style button[data-bs-toggle=dropdown][aria-expanded=false]\",\n    run: () => {}, // It's a check.\n},\n...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nfunction removeSelectedBlock() {\n    return {\n        content: \"Remove selected block\",\n        trigger: '#oe_snippets we-customizeblock-options:nth-last-child(3) .oe_snippet_remove',\n    };\n}\n\nwTourUtils.registerWebsitePreviewTour('snippet_empty_parent_autoremove', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // Base case: remove both columns from text - image\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on second column\",\n        trigger: 'iframe #wrap .s_text_image .row > :nth-child(2)',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Click on first column\",\n        trigger: 'iframe #wrap .s_text_image .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: 'iframe #wrap:empty',\n    },\n\n    // Cover: test that parallax, bg-filter and shape are not treated as content\n    wTourUtils.dragNDrop({\n        id: 's_cover',\n        name: 'Cover',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_cover',\n        name: 'Cover',\n    }),\n    // Add a shape\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that the parallax element is present\",\n        trigger: 'iframe #wrap .s_cover .s_parallax_bg',\n        run: () => null,\n    },\n    {\n        content: \"Check that the filter element is present\",\n        trigger: 'iframe #wrap .s_cover .o_we_bg_filter',\n        run: () => null,\n    },\n    {\n        content: \"Check that the shape element is present\",\n        trigger: 'iframe #wrap .s_cover .o_we_shape',\n        run: () => null,\n    },\n    // Add a column\n    wTourUtils.changeOption('layout_column', 'we-toggler'),\n    wTourUtils.changeOption('layout_column', '[data-select-count=\"1\"]'),\n    {\n        content: \"Click on the created column\",\n        trigger: 'iframe #wrap .s_cover .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: 'iframe #wrap:empty',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_image_gallery', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: 's_image_gallery', name: 'Images Wall'}),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Click on an image of the Image Wall',\n        trigger: 'iframe .s_image_gallery img',\n        run: 'click',\n    },\n    {\n        content: 'Check that the modal has opened properly',\n        trigger: 'iframe .s_gallery_lightbox img',\n        isCheck: true,\n    },\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_image_gallery_remove\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n}), wTourUtils.clickOnSnippet({\n    id: 's_image_gallery',\n    name: 'Image Gallery',\n}), {\n    content: \"Click on Remove all\",\n    trigger: \"we-button:has(div:contains('Remove all'))\",\n}, {\n    content: \"Click on Add Images\",\n    trigger: \"iframe span:contains('Add Images')\",\n}, {\n    content: \"Click on the first new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n}, {\n    content: \"Click on the second new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image2.jpg']\",\n},\n    wTourUtils.addMedia(),\n   {\n    content: \"Click on the image of the Image Gallery snippet\",\n    trigger: \"iframe .s_image_gallery .carousel-item.active  img\",\n}, {\n    content: \"Check that the Snippet Editor of the clicked image has been loaded\",\n    trigger: \"we-customizeblock-options span:contains('Image'):not(:contains('Image Gallery'))\",\n    isCheck: true,\n}, {\n    content: \"Click on Remove Block\",\n    trigger: \".o_we_customize_panel we-title:has(span:contains('Image Gallery')) we-button[title='Remove Block']\",\n}, {\n    content: \"Check that the Image Gallery snippet has been removed\",\n    trigger: \"iframe #wrap:not(:has(.s_image_gallery))\",\n    isCheck: true,\n}]);\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_image_gallery_reorder\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n    }),\n{\n    content: \"Click on the first image of the snippet\",\n    trigger: \"iframe .s_image_gallery .carousel-item.active img\",\n},\n    wTourUtils.changeOption('ImageTools', 'we-select:contains(\"Filter\") we-toggler'),\n    wTourUtils.changeOption('ImageTools', '[data-gl-filter=\"blur\"]'),\n{\n    content: \"Check that the image has the correct filter\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n    isCheck: true,\n}, {\n    content: \"Click on move to next\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='next']\",\n}, {\n    content: \"Check that the image has been moved\",\n    trigger: \"iframe .s_image_gallery .carousel-item.active img[data-index='1']\",\n    isCheck: true,\n}, {\n    content: \"Click on the footer to reload the editor panel\",\n    trigger: \"iframe #footer\",\n}, {\n    content: \"Check that the footer options have been loaded\",\n    trigger: \".snippet-option-HideFooter we-button:contains('Page Visibility')\",\n    isCheck: true,\n}, {\n    content: \"Click on the moved image\",\n    trigger: \"iframe .s_image_gallery .carousel-item.active img[data-index='1'][data-gl-filter='blur']\",\n}, {\n    content: \"Check that the image still has the correct filter\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n    isCheck: true,\n}, {\n    content: \"Click to access next image\",\n    trigger: \"iframe .s_image_gallery .carousel-control-next\",\n}, {\n    content: \"Check that the option has changed\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:not(:contains('Blur'))\",\n    isCheck: true,\n}, {\n    content: \"Click to access previous image\",\n    trigger: \"iframe .s_image_gallery .carousel-control-prev\",\n}, {\n    content: \"Check that the option is restored\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n    isCheck: true,\n}]);\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_image_gallery_thumbnail_update\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n    }),\n    wTourUtils.clickOnSnippet({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n    }),\n    wTourUtils.changeOption(\"GalleryImageList\", \"we-button[data-add-images]\"),\n{\n    content: \"Click on the default image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n},\n    wTourUtils.addMedia(),\n{\n    content: \"Check that the new image has been added\",\n    trigger: \"iframe .s_image_gallery:has(img[data-index='3'])\",\n    isCheck: true,\n}, {\n    content: \"Check that the thumbnail of the first image has not been changed\",\n    trigger: \"iframe .s_image_gallery ul.carousel-indicators li:first-child[style='background-image: url(/web/image/website.library_image_08)']\",\n    isCheck: true,\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour('website_image_quality', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Select image\",\n        trigger: 'iframe .s_text_image img',\n    },\n    {\n        content: \"Set low quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 5',\n    },\n    {\n        content: \"Wait for image update: NOT original image\",\n        trigger: 'iframe .s_text_image img:not([src$=\"s_text_image_default_image\"])',\n        run: () => {}, // It is a check.\n    },\n    {\n        content: \"Check image size\",\n        // Reached size cannot be hardcoded because it changes with\n        // different versions of Chrome.\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\" kb\"):not(:contains(\"41.5 kb\"))',\n        run() {\n            // Make sure the reached size is smaller than the original one.\n            if (parseFloat(this.$anchor[0].innerText) >= 47.5) {\n                console.error(\"Image size should be smaller than original\");\n            }\n        },\n    },\n    {\n        content: \"Set high quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 99',\n    },\n    {\n        content: \"Wait for image update: back to original image\",\n        trigger: 'iframe .s_text_image img[src$=\"0sOnkdNPFFV0lRVRLK+B7PJ5F4If2IY8ngQsDP//Z\"]',\n        run: () => {}, // It is a check.\n    },\n    {\n        content: \"Check image size\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\"41.5 kb\")',\n        run: () => {}, // It is a check.\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst wallRaceConditionClass = \"image_wall_race_condition\";\nconst preventRaceConditionSteps = [{\n    content: \"Wait a few ms to avoid race condition\",\n    // Ensure the class is remove from previous call of those steps\n    trigger: `body:not(.${wallRaceConditionClass})`,\n    run() {\n        setTimeout(() => {\n            document.body.classList.add(wallRaceConditionClass);\n        }, 500);\n    }\n}, {\n    content: \"Check the race condition class is added after a few ms\",\n    trigger: `body.${wallRaceConditionClass}`,\n    run() {\n        document.body.classList.remove(wallRaceConditionClass);\n    }\n}];\n\nconst selectSignImageStep = {\n    content: \"Click on image 14\",\n    extra_trigger: \".o_we_customize_panel:not(:has(.snippet-option-GalleryElement))\",\n    trigger: \"iframe .s_image_gallery img[data-original-src*='library_image_14']\",\n};\n// Without reselecting the image, the tour manages to click on the\n// move button before the active image is updated.\n\n// We need to wait a few ms before clicking on the footer because after\n// clicking on reposition option, there may be a delay during the click on\n// another block would be ignored.\nconst reselectSignImageSteps = [\n    ...preventRaceConditionSteps,\n{\n    content: \"Select footer\",\n    extra_trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'])\",\n    trigger: \"iframe footer\",\n}, selectSignImageStep];\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_images_wall\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_images_wall\",\n        name: \"Images Wall\",\n}), wTourUtils.clickOnSnippet({\n    id: \"s_image_gallery\",\n    name: \"Images Wall\",\n}),\nselectSignImageStep,\n{\n    content: \"Click on add a link\",\n    trigger: \".snippet-option-ReplaceMedia we-button[data-set-link]\",\n}, {\n    content: \"Change the link of the image\",\n    trigger: \".snippet-option-ReplaceMedia [data-set-url] input\",\n    run: \"text /contactus\",\n}, {\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n}, {\n    content: \"Check if sign is in second column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(2):has(a[href='/contactus'] img[data-index='1'][data-original-src*='library_image_14'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to first\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='first']\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='library_image_14'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n}, {\n    content: \"Check if sign is in third column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='library_image_14'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to next\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='next']\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='library_image_14'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to last\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='last']\",\n}, {\n    content: \"Check layout\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='library_image_14'])\",\n    isCheck: true,\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_popup_add_remove', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        name: \"Popup\",\n        id: \"s_popup\"\n}), {\n    content: 'Edit s_popup snippet',\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable [data-snippet=\"s_popup\"] .row > div', // Click deep in the snippet structure\n}, {\n    content: 'Check s_popup setting are loaded, wait panel is visible',\n    in_modal: false,\n    trigger: '.o_we_customize_panel',\n    run: () => null,\n},\n...wTourUtils.clickOnSave(),\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: 'Toggle the visibility of the Popup',\n    in_modal: false,\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry:contains(\"Popup\")',\n}, {\n    content: 'Edit s_popup snippet(2)',\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable [data-snippet=\"s_popup\"] h2',\n    run: function() {\n        // Simulating pressing enter.\n        const anchor = this.$anchor[0];\n        // Trick the editor into keyboardType === 'PHYSICAL' and press enter\n        anchor.dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Enter\", bubbles: true }));\n        // Trigger editor's '_onInput' handler, which leads to historyRollback.\n        anchor.dispatchEvent(new InputEvent('input', { inputType: 'insertLineBreak', bubbles: true }));\n    }\n}, {\n    content: 'Check the s_popup was visible',\n    in_modal: false,\n    trigger: 'iframe #wrapwrap:has([data-snippet=\"s_popup\"]:not(.d-none))',\n    run: () => null,\n}, {\n    content: `Remove the s_popup snippet`,\n    in_modal: false,\n    trigger: '.o_we_customize_panel we-customizeblock-options:contains(\"Popup\") we-button.oe_snippet_remove:first',\n}, {\n    content: 'Check the s_popup was removed',\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null,\n},\n// Test that undoing dropping the snippet removes the invisible elements panel.\nwTourUtils.dragNDrop({\n    name: \"Popup\",\n    id: \"s_popup\"\n}), {\n    content: \"The popup should be in the invisible elements panel.\",\n    in_modal: false,\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    run: () => null, // It's a check.\n}, {\n    content: \"Click on the 'undo' button.\",\n    in_modal: false,\n    trigger: '#oe_snippets button[data-action=\"undo\"]',\n}, {\n    content: \"Check that the s_popup was removed.\",\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null, // It's a check.\n}, {\n    content: \"The invisible elements panel should also be removed.\",\n    trigger: '#oe_snippets:has(.o_we_invisible_el_panel.d-none)',\n    run: () => null, // It's a check.\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n    },\n    {\n        id: \"s_three_columns\",\n        name: \"Columns\",\n    },\n];\n\nconst setOnScrollAnim = function () {\n    return [\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-select[data-is-animation-type-selection=\"true\"] we-toggler'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-animation-mode=\"onScroll\"]'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-select[data-name=\"animation_effect_opt\"] we-toggler'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-name=\"o_anim_slide_in_opt\"]'),\n    ];\n};\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_and_animations\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[2]), // Columns\n    wTourUtils.clickOnElement(\"3rd columns\", \"iframe .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    {\n        content: \"Scroll to top\",\n        trigger: \"iframe #wrapwrap\",\n        extra_trigger: \"iframe #website_cookies_bar:not(.d-none)\",\n        run: function () {\n            const animatedColumnEl = this.$anchor[0].querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                console.error(\"The scroll animation in the page did not start properly with the cookies bar open.\");\n            }\n            this.$anchor[0].scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        content: \"Wait for the page to be scrolled to the top.\",\n        trigger: \"iframe .s_three_columns .row > :last-child:not(.o_animating)\",\n        extra_trigger: \"iframe header#top:not(.o_header_affixed)\",\n        run: function () {\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            // The main goal of the following condition is to verify if the\n            // animation delay is being updated as expected.\n            if (Math.round(parseFloat(this.$anchor[0].style.animationDelay)) !== 0) {\n                console.error(\"The scroll animation in the page did not end properly with the cookies bar open.\");\n            }\n        },\n    },\n    {\n        content: \"Close the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n        run: \"click\",\n    },\n    wTourUtils.dragNDrop(snippets[0]), // Popup\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    {\n        content: \"Drag the Columns building block and drop it at the bottom of the popup.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Columns\"] .oe_snippet_thumbnail:not(.o_we_already_dragging)',\n        extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n        run: \"drag_and_drop_native iframe #wrapwrap .modal-content .s_media_list .container > .row > :last-child\",\n    },\n    wTourUtils.clickOnElement(\"3rd columns\", \"iframe .s_popup .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Verify the animation delay of the animated element in the popup at the beginning\",\n        trigger: \"iframe .s_popup .modal\",\n        run: function () {\n            const animatedColumnEl = this.$anchor[0].querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                console.error(\"The scroll animation in the modal did not start properly.\");\n            }\n            this.$anchor[0].closest(\".modal\").scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        content: \"Wait until the column is no longer animated/visible.\",\n        trigger: \"iframe .s_popup .s_three_columns .row > :last-child:not(.o_animating)\",\n        run: function () {\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            if (Math.round(parseFloat(this.$anchor[0].style.animationDelay)) !== 0) {\n                console.error(\"The scroll animation in the modal did not end properly.\");\n            }\n        },\n    },\n    {\n        content: \"Close the Popup\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup') i.fa-eye\",\n    },\n    {\n        content: \"Check that the popup has been closed\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup') i.fa-eye-slash\",\n        isCheck: true,\n    },\n    wTourUtils.clickOnElement(\"Last image of the 'Columns' snippet\", \"iframe .s_three_columns .o_animate_on_scroll img\"),\n    wTourUtils.changeOption(\"WebsiteAnimate\", 'we-toggler:contains(\"None\")'),\n    wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-animation-mode=\"onHover\"]'),\n    {\n        content: \"Check that the hover effect animation has been applied on the image\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='overlay']\",\n        extra_trigger: \".snippet-option-WebsiteAnimate we-row:contains('Animation') we-select[data-is-animation-type-selection] we-toggler:contains('On Hover')\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnElement(\"Image of the 'Columns' snippet with the overlay effect\", \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='overlay']\"),\n    wTourUtils.changeOption(\"WebsiteAnimate\", 'we-toggler:contains(\"Overlay\")'),\n    wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-select-data-attribute=\"outline\"]'),\n    {\n        content: \"Check that the outline effect has been applied on the image\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n        extra_trigger: \".snippet-option-WebsiteAnimate we-select[data-attribute-name='hoverEffect'] we-toggler:contains('Outline')\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the image src is not the raw data\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n        run: () => {\n            const imgEl = document.querySelector(\"iframe\").contentDocument.querySelector(\".s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\");\n            const src = imgEl.getAttribute(\"src\");\n            if (src.startsWith(\"data:image\")) {\n                console.error(\"The image source should not be raw data after the editor save\");\n            }\n        },\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnElement(\"Image of the 'Columns' snippet with the outline effect\", \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\"),\n    wTourUtils.changeOption(\"ImageTools\", 'we-select:contains(\"Filter\") we-toggler:contains(\"None\")'),\n    wTourUtils.changeOption(\"ImageTools\", 'we-button:contains(\"Blur\")'),\n    {\n        content: \"Check that the Blur filter has been applied on the image\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img[data-gl-filter='blur']\",\n        extra_trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n        isCheck: true,\n    },\n    {\n        content: \"Click on the 'undo' button\",\n        trigger: \".o_we_external_history_buttons button.fa-undo\",\n    },\n    {\n        content: \"Check that the Blur filter has been removed from the image\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img:not([data-gl-filter='blur'])\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the image src is not the raw data\",\n        trigger: \"iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n        run: () => {\n            const imgEl = document.querySelector(\"iframe\").contentDocument.querySelector(\".s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\");\n            const src = imgEl.getAttribute(\"src\");\n            if (src.startsWith(\"data:image\")) {\n                console.error(\"The image source should not be raw data after the editor save\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n    },\n];\n\nconst checkScrollbar = function (hasScrollbar) {\n    return {\n        content: `Check that the #wrapwrap ${hasScrollbar ? \"has\" : \"does not have\"} a vertical scrollbar.`,\n        trigger: `iframe ${hasScrollbar ? \"body:not(.modal-open)\" : \"body.modal-open\"}`,\n        run: function () {\n            const wrapwrapEl = this.$anchor[0].querySelector(\"#wrapwrap\");\n            const wrapwrapStyle = window.getComputedStyle(wrapwrapEl);\n            if (!hasScrollbar && (wrapwrapStyle.overflow !== \"hidden\" || parseFloat(wrapwrapStyle.paddingRight) < 1)) {\n                console.error(\"error The #wrapwrap vertical scrollbar should be hidden\");\n            } else if (hasScrollbar && (wrapwrapStyle.overflow === \"hidden\" || parseFloat(wrapwrapStyle.paddingRight) > 0)) {\n                console.error(\"error The #wrapwrap vertical scrollbar should be displayed\");\n            }\n        },\n    };\n};\n\nconst toggleBackdrop = function () {\n    return wTourUtils.changeOption('SnippetPopup', 'we-button[data-name=\"popup_backdrop_opt\"] we-checkbox', 'backdrop');\n};\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_and_scrollbar\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[0]), // Popup\n    checkScrollbar(false),\n    {\n        content: 'Click on the s_popup snippet',\n        in_modal: false,\n        trigger: 'iframe .s_popup .modal',\n    },\n    toggleBackdrop(), // hide Popup backdrop\n    checkScrollbar(true),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag the Media List block and drop it in the popup.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop_native iframe #wrap .s_popup .modal-content.oe_structure\",\n    },\n    checkScrollbar(false),\n    {\n        content: \"Select the Media List snippet in the Popup.\",\n        trigger: \"iframe #wrap .s_popup .modal-content .s_media_list\",\n    },\n    {\n        content: \"Remove the Media List snippet in the Popup.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Popup backdrop\n    checkScrollbar(false),\n    {\n        content: \"Close the Popup.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    checkScrollbar(true),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:last-child\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Cookies Bar backdrop\n    checkScrollbar(false),\n    toggleBackdrop(), // hide Cookies Bar backdrop\n    checkScrollbar(true),\n    {\n        content: \"Open the Popup.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    checkScrollbar(false),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag the Media List block and drop it in the popup.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop_native iframe #wrap .s_popup .modal-content.oe_structure\",\n    },\n    checkScrollbar(false),\n    {\n        content: 'Click on the s_popup snippet',\n        in_modal: false,\n        trigger: 'iframe .s_popup .modal',\n    },\n    {\n        content: \"Remove the s_popup snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Popup') we-button.oe_snippet_remove:first\",\n        in_modal: false,\n        run: \"click\",\n    },\n    checkScrollbar(true),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag a Media List snippet and drop it in the Cookies Bar.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop_native iframe #website_cookies_bar .modal-content.oe_structure\",\n    },\n    {\n        content: \"Select the Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe #website_cookies_bar .modal-content .s_media_list\",\n    },\n    {\n        content: \"Duplicate the Media List snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Media List') we-button.oe_snippet_clone:first\",\n        in_modal: false,\n        run: \"click\",\n    },\n    checkScrollbar(false),\n    {\n        content: \"Remove the first Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    {\n        content: \"Remove the second Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    checkScrollbar(true),\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\nimport { browser } from \"@web/core/browser/browser\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_display_on_click\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Image - Text\"}),\n    wTourUtils.dragNDrop({id: \"s_popup\", name: \"Popup\"}),\n    {\n        content: \"Click inside the popup to access its options menu.\",\n        in_modal: false,\n        trigger: \"iframe .s_popup .s_banner\",\n    },\n    wTourUtils.changeOption(\"SnippetPopup\", 'we-select[data-attribute-name=\"display\"] we-toggler'),\n    {\n        content: \"Click on the display 'On Click' option\",\n        trigger: \"#oe_snippets we-button[data-name='onclick_opt']\",\n        in_modal: false,\n        run() {\n            // Patch and ignore write on clipboard in tour as we don't have permissions\n            const oldWriteText = browser.navigator.clipboard.writeText;\n            browser.navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n            this.$anchor[0].click();\n            browser.navigator.clipboard.writeText = oldWriteText;\n        }\n    },\n    {\n        content: \"Check the copied anchor from the notification toast\",\n        trigger: \".o_notification_manager .o_notification_content\",\n        run() {\n            const notificationContent = this.$anchor[0].innerText;\n            const anchor = notificationContent.substring(notificationContent.indexOf(\"#\"));\n\n            if (anchor !== \"#Win-%2420\") {\n                console.error(\"The popup anchor is not '#Win-%2420' as expected.\");\n            }\n        },\n    },\n    wTourUtils.clickOnElement(\"button to close the popup\", \"iframe .s_popup_close\"),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Paste the popup anchor in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text #Win-%2420\"\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Verify that the popup opens after clicked the button.\",\n        in_modal: false,\n        trigger: \"iframe .s_popup .modal[id='Win-%2420'].show\",\n    },\n    wTourUtils.clickOnElement(\"button to close the popup\", \"iframe .s_popup_close\"),\n    {\n        content: \"Go to the 'contactus' page.\",\n        trigger: \"iframe a[href='/contactus']\",\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: \".o_website_preview[data-view-xmlid='website.contactus']\",\n        run: () => null, // it\"s a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Image - Text\"}),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Add a link to the homepage in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text /\"\n    },\n    {\n        content: \"Open the page anchor selector\",\n        trigger: \".o_link_dialog_page_anchor .dropdown-toggle\",\n    },\n    {\n        content: \"Click on the popup anchor to add it after the homepage link in the URL input\",\n        trigger: \".o_link_dialog_page_anchor we-button:contains('#Win-%2420')\",\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Verify that the popup opens when the homepage page loads.\",\n        in_modal: false,\n        extra_trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        trigger: \"iframe .s_popup .modal[id='Win-%2420'].show\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_open_on_top\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: \"s_popup\", name: \"Popup\"}),\n    {\n        content: \"Change content for long text.\",\n        trigger: \"iframe .s_popup p.lead\",\n        run: 'text ' + ' hello world'.repeat(300),\n    },\n    {\n        content: \"Set delay to 0 second\",\n        trigger: '[data-attribute-name=\"showAfter\"] input',\n        run: 'text 0',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Check that the modal is scrolled on top',\n        trigger: \"iframe .s_popup .modal:contains('hello world')\",\n        run: function () {\n            const modalEl = this.$anchor[0];\n            if (modalEl.scrollHeight <= modalEl.clientHeight) {\n                console.error('There is no scrollbar on the modal');\n            }\n            const activeEl = modalEl.ownerDocument.activeElement;\n            if (activeEl.parentElement.closest('.modal') !== modalEl) {\n                // Note: it might not be the best idea to still focus a button\n                // that is not in the viewport, but since this is a niche case\n                // this is the behavior right now. The important parts are:\n                // in the normal case, focus the button; in all cases, the modal\n                // should not be scrolled when opened.\n                console.error('The focus should be on an element inside the modal');\n            }\n            if (modalEl.scrollTop !== 0) {\n                console.error('The modal scrollbar is not scrolled at the top');\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\n// TODO: Remove following steps once fix of task-3212519 is done.\n// Those steps are preventing a race condition to happen in the meantime: when\n// the tour was clicking on the toggle to hide facebook in the next step, it\n// would actually \"ignore\" the result of the click on the toggle and would just\n// consider the action of focusing out the input.\nconst socialRaceConditionClass = 'social_media_race_condition';\nconst preventRaceConditionStep = [{\n    content: \"Wait a few ms to avoid race condition\",\n    // Ensure the class is remove from previous call of those steps\n    extra_trigger: `body:not(.${socialRaceConditionClass})`,\n    trigger: 'iframe .s_social_media',\n    run() {\n        setTimeout(() => {\n            document.body.classList.add(socialRaceConditionClass);\n        }, 500);\n    }\n}, {\n    content: \"Check the race condition class is added after a few ms\",\n    trigger: `body.${socialRaceConditionClass}`,\n    run() {\n        document.body.classList.remove(socialRaceConditionClass);\n    }\n}];\n\nconst replaceIconByImage = function (url) {\n    return [{\n        content: \"Replace the icon by an image\",\n        trigger: `iframe .s_social_media a[href='${url}'] i.fa`,\n        run: \"dblclick\",\n    },\n    {\n        content: \"Go to the Images tab in the media dialog\",\n        trigger: \".o_select_media_dialog .o_notebook_headers .nav-item a:contains('Images')\",\n    },\n    {\n        content: \"Select the image\",\n        trigger: \".o_select_media_dialog img[title='s_banner_default_image.jpg']\",\n    },\n    ...preventRaceConditionStep,\n    ];\n};\n\nconst addNewSocialNetwork = function (optionIndex, linkIndex, url, replaceIcon = false) {\n    const replaceIconByImageSteps = replaceIcon ? replaceIconByImage(\"https://www.example.com\") : [];\n    return [{\n        content: \"Click on Add New Social Network\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n    },\n    {\n        content: \"Ensure new option is found\",\n        trigger: `we-list table input:eq(${optionIndex})[data-list-position=${optionIndex}][data-dom-position=${linkIndex}][data-undeletable=false]`,\n        run: () => {}, // This is a check.\n    },\n    {\n        content: \"Ensure new link is found\",\n        trigger: `iframe .s_social_media:has(a:eq(${linkIndex})[href='https://www.example.com'])`,\n        run: () => {}, // This is a check.\n    },\n    ...replaceIconByImageSteps,\n    {\n        content: \"Change added Option label\",\n        trigger: `we-list table input:eq(${optionIndex})`,\n        run: `text_blur ${url}`,\n    },\n    {\n        content: \"Ensure new link is changed\",\n        trigger: `iframe .s_social_media:has(a:eq(${linkIndex})[href='${url}'])`,\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    ];\n};\n\nwTourUtils.registerWebsitePreviewTour('snippet_social_media', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: 's_social_media', name: 'Social Media'}),\n    wTourUtils.clickOnSnippet({id: 's_social_media', name: 'Social Media'}),\n    ...addNewSocialNetwork(7, 7, 'https://www.youtu.be/y7TlnAv6cto'),\n    {\n        content: 'Click on the toggle to hide Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget',\n        run: 'click',\n    },\n    {\n        content: \"Ensure twitter became first\",\n        trigger: 'iframe .s_social_media:has(a:eq(0)[href=\"/website/social/twitter\"])',\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Drag the facebook link at the end of the list',\n        trigger: 'we-list table we-button.o_we_drag_handle',\n        position: 'bottom',\n        run: \"drag_and_drop_native we-list table tr:last-child\",\n    },\n    {\n        content: 'Check drop completed',\n        trigger: 'we-list table input:eq(7)[data-media=\"facebook\"]',\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    // Create a Link for which we don't have an icon to propose.\n    ...addNewSocialNetwork(8, 7, 'https://whatever.it/1EdSw9X'),\n    // Create a custom instagram link.\n    ...addNewSocialNetwork(9, 8, 'https://instagr.am/odoo.official/'),\n    {\n        content: \"Check if the result is correct before removing\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='https://www.youtu.be/y7TlnAv6cto']:has(i.fa-youtube))\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        run: () => {}, // This is a check.\n    },\n    // Create a custom link, not officially supported, ensure icon is found.\n    {\n        content: 'Change custom social to unsupported link',\n        trigger: 'we-list table input:eq(6)',\n        run: 'text_blur https://www.paypal.com/abc',\n    },\n    {\n        content: \"Ensure paypal icon is found\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(6)[href='https://www.paypal.com/abc']:has(i.fa-paypal))\",\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    {\n        content: 'Delete the custom link',\n        trigger: 'we-list we-button.o_we_select_remove_option',\n        run: 'click',\n    },\n    {\n        content: \"Ensure custom link was removed\",\n        trigger: 'iframe .s_social_media:has(a:eq(6)[href=\"https://whatever.it/1EdSw9X\"]:has(i.fa-pencil))',\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Click on the toggle to show Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget:not(.active)',\n        run: 'click',\n    },\n    {\n        content: \"Check if the result is correct after removing\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Change url of the DB instagram link',\n        trigger: 'we-list table input:eq(3)',\n        run: 'text_blur https://instagram.com/odoo.official/',\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Check if we can still change custom icons\",\n        trigger: 'iframe .s_social_media a[href=\"https://whatever.it/1EdSw9X\"] i.fa-pencil',\n    },\n    {\n        content: \"Click on replace media\",\n        trigger: \"[data-replace-media='true']\",\n    },\n    {\n        content: \"Select a new icon\",\n        trigger: '.o_select_media_dialog .fa-heart',\n    },\n    {\n        content: \"Check if the result is correct after setting the icon\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-heart))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        isCheck: true,\n    },\n    // Create a social network but replace its icon by an image before setting\n    // the link (`replaceIcon` parameter set to `true`).\n    ...addNewSocialNetwork(9, 9, \"https://google.com\", true),\n    // Create a social network after replacing the first icon by an image.\n    ...replaceIconByImage(\"/website/social/twitter\"),\n    ...addNewSocialNetwork(10, 10, \"https://facebook.com\"),\n    {\n        content: \"Check if the result is correct after adding images\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter']:has(img))\" +\n                 \":has(a:eq(9)[href='https://google.com']:has(img))\" +\n                 \":has(a:eq(10)[href='https://facebook.com']:has(img))\",\n        run: () => {}, // This is a check.\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst scrollToHeading = function (position) {\n    return {\n        content: `Scroll to h2 number ${position}`,\n        trigger: `iframe h2:eq(${position})`,\n        run: function () {\n            this.$anchor[0].scrollIntoView(true);\n        },\n    };\n};\nconst checkTOCNavBar = function (tocPosition, activeHeaderPosition) {\n    return {\n        content: `Check that the header ${activeHeaderPosition} is active for TOC ${tocPosition}`,\n        trigger: `iframe .s_table_of_content:eq(${tocPosition}) .table_of_content_link:eq(${activeHeaderPosition}).active `,\n        run: () => {}, // This is a check.\n    };\n};\n\nwTourUtils.registerWebsitePreviewTour('snippet_table_of_content', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: 's_table_of_content', name: 'Table of Content'}),\n    wTourUtils.dragNDrop({id: 's_table_of_content', name: 'Table of Content'}),\n    // To make sure that the public widgets of the two previous ones started.\n    wTourUtils.dragNDrop({id: 's_banner', name: 'Banner'}),\n    ...wTourUtils.clickOnSave(),\n    checkTOCNavBar(0, 0),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(1),\n    checkTOCNavBar(0, 1),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(2),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(3),\n    checkTOCNavBar(1, 1),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the first TOC's title\",\n        trigger: 'iframe .s_table_of_content:eq(0) h2',\n    },\n    {\n        content: \"Hide the first TOC on mobile\",\n        trigger: '[data-toggle-device-visibility=\"no_mobile\"]',\n    },\n    // Go back to blocks tabs to avoid changing the first ToC options\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Click on the second TOC's title\",\n        trigger: 'iframe .s_table_of_content:eq(1) h2',\n    },\n    {\n        content: \"Hide the second TOC on desktop\",\n        trigger: '[data-toggle-device-visibility=\"no_desktop\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that we have the good TOC on desktop\",\n        trigger: 'iframe .s_table_of_content.o_snippet_mobile_invisible',\n        run: () => {\n            if ($(document.querySelector('iframe .s_table_of_content.o_snippet_desktop_invisible'))\n                    .is(':visible')) {\n                console.error('The mobile TOC should not be visible on desktop');\n            }\n        },\n    },\n    {\n        content: \"Toggle the mobile view\",\n        trigger: '.o_mobile_preview > a',\n    },\n    {\n        content: \"Check that we have the good TOC on mobile\",\n        trigger: 'iframe .s_table_of_content.o_snippet_desktop_invisible',\n        run: () => {\n            if ($(document.querySelector('iframe .s_table_of_content.o_snippet_mobile_invisible'))\n                    .is(':visible')) {\n                console.error('The desktop TOC should not be visible on mobile');\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_tabs\", {\n    edition: true,\n    url: \"/\",\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_tabs\",\n        name: \"Tabs\",\n    }),\n    {\n        content: \"Double click on the first tab link to select all the text\",\n        trigger: \"iframe .s_tabs .nav-link.active\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Change the text of the tab link\",\n        trigger: \"iframe .s_tabs .nav-link.active\",\n        run() {\n            this.$anchor[0].dispatchEvent(new InputEvent(\"input\", {\n                inputType: \"insertText\",\n                bubbles: true,\n                data: \"Tab #1\"\n            }));\n        },\n    },\n    {\n        content: \"Check that the first tab link is still there and has the new text\",\n        trigger: \"iframe .s_tabs .nav-link.active:contains('Tab #1')\",\n    },\n    {\n        content: \"Double click on the third tab link to select all the text\",\n        trigger: \"iframe .s_tabs .nav-item:nth-of-type(3) .nav-link:not('.active')\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Remove the text of the tab link and add a new text\",\n        trigger: \"iframe .s_tabs .nav-item:nth-of-type(3) .nav-link.active:not(:contains('Tab #1'))\",\n        run() {\n            this.$anchor[0].dispatchEvent(new KeyboardEvent(\"keydown\", {\n                key: \"Backspace\",\n                bubbles: true\n            }));\n            this.$anchor[0].dispatchEvent(new InputEvent(\"input\", {\n                inputType: \"insertText\",\n                bubbles: true,\n                data: \"Tab #3\"\n            }));\n        },\n    },\n    {\n        content: \"Check that the third tab link is still there and has the new text\",\n        trigger: \"iframe .s_tabs .nav-item:nth-of-type(3) .nav-link.active:contains('Tab #3')\",\n    },\n    wTourUtils.changeOption(\"NavTabs\", \"we-button[data-remove-item]\"),\n    {\n        content: \"Check that only 2 tab panes remain\",\n        trigger: \"iframe .s_tabs .s_tabs_content\",\n        run() {\n            if (this.$anchor[0].querySelectorAll(\".tab-pane\").length !== 2) {\n                console.error(\"There should be exactly 2 tab panes in the DOM.\");\n            }\n        },\n    },\n    {\n        content: \"Check that the first tab link is active\",\n        trigger: \"iframe .s_tabs .nav-item:nth-of-type(1) .nav-link.active\",\n    },\n    wTourUtils.changeOption(\"NavTabs\", \"we-button[data-add-item]\"),\n    {\n        content: \"Check there are 3 tab panes\",\n        trigger: \"iframe .s_tabs .s_tabs_content\",\n        run() {\n            if (this.$anchor[0].querySelectorAll(\".tab-pane\").length !== 3) {\n                console.error(\"There should be exactly 3 tab panes in the DOM.\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_translation', {\n    url: '/',\n    edition: true,\n    test: true,\n}, () => [\n    wTourUtils.dragNDrop({name: 'Cover'}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: 'iframe .s_cover .btn-primary:contains(\"Contact us in Parseltongue\")',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Check that the save button contains 'in fu_GB'\",\n        trigger: '.btn[data-action=\"save\"]:contains(\"Save in fu_GB\")',\n        run: () => null, // it's a check\n    },\n]);\nwTourUtils.registerWebsitePreviewTour('snippet_translation_changing_lang', {\n    url: '/',\n    test: true,\n}, () => [\n    {\n        content: \"Change language to Parseltongue\",\n        trigger: 'iframe .js_language_selector .btn',\n    },\n    {\n        content: \"Change the language to English\",\n        trigger: 'iframe .js_language_selector .js_change_lang[data-url_code=\"en\"]',\n    },\n    {\n        content: \"Enable translation\",\n        trigger: '.o_translate_website_container a',\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({name: 'Cover'}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: 'iframe .s_cover .btn-primary:contains(\"Contact us in Parseltongue\")',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_version\", {\n    edition: true,\n    url: \"/\",\n    test: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_test_snip',\n        name: 'Test snip',\n    }),\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n    content: \"Test t-snippet and t-snippet-call: snippets have data-snippet set\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet',\n    run: function () {\n        // Tests done here as all these are not visible on the page\n        const draggableSnippets = [...document.querySelectorAll('#oe_snippets .o_panel_body > .oe_snippet:not([data-module-id]) > :nth-child(2)')];\n        if (draggableSnippets.length && !draggableSnippets.every(el => el.dataset.snippet)) {\n            console.error(\"error Some t-snippet are missing their template name or there are no snippets to drop\");\n        }\n        if (!document.querySelector('#oe_snippets [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error s_share t-called inside s_test_snip is missing template name\");\n        }\n        if (!document.querySelector('iframe:not(.o_ignore_in_tour)').contentDocument.querySelector('#wrap [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error Dropped a s_test_snip snippet but missing s_share template name in it\");\n        }\n    },\n},\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: \"Modify the version of snippets\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet',\n    run: function () {\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_test_snip\"]').dataset.vjs = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_share\"]').dataset.vcss = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_text_image\"]').dataset.vxml = '999';\n    },\n}, {\n    content: \"Edit s_test_snip\",\n    trigger: 'iframe #wrap.o_editable .s_test_snip',\n}, {\n    content: \"Edit text_image\",\n    extra_trigger: 'we-customizeblock-options:contains(Test snip) .snippet-option-VersionControl > we-alert',\n    trigger: 'iframe #wrap.o_editable .s_text_image',\n}, {\n    content: \"Edit s_share\",\n    extra_trigger: 'we-customizeblock-options:contains(Text - Image) .snippet-option-VersionControl  > we-alert',\n    trigger: 'iframe #wrap.o_editable .s_share',\n}, {\n    content: \"s_share is outdated\",\n    extra_trigger: 'we-customizeblock-options:contains(Share) .snippet-option-VersionControl > we-alert',\n    trigger: 'iframe body',\n    isCheck: true,\n}]);\n", "/** @odoo-module **/\n\nimport websiteTourUtils from \"@website/js/tours/tour_utils\";\nimport { patch } from \"@web/core/utils/patch\";\n\nconst patchWysiwygAdapter = () => {\n    const { WysiwygAdapterComponent } = odoo.loader.modules.get(\"@website/components/wysiwyg_adapter/wysiwyg_adapter\");\n    return patch(WysiwygAdapterComponent.prototype, {\n        _trigger_up(ev) {\n            super._trigger_up(...arguments);\n            if (ev.name === 'snippet_removed') {\n                $('body').attr('test-dd-snippet-removed', true);\n            }\n        }\n    });\n};\n\nlet unpatchWysiwygAdapter = null;\n\nimport { registry } from \"@web/core/registry\";\n\nlet snippetsNames = (new URL(document.location.href)).searchParams.get('snippets_names') || '';\n// When this test is loaded in the backend, the search params aren't as easy to\n// read as before. Little trickery to make this test run.\nconst searchParams = new URLSearchParams(window.location.href.split('#')[1]).get('path');\nif (searchParams) {\n    snippetsNames = new URLSearchParams(searchParams.split('/')[1]).get('snippets_names') || '';\n    snippetsNames = snippetsNames.split(',');\n}\nconst dropInOnlySnippets = {\n    's_button': '.btn',\n    's_image': '.img',\n    's_video': '.media_iframe_video',\n};\nlet steps = [];\nlet n = 0;\nfor (const snippet of snippetsNames) {\n    n++;\n    const isModal = ['s_popup', 's_newsletter_subscribe_popup'].includes(snippet);\n    const isDropInOnlySnippet = Object.keys(dropInOnlySnippets).includes(snippet);\n    const snippetSteps = [{\n        content: `Drop ${snippet} snippet [${n}/${snippetsNames.length}]`,\n        trigger: `#oe_snippets .oe_snippet:has( > [data-snippet='${snippet}']) .oe_snippet_thumbnail`,\n        run: \"drag_and_drop_native iframe #wrap\",\n    }, {\n        content: `Edit ${snippet} snippet`,\n        trigger: `iframe #wrap.o_editable [data-snippet='${snippet}']${isModal ? ' .modal.show' : ''}`,\n    }, {\n        content: `check ${snippet} setting are loaded, wait panel is visible`,\n        trigger: \".o_we_customize_panel\",\n        run: function () {}, // it's a check\n    }, {\n        content: `Remove the ${snippet} snippet`, // Avoid bad perf if many snippets\n        trigger: \"we-button.oe_snippet_remove:last\"\n    }, {\n        content: `click on 'BLOCKS' tab (${snippet})`,\n        extra_trigger: 'body[test-dd-snippet-removed]',\n        trigger: \".o_we_add_snippet_btn\",\n        run: function (actions) {\n            $('body').removeAttr('test-dd-snippet-removed');\n            actions.auto();\n        },\n    }];\n\n    if (snippet === 's_google_map') {\n        snippetSteps.splice(1, 3, {\n            content: 'Close API Key popup',\n            trigger: \"iframe .modal-footer .btn-secondary\",\n        });\n    } else if (isModal) {\n        snippetSteps[2]['in_modal'] = false;\n        snippetSteps.splice(3, 2, {\n            content: `Hide the ${snippet} popup`,\n            trigger: `iframe [data-snippet='${snippet}'] .s_popup_close`,\n        }, {\n            content: `Make sure ${snippet} is hidden`,\n            trigger: \"iframe body:not(.modal-open)\",\n        });\n    } else if (isDropInOnlySnippet) {\n        // The 'drop in only' snippets have their 'data-snippet' attribute\n        // removed once they are dropped, so we need to use a different selector.\n        snippetSteps[1]['trigger'] = `iframe #wrap.o_editable ${dropInOnlySnippets[snippet]}`;\n    }\n    steps = steps.concat(snippetSteps);\n}\n\nregistry.category(\"web_tour.tours\").add(\"snippets_all_drag_and_drop\", {\n    test: true,\n    // To run the tour locally, you need to insert the URL sent by the python\n    // tour here. There is currently an issue with tours which don't have an URL\n    // url: '/?enable_editor=1&snippets_names=s_showcase,s_numbers,s_...',\n    steps: () => [\n    ...websiteTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Ensure snippets are actually passed at the test.\",\n        trigger: \"body\",\n        run: function () {\n            // safety check, otherwise the test might \"break\" one day and\n            // receive no steps. The test would then not test anything anymore\n            // without us noticing it.\n            if (steps.length < 220) {\n                console.error(`This test is not behaving as it should, got only ${steps.length} steps.`);\n            }\n            unpatchWysiwygAdapter = patchWysiwygAdapter();\n        },\n    },\n    // This first step is needed as it will be used later for inner snippets\n    // Without this, it will dropped inside the footer and will need an extra\n    // selector.\n    websiteTourUtils.dragNDrop({\n        id: \"s_text_image\",\n        name: \"Text - Image\"\n    }),\n    {\n        content: \"Edit s_text_image snippet\",\n        trigger: \"iframe #wrap.o_editable [data-snippet='s_text_image']\"\n    },\n    {\n        content: \"check setting are loaded, wait panel is visible\",\n        trigger: \".o_we_customize_panel\"\n    },\n    // We hide the header before starting to drop snippets. This prevents\n    // situations where the header's drop zones overlap with those of the #wrap,\n    // ensuring that a snippet is dropped in the #wrap as expected instead of\n    // the header.\n    websiteTourUtils.clickOnSnippet({id: \"o_header_standard\", name: \"Header\"}),\n    websiteTourUtils.changeOption(\"TopMenuVisibility\", \"we-select:has([data-visibility]) we-toggler\"),\n    websiteTourUtils.changeOption(\"TopMenuVisibility\", 'we-button[data-visibility=\"hidden\"]'),\n    websiteTourUtils.goBackToBlocks(),\n].concat(steps).concat([\n    {\n        content: \"Remove wysiwyg patch\",\n        trigger: \"body\",\n        run: () => unpatchWysiwygAdapter(),\n    }\n]),\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"generic_website_editor\", {\n    test: true,\n    edition: true,\n}, () => [{\n    trigger: 'iframe body:not([data-hello=\"world\"])',\n    content: 'Check that the editor DOM matches its website-generic features',\n    run: function () {}, // Simple check\n}]);\n\n// Good practice would have been to use `wTourUtils.registerWebsitePreviewTour`\n// for this tour with `edition: true` and remove the first step to enter edit\n// mode. Unfortunately this breaks the page and therefore the test fails for\n// unknown reason.\nregistry.category(\"web_tour.tours\").add('specific_website_editor', {\n    test: true,\n    steps: () => [\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    trigger: 'iframe body[data-hello=\"world\"]',\n    content: 'Check that the editor DOM matches its website-specific features',\n    run: function () {}, // Simple check\n}]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_start_cloned_snippet', {\n    edition: true,\n    test: true,\n    url: '/',\n}, () => {\n    const countdownSnippet = {\n        name: 'Countdown',\n        id: 's_countdown',\n    };\n    const dragNDropOutOfFooter = wTourUtils.dragNDrop(countdownSnippet);\n    dragNDropOutOfFooter.run = 'drag_and_drop_native iframe #wrapwrap #wrap';\n    return [\n        dragNDropOutOfFooter,\n        wTourUtils.clickOnSnippet(countdownSnippet),\n        {\n            content: 'Click on clone snippet',\n            trigger: '.oe_snippet_clone',\n        },\n        {\n            content: 'Check that the cloned snippet has a canvas and that something has been drawn inside of it',\n            trigger: 'iframe .s_countdown:eq(1) canvas',\n            run: function () {\n                // Check that at least one bit has been drawn in the canvas\n                if (!this.$anchor[0].getContext('2d').getImageData(0, 0, 1000, 1000).data.includes(1)) {\n                    console.error('The cloned snippet should have been started');\n                }\n            },\n        },\n        \n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('css_error_tour_frontend', {\n    test: true,\n    url: '/',\n    steps: () => [\n    {\n        content: \"Error message\",\n        trigger: \".o_notification.border-danger\",\n        run: () => {\n            const title = document.body.querySelector(\".o_notification .o_notification_title\").innerText;\n            if (!title.includes(\"Style error\")) {\n                throw new Error(\"should contain a Style error notification\");\n            }\n        },\n    },\n]});\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"text_animations\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_cover\",\n        name: \"Cover\",\n    }),\n    {\n        content: \"Click on the snippet title\",\n        trigger: \"iframe .s_cover h1\",\n        run: \"dblclick\", // Make sure the title is selected.\n    },\n    {\n        content: \"Click on the 'Animate Text' button to activate the option\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was applied\",\n        trigger: \"iframe .s_cover h1 span.o_animated_text\",\n        isCheck: true,\n    },\n    {\n        content: \"Click on the 'Animate Text' button\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was disabled for the title\",\n        trigger: \"iframe .s_cover:not(:has(.o_animated_text))\",\n        isCheck: true,\n    },\n    {\n        content: \"Open the text background color colorpicker\",\n        trigger: \"button#oe-fore-color\",\n    },\n    {\n        content: \"Add a background color on the selected text\",\n        trigger: \".o_colorpicker_section [data-color='black']\",\n    },\n    {\n        content: \"Try to apply the text animation again\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was applied and that the <font> element is inside the o_animated_text element\",\n        trigger: \"iframe .s_cover:has(span.o_animated_text > font.bg-black)\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"text_highlights\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_cover\",\n        name: \"Cover\",\n    }),\n    {\n        content: \"Select the snippet title\",\n        trigger: \"iframe .s_cover h1\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the 'Highlight Effects' button to activate the option\",\n        trigger: \"div.o_we_text_highlight\",\n    },\n    {\n        content: \"Check that the highlight was applied\",\n        trigger: \"iframe .s_cover h1 span.o_text_highlight > .o_text_highlight_item > svg:has(.o_text_highlight_path_underline)\",\n        isCheck: true,\n    },\n    {\n        content: \"Check that the highlights grid was displayed\",\n        trigger: \"we-select[data-name=text_highlight_opt] we-toggler.active\",\n        isCheck: true,\n    },\n    {\n        content: \"Disable the highlight effect\",\n        trigger: \"div.o_we_text_highlight\",\n    },\n    {\n        content: \"Check that the highlight was disabled for the title\",\n        trigger: \"iframe .s_cover:not(:has(.o_text_highlight))\",\n        isCheck: true,\n    },\n    {\n        // On muti-line text, the highlight effect is added on every detected\n        // line (using the `.o_text_highlight_item` span).\n        content: \"Update and select the snippet paragraph content\",\n        trigger: \"iframe .s_cover p\",\n        run() {\n            const iframeDOC = document.querySelector(\".o_iframe\").contentDocument;\n            const firstLine = document.createElement(\"strong\");\n            firstLine.textContent = \"Text content line A\";\n            const secondLine = document.createElement(\"i\");\n            secondLine.textContent = \"Text content line B\";\n            this.$anchor[0].replaceChildren(firstLine, document.createElement(\"br\"), secondLine);\n            // Select the whole content.            \n            const range = iframeDOC.createRange();\n            const selection = iframeDOC.getSelection();\n            range.selectNodeContents(this.$anchor[0]);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        },\n    },\n    {\n        content: \"Add the highlight effect on the muti-line text\",\n        trigger: \"div.o_we_text_highlight\",\n    },\n    {\n        content: \"Check if the text was correctly updated\",\n        trigger: \"iframe .s_cover span.o_text_highlight:has(.o_text_highlight_item:has(.o_text_highlight_path_underline) + br + .o_text_highlight_item:has(.o_text_highlight_path_underline))\",\n        isCheck: true,\n    },\n    ...wTourUtils.selectElementInWeSelectWidget(\"text_highlight_opt\", \"Jagged\").slice(1), // The select is already opened\n    {\n        content: \"When changing the text highlight, we only replace the highlight SVG with a new drawn one\",\n        trigger: \"iframe .s_cover span.o_text_highlight:has(.o_text_highlight_item:has(.o_text_highlight_path_jagged) + br + .o_text_highlight_item:has(.o_text_highlight_path_jagged))\",\n        isCheck: true,\n    },\n    {\n        content: \"Disable the highlight effect\",\n        trigger: \"div.o_we_text_highlight\",\n    },\n    {\n        content: \"Check if the original DOM structure was restored\",\n        trigger: \"iframe .s_cover p:has(strong:contains(Text content line A) + br + i:contains(Text content line B))\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('translate_menu_name', {\n    url: '/pa_GB',\n    test: true,\n    edition: false,\n}, () => [\n    {\n        content: \"activate translate mode\",\n        trigger: '.o_translate_website_container a',\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    {\n        content: \"translate the menu entry\",\n        trigger: 'iframe a[href=\"/englishURL\"] span',\n        run: 'text value pa-GB',\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst selectText = (selector) => {\n    return {\n        content: \"Select some text content\",\n        trigger: `iframe ${selector}`,\n        run() {\n            const iframeDOC = document.querySelector(\".o_iframe\").contentDocument;\n            const range = iframeDOC.createRange();\n            const selection = iframeDOC.getSelection();\n            range.selectNodeContents(this.$anchor[0]);\n            selection.removeAllRanges();\n            selection.addRange(range);\n            this.$anchor[0].click();\n        },\n    };\n};\n\nwTourUtils.registerWebsitePreviewTour(\n    \"translate_text_options\",\n    {\n        url: \"/\",\n        test: true,\n        edition: true,\n    },\n    () => [\n        wTourUtils.dragNDrop({\n            id: \"s_text_block\",\n            name: \"Text\",\n        }),\n        {\n            content: \"Select the first text block in the snippet\",\n            trigger: \"iframe #wrap .s_text_block p:first\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Click on the 'Animate Text' button to activate the option\",\n            trigger: \"div.o_we_animate_text\",\n        },\n        {\n            content: \"Select the second text block in the snippet\",\n            trigger: \"iframe #wrap .s_text_block p:last\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Click on the 'Highlight Effects' button to activate the option\",\n            trigger: \"div.o_we_text_highlight\",\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"Change the language to French\",\n            trigger: 'iframe .js_language_selector .js_change_lang[data-url_code=\"fr\"]',\n        },\n        {\n            content: \"Enable translation\",\n            trigger: \".o_translate_website_container a\",\n        },\n        {\n            content: \"Close the dialog\",\n            trigger: \".modal-footer .btn-secondary\",\n        },\n        // Select the highlighted text content.\n        selectText(\"#wrap .s_text_block p:last .o_text_highlight\"),\n        {\n            content: \"Check that the highlight options were displayed\",\n            trigger: \"#toolbar we-select[data-name=text_highlight_opt]\",\n            isCheck: true,\n        },\n        ...wTourUtils.selectElementInWeSelectWidget(\"text_highlight_opt\", \"Jagged\"),\n        // Select the animated text content.\n        selectText(\"#wrap .s_text_block p:first .o_animated_text\"),\n        {\n            content:\n                \"Check that the animation options are displayed and highlight options are no longer visible\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-TextHighlight)) .snippet-option-WebsiteAnimate\",\n            isCheck: true,\n        },\n        // Select a text content without any option.\n        selectText(\"footer .s_text_block p:first span\"),\n        {\n            content: \"Check that all text options are removed\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-TextHighlight, .snippet-option-WebsiteAnimate))\",\n            isCheck: true,\n        },\n        // Select the highlighted text content again.\n        selectText(\"#wrap .s_text_block p:last .o_text_highlight\"),\n        {\n            content: \"Check that only the highlight options are displayed\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-WebsiteAnimate)) .snippet-option-TextHighlight\",\n            isCheck: true,\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"Check that the highlight effect was correctly translated\",\n            trigger:\n                \"iframe .s_text_block .o_text_highlight:has(.o_text_highlight_item:has(.o_text_highlight_path_jagged))\",\n            isCheck: true,\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_unsplash_beacon\", {\n    test: true,\n    url: \"/\",\n    steps: () => [{\n        content: \"Verify whether beacon was sent.\",\n        trigger: 'img[data-beacon=\"sent\"]',\n        isCheck: true,\n    }],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_backend_menus_redirect', {\n    test: true,\n    url: '/',\n    steps: () => [\n{\n    content: 'Need at least a step so the tour is not failing in enterprise',\n    trigger: 'body',\n    edition: 'enterprise',\n}, {\n    content: 'Make frontend to backend menus appears',\n    trigger: 'body:has(#wrap)',\n    run: function () {\n        // The dropdown is hidden behind an SVG on hover animation.\n        this.$anchor.find('.o_frontend_to_backend_apps_menu').addClass('show');\n    },\n    edition: 'community',\n}, {\n    content: 'Click on Test Root backend menu',\n    trigger: '.o_frontend_to_backend_apps_menu a:contains(\"Test Root\")',\n    edition: 'community',\n}, {\n    content: 'Check that we landed on the apps page (Apps), and not the Home Action page (Settings)',\n    trigger: '.oe_module_vignette',\n    edition: 'community',\n}\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst cover = {\n    id: 's_cover',\n    name: 'Cover',\n};\n\nwTourUtils.registerWebsitePreviewTour('website_click_tour', {\n    test: true,\n    url: '/',\n}, () => [\n    {\n        content: \"trigger a page navigation\",\n        trigger: 'iframe a[href=\"/contactus\"]',\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: '.o_website_preview[data-view-xmlid=\"website.contactus\"]',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"click on a link that would trigger navigation\",\n        trigger: 'iframe a[href=\"/\"]',\n    },\n    wTourUtils.goBackToBlocks(),\n    wTourUtils.dragNDrop(cover),\n    wTourUtils.clickOnSnippet(cover),\n    ...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module **/\n\n    import wTourUtils from \"@website/js/tours/tour_utils\";\n\n    // Visibility possible values:\n    const VISIBLE = 'Always Visible';\n    const HIDDEN = 'Hidden';\n    const CONDITIONALVISIBILITY = 'Visible only if';\n\n    const NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM = 2;\n    const ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM = [\n        {\n            name: 'email_from',\n            value: 'admin@odoo.com',\n        },\n        {\n            name: 'subject',\n            value: 'Hello, world!',\n        }\n    ];\n    const essentialFieldsForDefaultFormFillInSteps = [];\n    for (const data of ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM) {\n        essentialFieldsForDefaultFormFillInSteps.push({\n            content: \"Enter data in model-required field\",\n            trigger: `iframe .s_website_form_model_required .s_website_form_input[name=\"${data.name}\"]`,\n            run: `text ${data.value}`,\n        });\n    }\n\n    // TODO: in master only keep the conversion of the double quotes character.\n    // Replace all `\"` character by `&quot;`, all `'` character by `&apos;` and\n    // all \"`\" character by `&lsquo;`.\n    const getQuotesEncodedName = function (name) {\n            return name.replaceAll(/\"/g, character => `&quot;`)\n                       .replaceAll(/'/g, character => `&apos;`)\n                       .replaceAll(/`/g, character => `&lsquo;`)\n                       .replaceAll(\"\\\\\", character => `&bsol;`);\n    };\n\n    const triggerFieldByLabel = (label) => {\n        return `.s_website_form_field.s_website_form_custom:has(label:contains(\"${label}\"))`;\n    };\n    const selectFieldByLabel = (label) => {\n        return [{\n            content: `Select field \"${label}\"`,\n            trigger: \"iframe \" + triggerFieldByLabel(label),\n        }];\n    };\n    const selectButtonByText = function (text) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button:contains(\"${text}\")) we-toggler`,\n        },\n        {\n            content: \"Click on the option\",\n            trigger: `we-select we-button:contains(\"${text}\")`,\n        }];\n    };\n    const selectButtonByData = function (data) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button[${data}]) we-toggler`,\n        }, {\n            content: \"Click on the option\",\n            trigger: `we-select we-button[${data}]`,\n        }];\n    };\n    const addField = function (name, type, label, required, isCustom,\n                               display = {visibility: VISIBLE, condition: \"\"}) {\n        const data = isCustom ? `data-custom-field=\"${name}\"` : `data-existing-field=\"${name}\"`;\n        const ret = [{\n            content: \"Select form\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form',\n        }, {\n            content: \"Add field\",\n            trigger: 'we-button[data-add-field]',\n        },\n        ...selectButtonByData(data),\n        {\n            content: \"Wait for field to load\",\n            trigger: `iframe .s_website_form_field[data-type=\"${name}\"], .s_website_form_input[name=\"${name}\"]`, //custom or existing field\n            run: function () {},\n        },\n        ...selectButtonByText(display.visibility),\n    ];\n        let testText = 'iframe .s_website_form_field';\n        if (display.condition) {\n            ret.push({\n                content: \"Set the visibility condition\",\n                trigger: 'we-input[data-attribute-name=\"visibilityCondition\"] input',\n                run: `text ${display.condition}`,\n            });\n        }\n        if (required) {\n            testText += '.s_website_form_required';\n            ret.push({\n                content: \"Mark the field as required\",\n                trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n            });\n        }\n        if (label) {\n            testText += `:has(label:contains(${label}))`;\n            ret.push({\n                content: \"Change the label text\",\n                trigger: 'we-input[data-set-label-text] input',\n                run: `text ${label}`,\n            });\n        }\n        if (type !== 'checkbox' && type !== 'radio' && type !== 'select') {\n            let inputType = type === 'textarea' ? type : `input[type=\"${type}\"]`;\n            const nameAttribute = isCustom && label ? getQuotesEncodedName(label) : name;\n            testText += `:has(${inputType}[name=\"${nameAttribute}\"]${required ? \"[required]\" : \"\"})`;\n            // Because 'testText' will be used as selector to verify the content\n            // of the label, the `\\` character needs to be escaped.\n            testText = testText.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        }\n        ret.push({\n            content: \"Check the resulting field\",\n            trigger: testText,\n            run: function () {},\n        });\n        return ret;\n    };\n    const addCustomField = function (name, type, label, required, display) {\n        return addField(name, type, label, required, true, display);\n    };\n    const addExistingField = function (name, type, label, required, display) {\n        return addField(name, type, label, required, false, display);\n    };\n\n    wTourUtils.registerWebsitePreviewTour(\"website_form_editor_tour\", {\n        url: '/',\n        edition: true,\n        test: true,\n    }, () => [\n        // Drop a form builder snippet and configure it\n        {\n            content: \"Drop the form snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_website_form) .oe_snippet_thumbnail',\n            run: 'drag_and_drop_native iframe #wrap',\n        }, {\n            content: \"Select form by clicking on an input field\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form input',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        },\n        wTourUtils.goBackToBlocks(),\n        {\n            content: \"Select form by clicking on a text area\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form textarea',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        }, {\n            content: \"Rename the field label\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text Renamed\",\n        }, {\n            content: \"Leave the rename options\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text_blur\",\n        },\n        wTourUtils.goBackToBlocks(),\n        {\n            content: \"Select form itself (not a specific field)\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form',\n        },\n        ...selectButtonByText('Send an E-mail'),\n        {\n            content: \"Form has a model name\",\n            trigger: 'iframe section.s_website_form form[data-model_name=\"mail.mail\"]',\n        }, {\n            content: 'Edit the Phone Number field',\n            trigger: 'iframe input[name=\"phone\"]',\n        }, {\n            content: 'Change the label position of the phone field',\n            trigger: 'we-button[data-select-label-position=\"right\"]',\n        },\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 1\", false),\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 2\", false),\n        ...selectButtonByData(\"data-set-visibility='conditional'\"),\n        ...selectButtonByData(\"data-set-visibility-dependency='Conditional Visibility Check 1'\"),\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 2\", false),\n        ...selectFieldByLabel(\"Conditional Visibility Check 1\"),\n        ...selectButtonByData(\"data-set-visibility='conditional'\"),\n        {\n            content: \"Check that 'Conditional Visibility Check 2' is not in the list of the visibility selector of Conditional Visibility Check 1\",\n            trigger: \"we-select[data-name='hidden_condition_opt']:not(:has(we-button[data-set-visibility-dependency='Conditional Visibility Check 2']))\",\n            run: () => null,\n        },\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 3\", false),\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 4\", false),\n        ...selectButtonByData(\"data-set-visibility='conditional'\"),\n        ...selectButtonByData(\"data-set-visibility-dependency='Conditional Visibility Check 3'\"),\n        {\n            content: \"Change the label of 'Conditional Visibility Check 4' and change it to 'Conditional Visibility Check 3'\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text Conditional Visibility Check 3\",\n        },\n        {\n            content: \"Check that the conditional visibility of the renamed field is removed\",\n            trigger: \"we-customizeblock-option.snippet-option-WebsiteFieldEditor we-select:contains('Visibility'):has(we-toggler:contains('Always Visible'))\",\n            run: () => null,\n        },\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 5\", false),\n        ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 6\", false),\n        ...selectButtonByData(\"data-set-visibility='conditional'\"),\n        {\n            content: \"Change the label of 'Conditional Visibility Check 6' and change it to 'Conditional Visibility Check 5'\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text Conditional Visibility Check 5\",\n        },\n        {\n            content: \"Check that 'Conditional Visibility Check 5' is not in the list of the renamed field\",\n            trigger: \"we-customizeblock-option.snippet-option-WebsiteFieldEditor we-select[data-name='hidden_condition_opt']:not(:has(we-button:contains('Conditional Visibility Check 5')))\",\n            run: () => null,\n        },\n        ...addExistingField('email_cc', 'text', 'Test conditional visibility', false, {visibility: CONDITIONALVISIBILITY, condition: 'odoo'}),\n        {\n            content: \"Ensure that the description has correctly been added on the field\",\n            trigger: \"iframe .s_website_form_field:contains('Test conditional visibility') .s_website_form_field_description\",\n            isCheck: true,\n        },\n        // Check that visibility condition is deleted on dependency type change.\n        ...addCustomField(\"char\", \"text\", \"dependent\", false, {visibility: CONDITIONALVISIBILITY}),\n        ...addCustomField(\"selection\", \"radio\", \"dependency\", false),\n        ...selectFieldByLabel(\"dependent\"),\n        ...selectButtonByData('data-set-visibility-dependency=\"dependency\"'),\n        ...selectFieldByLabel(\"dependency\"),\n        ...selectButtonByData('data-custom-field=\"char\"'),\n        ...selectFieldByLabel(\"dependent\"),\n        {\n            content: \"Open the select\",\n            trigger: 'we-select:has(we-button[data-set-visibility=\"visible\"]) we-toggler',\n        },\n        {\n            content: \"Check that the field no longer has conditional visibility\",\n            trigger: \"we-select we-button[data-set-visibility='visible'].active\",\n            isCheck: true,\n        },\n\n        ...addExistingField('date', 'text', 'Test Date', true),\n\n        ...addExistingField('record_name', 'text', 'Awesome Label', false, {visibility: HIDDEN}),\n\n        ...addExistingField('body_html', 'textarea', 'Your Message', true),\n\n        ...addExistingField('recipient_ids', 'checkbox'),\n\n        ...addCustomField('one2many', 'checkbox', 'Products', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Iphone',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Galaxy S',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Xperia',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change added Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Wiko Stairway',\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='horizontal'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n        ...selectButtonByData('data-multi-checkbox-display=\"vertical\"'),\n        {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='vertical'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n        // Check conditional visibility for the relational fields\n        ...selectButtonByData(\"data-set-visibility='conditional'\"),\n        ...selectButtonByData(\"data-set-visibility-dependency='recipient_ids'\"),\n        ...selectButtonByText(\"Is not equal to\"),\n        ...selectButtonByText(\"Mitchell Admin\"),\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"Check 'products' field is visible.\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"Products\")}:visible)`,\n            isCheck: true,\n        }, {\n            content: \"choose the option 'Mitchell Admin' of partner.\",\n            trigger: \"iframe .checkbox:has(label:contains('Mitchell Admin')) input[type='checkbox']\",\n        }, {\n            content: \"Check 'products' field is not visible.\",\n            trigger: \"iframe .s_website_form\" +`:has(${triggerFieldByLabel(\"Products\")}:not(:visible))`,\n            isCheck: true,\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n\n        ...addCustomField('selection', 'radio', 'Service', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text After-sales Service',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Invoicing Service',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Development Service',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Management Service',\n        }, {\n            content: \"Mark the field as not required\",\n            trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n            run: function () {\n                // We need this 'setTimeout' to ensure that the 'blur' event of\n                // the input has enough time to be executed. Without it, the\n                // click on the 'we-checkbox' takes priority, and the 'blur'\n                // event is not executed (see the '_onListItemBlurInput'\n                // function of the 'we-list' widget).\"\n                setTimeout(() => {\n                    this.$anchor[0].click();\n                }, 500);\n            },\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom:not(.s_website_form_required)\" +\n                        \":has(.radio:has(label:contains('After-sales Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Invoicing Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Development Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Management Service')):has(input[type='radio']:not([required])))\",\n            run: function () {},\n        },\n\n        ...addCustomField('many2one', 'select', 'State', true),\n\n        // Customize custom selection field\n        {\n            content: \"Change Option 1 Label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Germany',\n        }, {\n            content: \"Change Option 2 Label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Belgium',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text France',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Canada',\n        }, {\n            content: \"Remove Germany Option\",\n            trigger: '.o_we_select_remove_option:eq(0)',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last option label with a number\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text 44 - UK',\n        }, {\n            content: \"Check that the input value is the full option value\",\n            trigger: 'we-list table input:eq(3)',\n            run: () => {\n                // We need this 'setTimeout' to ensure that the 'input' event of\n                // the input has enough time to be executed (see the\n                // '_onListItemBlurInput' function of the 'we-list' widget).\n                setTimeout(() => {\n                    const addedOptionEl = document.querySelector('iframe.o_iframe').contentDocument.querySelector('.s_website_form_field select option[value=\"44 - UK\"]');\n                    if (!addedOptionEl) {\n                        console.error('The number option was not correctly added');\n                    }\n                }, 500);\n            },\n        }, {\n            content: \"Check the resulting snippet\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(label:contains('State'))\" +\n                        \":has(select[required]:hidden)\" +\n                        \":has(.s_website_form_select_item:contains('Belgium'))\" +\n                        \":has(.s_website_form_select_item:contains('France'))\" +\n                        \":has(.s_website_form_select_item:contains('Canada'))\" +\n                        \":has(.s_website_form_select_item:contains('44 - UK'))\" +\n                        \":not(:has(.s_website_form_select_item:contains('Germany')))\",\n            run: function () {},\n        },\n\n        ...addExistingField('attachment_ids', 'file', 'Invoice Scan'),\n\n        {\n            content: \"Insure the history step of the editor is not checking for unbreakable\",\n            trigger: 'iframe #wrapwrap',\n            run: () => {\n                const wysiwyg = $('iframe:not(.o_ignore_in_tour)').contents().find('#wrapwrap').data('wysiwyg');\n                wysiwyg.odooEditor.historyStep(true);\n            },\n        },\n        // Edit the submit button using linkDialog.\n        {\n            content: \"Click submit button to show edit popover\",\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Click on Edit Link in Popover\",\n            trigger: 'iframe .o_edit_menu_popover .o_we_edit_link',\n        }, {\n            content: \"Check that no URL field is suggested\",\n            trigger: '.oe-toolbar:not(.oe-floating):has(#url_row:hidden)',\n            run: () => null,\n        }, {\n            content: \"Change button's style\",\n            trigger: '.dropdown:has([name=\"link_style_color\"]) > button',\n            run: () => {\n                $('.dropdown:has([name=\"link_style_color\"]) > button').click();\n                $('[data-value=\"secondary\"]').click();\n                $('.dropdown:has([name=\"link_style_shape\"]) > button').click();\n                $('[data-value=\"rounded-circle\"]').click();\n                $('.dropdown:has([name=\"link_style_size\"]) > button').click();\n                $('[data-value=\"sm\"]').click();\n            },\n        }, {\n            content: \"Check the resulting button\",\n            trigger: 'iframe .s_website_form_send.btn.btn-sm.btn-secondary.rounded-circle',\n            run: () => null,\n        },\n        // Add a default value to a auto-fillable field.\n        {\n            content: 'Select the name field',\n            trigger: 'iframe .s_website_form_field:eq(0)',\n        }, {\n            content: 'Set a default value to the name field',\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: 'text John Smith',\n        },\n\n        // Add two fields: the 1st one's visibility is tied to the 2nd one\n        // being set, and the 2nd one is autopopulated. As a result, both\n        // should be visible by default.\n        ...addCustomField(\"char\", \"text\", \"field A\", false, {visibility: CONDITIONALVISIBILITY}),\n        ...addCustomField(\"char\", \"text\", \"field B\", false),\n        ...selectFieldByLabel(\"field A\"),\n        ...selectButtonByData('data-set-visibility-dependency=\"field B\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n        ...selectFieldByLabel(\"field B\"),\n        {\n            content: \"Insert default value\",\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: \"text prefilled\",\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: 'Verify value attribute and property',\n            trigger: 'iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]:propValue(\"Mitchell Admin\")',\n        },\n        {\n            content: 'Verify that phone field is still auto-fillable',\n            trigger: 'iframe .s_website_form_field input[data-fill-with=\"phone\"]:propValue(\"+1 555-555-5555\")',\n        },\n        // Check that the resulting form behavior is correct.\n        {\n            content: \"Check that field B prefill text is set\",\n            trigger: `iframe ${triggerFieldByLabel(\"field B\")}:has(input[value=\"prefilled\"])`,\n            isCheck: true,\n        }, {\n            content: \"Check that field A is visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            isCheck: true,\n        },\n        // A) Check that if we edit again and save again the default value is\n        // not deleted.\n        // B) Add a 3rd field. Field A's visibility is tied to field B being set,\n        // field B is autopopulated and its visibility is tied to field C being\n        // set, and field C is empty.\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: 'Edit the form',\n            trigger: 'iframe .s_website_form_field:eq(0) input',\n            run: 'click',\n        },\n        ...addCustomField(\"char\", \"text\", \"field C\", false),\n        ...selectFieldByLabel(\"field B\"),\n        ...selectButtonByText(CONDITIONALVISIBILITY),\n        ...selectButtonByText(CONDITIONALVISIBILITY),\n        {\n            content: \"Check that there is a comparator after two clicks on 'Visible only if'\",\n            trigger: \"[data-attribute-name='visibilityComparator']\",\n            run: function () {\n                if (!this.$anchor[0].querySelector(\"we-button.active\")) {\n                    console.error(\"A default comparator should be set\");\n                }\n            },\n        },\n        ...selectButtonByData('data-set-visibility-dependency=\"field C\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n        ...wTourUtils.clickOnSave(),\n\n        // Check that the resulting form behavior is correct.\n        {\n            content: 'Verify that the value has not been deleted',\n            trigger: 'iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]',\n        }, {\n            content: \"Check that fields A and B are not visible and that field B's prefill text is still set\",\n            trigger: \"iframe .s_website_form\" +\n                `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))` +\n                `:has(${triggerFieldByLabel(\"field B\")}` +\n                `:has(input[value=\"prefilled\"]):not(:visible))`,\n            isCheck: true,\n        }, {\n            content: \"Type something in field C\",\n            trigger: `iframe ${triggerFieldByLabel(\"field C\")} input`,\n            run: \"text Sesame\",\n        }, {\n            content: \"Check that fields A and B are visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n                `:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            isCheck: true,\n        },\n\n        // Have field A's visibility tied to field B containing something,\n        // while field B's visibility is also tied to another field.\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        ...selectFieldByLabel(\"field A\"),\n        {\n            content: \"Verify that the form editor appeared\",\n            trigger: \".o_we_customize_panel .snippet-option-WebsiteFormEditor\",\n            run: () => null,\n        },\n        ...selectButtonByData('data-select-data-attribute=\"contains\"'),\n        {\n            content: \"Tie the visibility of field A to field B containing 'peek-a-boo'\",\n            trigger: \"we-input[data-name=hidden_condition_additional_text] input\",\n            run: \"text peek-a-boo\",\n        },\n        ...wTourUtils.clickOnSave(),\n\n        // Check that the resulting form works and does not raise an error.\n         {\n            content: \"Write anything in C\",\n            trigger: `iframe ${triggerFieldByLabel(\"field C\")} input`,\n            run: \"text Mellon\",\n        }, {\n            content: \"Check that field B is visible, but field A is not\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n                `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))`,\n            isCheck: true,\n        }, {\n            content: \"Insert 'peek-a-boo' in field B\",\n            trigger: `iframe ${triggerFieldByLabel(\"field B\")} input`,\n            run: \"text peek-a-boo\",\n        }, {\n            content: \"Check that field A is visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            isCheck: true,\n        },\n\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        ...addCustomField(\"char\", \"text\", \"Philippe of Belgium\", false),\n        {\n            content: \"Select the 'Subject' field\",\n            trigger: 'iframe .s_website_form_field.s_website_form_model_required:has(label:contains(\"Subject\"))',\n        },\n        ...selectButtonByText(CONDITIONALVISIBILITY),\n        ...selectButtonByData('data-set-visibility-dependency=\"Philippe of Belgium\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n        {\n            content: \"Set a default value to the 'Subject' field\",\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: 'text Default Subject',\n        },\n        {\n            content: \"Select the 'Your Message' field\",\n            trigger: 'iframe .s_website_form_field.s_website_form_required:has(label:contains(\"Your Message\"))',\n        },\n        ...selectButtonByText(CONDITIONALVISIBILITY),\n        ...selectButtonByData('data-set-visibility-dependency=\"Philippe of Belgium\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n\n        ...wTourUtils.clickOnSave(),\n        // Ensure that a field required for a model is not disabled when\n        // conditionally hidden.\n        {\n            content: \"Check that the 'Subject' field is not disabled\",\n            trigger: `iframe .s_website_form:has(.s_website_form_model_required ` +\n                `.s_website_form_input[value=\"Default Subject\"]:not([disabled]):not(:visible))`,\n            run: () => null, // it's a check\n        },\n        // Ensure that a required field (but not for a model) is disabled when\n        // conditionally hidden.\n        {\n            content: \"Check that the 'Your Message' field is disabled\",\n            trigger: `iframe .s_website_form:has(.s_website_form_required ` +\n                `.s_website_form_input[name=\"body_html\"][required][disabled]:not(:visible))`,\n            run: () => null, // it's a check\n        },\n\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"Select the 'Subject' field\",\n            trigger: 'iframe .s_website_form_field.s_website_form_model_required:has(label:contains(\"Subject\"))',\n        },\n        ...selectButtonByData(\"data-set-visibility='visible'\"),\n        {\n            content: \"Empty the default value of the 'Subject' field\",\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: \"remove_text\",\n        },\n        {\n            content: \"Select the 'Your Message' field\",\n            trigger: 'iframe .s_website_form_field.s_website_form_required:has(label:contains(\"Your Message\"))',\n        },\n        ...selectButtonByData(\"data-set-visibility='visible'\"),\n        {\n            content: 'Click on the submit button',\n            trigger: 'iframe .s_website_form_send',\n            run: 'click',\n        },\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n        // Test a field visibility when it's tied to another Date [Time] field\n        // being set.\n        ...addCustomField(\"char\", \"text\", \"field D\", false, { visibility: CONDITIONALVISIBILITY }),\n        ...addCustomField(\"date\", \"text\", \"field E\", false),\n        ...selectFieldByLabel(\"field D\"),\n        ...selectButtonByData('data-set-visibility-dependency=\"field E\"'),\n        ...selectButtonByData('data-select-data-attribute=\"after\"'),\n        {\n            content: \"Enter a date in the date input\",\n            trigger: \"[data-name='hidden_condition_additional_date'] input\",\n            run: \"text 03/28/2017\",\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"Enter an invalid date in field E\",\n            trigger: `iframe ${triggerFieldByLabel(\"field E\")} input`,\n            run() {\n                this.$anchor[0].value = \"25071981\";\n                this.$anchor[0].dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n                // Adds a delay to let the input code run.\n                setTimeout(() => {\n                    this.$anchor[0].classList.add(\"invalidDate\");\n                }, 500);\n            },\n        },\n        {\n            content: \"Enter an valid date in field E\",\n            trigger: `iframe ${triggerFieldByLabel(\"field E\")} input.invalidDate`,\n            run() {\n                this.$anchor[0].classList.remove(\"invalidDate\");\n                this.$anchor[0].value = \"07/25/1981\";\n                this.$anchor[0].dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n                // Adds a delay to let the input code run.\n                setTimeout(() => {\n                    this.$anchor[0].classList.add(\"validDate\");\n                }, 500);\n            },\n        },\n        {\n            content: \"Click to open the date picker popover from field E\",\n            trigger: `iframe ${triggerFieldByLabel(\"field E\")} input.validDate`,\n            run(actions) {\n                this.$anchor[0].classList.remove(\"validDate\");\n                actions.click();\n            },\n        },\n        {\n            content: \"Select today's date from the date picker\",\n            trigger: \"iframe .o_datetime_picker .o_date_item_cell.o_today\",\n        },\n        {\n            content: \"Check that field D is visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field D\")}:visible)`,\n            isCheck: true,\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        // The next four calls to \"addCustomField\" are there to ensure such\n        // characters do not make the form editor crash.\n        ...addCustomField(\"char\", \"text\", \"''\", false),\n        ...addCustomField(\"char\", \"text\", '\"\"', false),\n        ...addCustomField(\"char\", \"text\", \"``\", false),\n        ...addCustomField(\"char\", \"text\", \"\\\\\", false),\n\n        // Ensure that the description option is working as wanted.\n        ...addCustomField(\"char\", \"text\", \"Check description option\", false),\n        wTourUtils.changeOption(\"WebsiteFieldEditor\", \"we-button[data-toggle-description] we-checkbox\"),\n        {\n            content: \"Ensure that the description has correctly been added on the field\",\n            trigger: \"iframe .s_website_form_field:contains('Check description option') .s_website_form_field_description\",\n            isCheck: true,\n        },\n\n        ...wTourUtils.clickOnSave(),\n        {\n            content: 'Verify that the recipient email has been saved',\n            // We have to this that way because the input type = hidden.\n            trigger: 'iframe form:has(input[name=\"email_to\"][value=\"test@test.test\"])',\n            isCheck: true,\n        },\n    ]);\n\n    function editContactUs(steps) {\n        return [\n            {\n                content: \"Select the contact us form by clicking on an input field\",\n                trigger: 'iframe .s_website_form input',\n                extra_trigger: '#oe_snippets .oe_snippet_thumbnail',\n                run: 'click',\n            },\n            ...steps,\n            ...wTourUtils.clickOnSave(),\n        ];\n    }\n\n    wTourUtils.registerWebsitePreviewTour('website_form_contactus_edition_with_email', {\n        url: '/contactus',\n        edition: true,\n        test: true,\n    }, () => editContactUs([\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n    ]));\n    wTourUtils.registerWebsitePreviewTour('website_form_contactus_edition_no_email', {\n        url: '/contactus',\n        edition: true,\n        test: true,\n    }, () => editContactUs([\n        {\n            content: \"Change a random option\",\n            trigger: '[data-set-mark] input',\n            run: 'text_blur **',\n        }, {\n            content: \"Check that the recipient email is correct\",\n            trigger: 'we-input[data-field-name=\"email_to\"] input:propValue(\"website_form_contactus_edition_no_email@mail.com\")',\n            isCheck: true,\n        },\n    ]));\n\n    wTourUtils.registerWebsitePreviewTour('website_form_conditional_required_checkboxes', {\n        test: true,\n        url: '/',\n        edition: true,\n    }, () => [\n        // Create a form with two checkboxes: the second one required but\n        // invisible when the first one is checked. Basically this should allow\n        // to have: both checkboxes are visible by default but the form can\n        // only be sent if one of the checkbox is checked.\n        {\n            content: \"Add the form snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_website_form) .oe_snippet_thumbnail',\n            run: 'drag_and_drop_native iframe #wrap',\n        }, {\n            content: \"Select the form by clicking on an input field\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form input',\n            run: function (actions) {\n                actions.auto();\n\n                // The next steps will be about removing non essential required\n                // fields. For the robustness of the test, check that amount\n                // of field stays the same.\n                const requiredFields = this.$anchor.closest('[data-snippet]').find('.s_website_form_required');\n                if (requiredFields.length !== NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM) {\n                    console.error('The amount of required fields seems to have changed');\n                }\n            },\n        },\n        ...((function () {\n            const steps = [];\n            for (let i = 0; i < NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM; i++) {\n                steps.push({\n                    content: \"Select required field to remove\",\n                    trigger: 'iframe .s_website_form_required .s_website_form_input',\n                });\n                steps.push({\n                    content: \"Remove required field\",\n                    trigger: 'iframe .oe_overlay .oe_snippet_remove',\n                });\n            }\n            return steps;\n        })()),\n        ...addCustomField('boolean', 'checkbox', 'Checkbox 1', false),\n        ...addCustomField('boolean', 'checkbox', 'Checkbox 2', true, {visibility: CONDITIONALVISIBILITY}),\n        {\n            content: \"Open condition item select\",\n            trigger: 'we-select[data-name=\"hidden_condition_opt\"] we-toggler',\n        }, {\n            content: \"Choose first checkbox as condition item\",\n            trigger: 'we-button[data-set-visibility-dependency=\"Checkbox 1\"]',\n        }, {\n            content: \"Open condition comparator select\",\n            trigger: 'we-select[data-attribute-name=\"visibilityComparator\"] we-toggler',\n        }, {\n            content: \"Choose 'not equal to' comparator\",\n            trigger: 'we-button[data-select-data-attribute=\"!selected\"]',\n        },\n        ...wTourUtils.clickOnSave(),\n\n        // Check that the resulting form behavior is correct\n        {\n            content: \"Wait for page reload\",\n            trigger: 'iframe body:not(.editor_enable) [data-snippet=\"s_website_form\"]',\n            run: function (actions) {\n                // The next steps will be about removing non essential required\n                // fields. For the robustness of the test, check that amount\n                // of field stays the same.\n                const essentialFields = this.$anchor.find('.s_website_form_model_required');\n                if (essentialFields.length !== ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM.length) {\n                    console.error('The amount of model-required fields seems to have changed');\n                }\n            },\n        },\n        ...essentialFieldsForDefaultFormFillInSteps,\n        {\n            content: 'Try sending empty form',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: 'Check the form could not be sent',\n            trigger: 'iframe #s_website_form_result.text-danger',\n            run: () => null,\n        }, {\n            content: 'Check the first checkbox',\n            trigger: 'iframe input[type=\"checkbox\"][name=\"Checkbox 1\"]',\n        }, {\n            content: 'Check the second checkbox is now hidden',\n            trigger: 'iframe .s_website_form:has(input[type=\"checkbox\"][name=\"Checkbox 2\"]:not(:visible))',\n            run: () => null,\n        }, {\n            content: 'Try sending the form',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Check the form was sent (success page without form)\",\n            trigger: 'iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-check-circle',\n            run: () => null,\n        }, {\n            content: \"Go back to the form\",\n            trigger: 'iframe a.navbar-brand.logo',\n        },\n        ...essentialFieldsForDefaultFormFillInSteps,\n        {\n            content: 'Check the second checkbox',\n            trigger: 'iframe input[type=\"checkbox\"][name=\"Checkbox 2\"]',\n        }, {\n            content: 'Try sending the form again',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Check the form was again sent (success page without form)\",\n            trigger: 'iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-check-circle',\n            run: () => null,\n        }\n    ]);\n\n    wTourUtils.registerWebsitePreviewTour('website_form_contactus_change_random_option', {\n        test: true,\n        url: '/contactus',\n        edition: true,\n    }, () => editContactUs([\n        {\n            content: \"Change a random option\",\n            trigger: '[data-set-mark] input',\n            run: 'text_blur **',\n        },\n    ]));\n\n    // Check that the editable form content is actually editable.\n    wTourUtils.registerWebsitePreviewTour(\"website_form_editable_content\", {\n        test: true,\n        url: \"/\",\n        edition: true,\n    }, () => [\n        {\n            ...wTourUtils.dragNDrop({id: \"s_website_form\", name: \"Form\"}),\n            run: \"drag_and_drop_native iframe #wrap\",\n        },\n        {\n            content: \"Check that a form field is not editable\",\n            extra_trigger: \"iframe .s_website_form_field\",\n            trigger: \"iframe section.s_website_form input\",\n            run: function () {\n                if (this.$anchor[0].isContentEditable) {\n                    console.error(\"A form field should not be editable.\");\n                }\n            },\n        },\n        {\n            content: \"Go back to blocks\",\n            trigger: \".o_we_add_snippet_btn\",\n        },\n        wTourUtils.dragNDrop({id: \"s_three_columns\", name: \"Columns\"}),\n        {\n            content: \"Select the first column\",\n            trigger: \"iframe .s_three_columns .row > :nth-child(1)\",\n        },\n        {\n            content: \"Drag and drop the selected column inside the form\",\n            trigger: \"iframe .o_overlay_move_options .o_move_handle\",\n            run: \"drag_and_drop_native iframe section.s_website_form\",\n        },\n        {\n            content: \"Click on the text inside the dropped form column\",\n            extra_trigger: \"iframe section.s_website_form .col-lg-4[contenteditable=true]\",\n            trigger: \"iframe section.s_website_form h3.card-title\",\n            run: \"dblclick\",\n        },\n        {\n            // Simulate a user interaction with the editable content.\n            content: \"Update the text inside the form column\",\n            trigger: \"iframe section.s_website_form h3.card-title\",\n            run: \"text ABC\",\n        },\n        {\n            content: \"Check that the new text value was correctly set\",\n            trigger: \"iframe section.s_website_form h3:containsExact(ABC)\",\n            run: () => null, // it's a check\n        },\n        {   content: \"Remove the dropped column\",\n            trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n            run: \"click\",\n        },\n        ...wTourUtils.clickOnSave(),\n    ]);\n\n    wTourUtils.registerWebsitePreviewTour(\"website_form_nested_forms\", {\n        test: true,\n        url: \"/my/account\",\n        edition: true,\n    },\n    () => [\n        {\n            ...wTourUtils.dragNDrop({ id: \"s_website_form\", name: \"Form\" }),\n            run: \"drag_and_drop_native iframe #wrap .o_portal_details\",\n        },\n        {\n            content: \"Check the form was not dropped into another form\",\n            trigger: \"iframe form:not(:has([data-snippet='s_website_form']))\",\n            isCheck: true,\n        },\n    ]);\n\n    wTourUtils.registerWebsitePreviewTour(\"website_form_special_characters\", {\n        test: true,\n        url: \"/\",\n        edition: true,\n    }, () => [\n        {\n            ...wTourUtils.dragNDrop({id: \"s_website_form\", name: \"Form\"}),\n            run: \"drag_and_drop_native iframe #wrap\",\n        },\n        {\n            content: \"Select form by clicking on an input field\",\n            extra_trigger: \"iframe .s_website_form_field\",\n            trigger: \"iframe section.s_website_form input\",\n        },\n        ...addCustomField(\"char\", \"text\", `Test1\"'`, false),\n        ...addCustomField(\"char\", \"text\", 'Test2`\\\\', false),\n        ...wTourUtils.clickOnSave(),\n        ...essentialFieldsForDefaultFormFillInSteps,\n        {\n            content: \"Complete 'Your Question' field\",\n            trigger: \"iframe textarea[name='description']\",\n            run: \"text test\",\n        }, {\n            content: \"Complete the first added field\",\n            trigger: \"iframe input[name='Test1&quot;&apos;']\",\n            run: \"text test1\",\n        }, {\n            content: \"Complete the second added field\",\n            trigger: \"iframe input[name='Test2&lsquo;&bsol;']\",\n            run: \"text test2\",\n        }, {\n            content: \"Click on 'Submit'\",\n            trigger: \"iframe a.s_website_form_send\",\n        }, {\n            content: \"Check the form was again sent (success page without form)\",\n            trigger: \"iframe body:not(:has([data-snippet='s_website_form'])) .fa-check-circle\",\n            isCheck: true,\n        },\n    ]);\n\n    export default {};\n", "/** @odoo-module **/\nimport { jsonrpc } from \"@web/core/network/rpc_service\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_submit\", {\n    test: true,\n    steps: () => [\n    {\n        content:  \"Try to send the form with some required fields not filled in\",\n        extra_trigger:  \"form[data-model_name='mail.mail']\" +\n                        \"[data-success-page='/contactus-thank-you']\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):has(input[type='text'][name='name'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Email')):has(input[type='email'][name='email_from'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')):has(textarea[name='description'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):has(input[type='text'][name='subject'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')):has(input[type='text'][name='date'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Awesome Label')):hidden)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')):has(textarea[name='body_html'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Iphone'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Galaxy S'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Xperia'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Wiko Stairway'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='After-sales Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Invoicing Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Development Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Management Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Belgium'])))\" +\n                        \":has(.s_website_form_field.s_website_form_required:has(label:contains('State')):has(select[name='State'][required]:has(option[value='France'])))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Canada'])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')))\" +\n                        \":has(.s_website_form_field:has(input[name='email_to'][value='test@test.test']))\" +\n                        \":has(.s_website_form_field:has(input[name='website_form_signature']))\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Subject field\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"input[name=subject]\",\n        run:      \"text Jane Smith\"\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Message field\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"textarea[name=body_html]\",\n        run:      \"text A useless message\"\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields was detected and check a product. If this fails, you probably broke the cleanForSave.\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"input[name=Products][value='Wiko Stairway']\"\n    },\n    {\n        content:  \"Open datetime picker\",\n        trigger:  \".s_website_form_datetime input\",\n        run:      \"click\",\n    },\n    {\n        content:  \"Complete Date field\",\n        trigger:  \".o_date_picker .o_today\",\n    },\n    {\n        content:  \"Check another product\",\n        trigger:  \"input[name='Products'][value='Xperia']\"\n    },\n    {\n        content:  \"Check a service\",\n        trigger:  \"input[name='Service'][value='Development Service']\"\n    },\n    {\n        content:  \"Select a State\",\n        trigger:  \"select[name='State']\",\n        run:      \"text Canada\",\n    },\n    {\n        content:  \"Complete Your Name field\",\n        trigger:  \"input[name='name']\",\n        run:      \"text chhagan\"\n    },\n    {\n        content:  \"Complete Email field\",\n        trigger:  \"input[name=email_from]\",\n        run:      \"text test@mail.com\"\n    },\n    {\n        content: \"Complete Subject field\",\n        trigger: 'input[name=\"subject\"]',\n        run: 'text subject',\n    },\n    {\n        content:  \"Complete Your Question field\",\n        trigger:  \"textarea[name='description']\",\n        run:      \"text magan\"\n    },\n    {\n        content: \"Check if conditional field is visible, it shouldn't.\",\n        trigger: \"body\",\n        run: function () {\n            const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_website_form_field_hidden_if')[0]);\n            if (style.display !== 'none') {\n                console.error('error This field should be invisible when the name is not odoo');\n            }\n        }\n    },\n    {\n        content: \"Change name input\",\n        trigger: \"input[name='name']\",\n        run: \"text odoo\",\n    },\n    {\n        content: \"Check if conditional field is visible, it should.\",\n        trigger: \"input[name='email_cc']\",\n    },\n    {\n        content: \"Select state option\",\n        trigger: \"select[name='State']\",\n        run: 'text 44 - UK',\n    },\n    {\n        content:  \"Send the form\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check form is submitted without errors\",\n        trigger:  \"#wrap:has(h1:contains('Thank You!'))\",\n        isCheck: true,\n    }\n]});\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_results\", {\n    test: true,\n    steps: () => [\n    {\n        content: \"Check mail.mail records have been created\",\n        trigger: \"body\",\n        run: function () {\n            var mailDef = jsonrpc(`/web/dataset/call_kw/mail.mail/search_count`, {\n                model: \"mail.mail\",\n                method: \"search_count\",\n                args: [[\n                    ['email_to', '=', 'test@test.test'],\n                    ['body_html', 'like', 'A useless message'],\n                    ['body_html', 'like', 'Service : Development Service'],\n                    ['body_html', 'like', 'State : 44 - UK'],\n                    ['body_html', 'like', 'Products : Xperia,Wiko Stairway']\n                ]],\n                kwargs: {},\n            });\n            var success = function(model, count) {\n                if (count > 0) {\n                    $('body').append('<div id=\"website_form_editor_success_test_tour_'+model+'\"></div>');\n                }\n            };\n            mailDef.then(success.bind(this, 'mail_mail'));\n        }\n    },\n    {\n        content:  \"Check mail.mail records have been created\",\n        trigger:  \"#website_form_editor_success_test_tour_mail_mail\",\n        allowInvisible: true,\n        isCheck: true,\n    }\n]});\nregistry.category(\"web_tour.tours\").add('website_form_contactus_submit', {\n    test: true,\n    url: '/contactus',\n    steps: () => [\n    // As the demo portal user, only two inputs needs to be filled to send\n    // the email\n    {\n        content: \"Fill in the subject\",\n        trigger: 'input[name=\"subject\"]',\n    },\n    {\n        content: 'Fill in the message',\n        trigger: 'textarea[name=\"description\"]',\n    },\n    {\n        content: 'Send the form',\n        trigger: '.s_website_form_send',\n    },\n    {\n        content: 'Check form is submitted without errors',\n        trigger: '#wrap:has(h1:contains(\"Thank You!\"))',\n        isCheck: true,\n    },\n]});\nregistry.category(\"web_tour.tours\").add('website_form_contactus_check_changed_email', {\n    test: true,\n    url: '/contactus',\n    steps: () => [\n        {\n            content: \"Check that the recipient email is updated\",\n            trigger: 'form:has(input[name=\"email_to\"][value=\"after.change@mail.com\"])',\n            isCheck: true,\n        },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_navbar_menu\", {\n    test: true,\n    url: \"/\",\n    steps: () => [\n    {\n        content: \"Ensure menus are in DOM\",\n        trigger: '.top_menu .nav-item a:contains(\"Test Tour Menu\")',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Ensure menus loading is done (so they are actually visible)\",\n        trigger: 'body:not(:has(.o_menu_loading))',\n        run: function () {}, // it's a check\n    }\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst makeSteps = (steps = []) => [\n    wTourUtils.dragNDrop({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n    }), {\n        content: \"Click on Discard\",\n        trigger: '.o_we_website_top_actions [data-action=\"cancel\"]',\n    }, {\n        content: \"Check that discarding actually warns when there are dirty changes, and cancel\",\n        trigger: \".modal-footer .btn-secondary\",\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        // This makes sure the last step about leaving edit mode at the end of\n        // this tour makes sense.\n        content: \"Confirm we are in edit mode\",\n        trigger: 'body.editor_has_snippets',\n        run: () => null,\n    },\n    ...steps,\n    {\n        // Makes sure the dirty flag does not happen after a setTimeout or\n        // something like that.\n        content: \"Click elsewhere and wait for a few ms\",\n        trigger: 'iframe #wrap',\n        run: function (actions) {\n            actions.auto();\n            setTimeout(() => document.body.classList.add('o_test_delay'), 999);\n        },\n    }, {\n        content: \"Click on Discard\",\n        trigger: '.o_we_website_top_actions [data-action=\"cancel\"]',\n        extra_trigger: 'body.o_test_delay',\n    }, {\n        content: \"Confirm we are not in edit mode anymore\",\n        trigger: 'body:not(.editor_has_snippets)',\n        run: () => null,\n    },\n];\n\nwTourUtils.registerWebsitePreviewTour('website_no_action_no_dirty_page', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => makeSteps());\n\nwTourUtils.registerWebsitePreviewTour('website_no_dirty_page', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => makeSteps([\n    {\n        // This has been known to mark the page as dirty because of the \"drag\n        // the column on image move\" feature.\n        content: \"Click on default image\",\n        trigger: 'iframe .s_text_image img',\n    }, {\n        content: \"Click on default paragraph\",\n        trigger: 'iframe .s_text_image h2 + p.o_default_snippet_text',\n    }, {\n        // TODO this should be done in a dedicated test which would be testing\n        // all default snippet texts behaviors. Will be done in master where a\n        // task will review this feature.\n        // TODO also test that applying an editor command removes that class.\n        content: \"Make sure the paragraph still acts as a default paragraph\",\n        trigger: 'iframe .s_text_image h2 + p.o_default_snippet_text',\n        run: () => null,\n    }, {\n        content: \"Click on button\",\n        trigger: 'iframe .s_text_image .btn',\n        run: function (actions) {\n            actions.click();\n            const el = this.$anchor[0];\n            const sel = el.ownerDocument.getSelection();\n            sel.collapse(el, 0);\n            el.focus();\n        },\n    },\n]));\n\nwTourUtils.registerWebsitePreviewTour('website_no_dirty_lazy_image', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }), {\n        content: \"Replace first paragraph, to insert a new link\",\n        // Ensure the test keeps testing what it should test (eg if we ever\n        // remove the lazy loading on those language img))\n        extra_trigger: 'iframe img.o_lang_flag[loading=\"lazy\"]',\n        trigger: 'iframe #wrap .s_text_image p',\n        run: 'text SomeTestText',\n    }, {\n        content: \"Click elsewhere to be sure the editor fully process the new content\",\n        extra_trigger: 'iframe #wrap .s_text_image p:contains(\"SomeTestText\")',\n        trigger: 'iframe #wrap .s_text_image img',\n    }, {\n        content: \"Check that there is no more than one dirty flag\",\n        extra_trigger: '.o_we_user_value_widget[data-replace-media=\"true\"]',\n        trigger: 'iframe body',\n        run: function () {\n            const dirtyCount = this.$anchor[0].querySelectorAll('.o_dirty').length;\n            if (dirtyCount !== 1) {\n                console.error(dirtyCount + \" dirty flag(s) found\");\n            } else {\n                this.$anchor[0].querySelector('#wrap').classList.add('o_dirty_as_expected');\n            }\n        },\n    }, {\n        content: \"Check previous step went through correctly about dirty flags\",\n        trigger: 'iframe #wrap.o_dirty_as_expected',\n        run: () => null, // it's a check\n    }\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_page_options', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"transparent\"]'),\n    // It's important to test saving right after changing that option only as\n    // this is why this test was made in the first place: the page was not\n    // marked as dirty when that option was the only one that was changed.\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is transparent\",\n        trigger: 'iframe #wrapwrap.o_header_overlay',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('topMenuColor', 'we-select.o_we_so_color_palette'),\n    wTourUtils.changeOption('topMenuColor', 'button[data-color=\"black-50\"]', 'background color', 'bottom', true),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is in black-50\",\n        trigger: 'iframe header#top.bg-black-50',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption(\"topMenuColor\", '[data-page-option-name=\"header_text_color\"]'),\n    wTourUtils.changeOption(\"topMenuColor\", 'button[style=\"background-color:#FF0000;\"]', \"text color\", \"bottom\", true),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that text color of the header is in red\",\n        trigger: 'iframe header#top[style=\" color: #FF0000;\"]',\n        isCheck: true,\n    },\n    {\n        content: \"Enable the mobile view\",\n        trigger: \".o_mobile_preview > a\",\n    },\n    {\n        content: \"Check that text color of the navbar toggler icon is in red\",\n        trigger: 'iframe header#top [data-bs-toggle=\"offcanvas\"] .navbar-toggler-icon',\n        run: function () {\n            if (getComputedStyle(this.$anchor[0]).color !== \"rgb(255, 0, 0)\") {\n                console.error(\"The navbar toggler icon is not in red\");\n            }\n        },\n    },\n    {\n        content: \"Disable the mobile view\",\n        trigger: \".o_mobile_preview > a\",\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({id: \"o_header_standard\", name: \"Header\"}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"hidden\"]'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is hidden\",\n        trigger: 'iframe #wrapwrap:has(header#top.d-none.o_snippet_invisible)',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on 'header' in the invisible elements list\",\n        trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    },\n    wTourUtils.clickOnSnippet({id: 'o_footer', name: 'Footer'}),\n    wTourUtils.changeOption('HideFooter', 'we-button[data-name=\"hide_footer_page_opt\"] we-checkbox'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the footer is hidden and the header is visible\",\n        trigger: 'iframe #wrapwrap:has(.o_footer.d-none.o_snippet_invisible)',\n        extra_trigger: 'iframe #wrapwrap header#top:not(.d-none)',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"website_snippets_menu_tabs\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.goToTheme(),\n    {\n        content: \"Click on the empty 'DRAG BUILDING BLOCKS HERE' area.\",\n        extra_trigger: 'we-customizeblock-option.snippet-option-ThemeColors',\n        trigger: 'iframe main > .oe_structure.oe_empty',\n        run: 'click',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Click on the style tab.\",\n        trigger: '#snippets_menu .o_we_customize_snippet_btn',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport weUtils from \"@web_editor/js/common/utils\";\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst TARGET_FONT_SIZE = 30;\nconst TARGET_BODY_BG_COLOR = '#00FF00';\nconst TARGET_BODY_BG_COLOR_V2 = 'rgb(0, 255, 0)';\nconst TARGET_BODY_COLOR = '#FF00FF';\nconst TARGET_BODY_COLOR_V2 = 'rgb(255, 0, 255)';\n\nconst checkFontSize = function () {\n    const style = document.defaultView.getComputedStyle(this.$anchor[0]);\n    if (!weUtils.areCssValuesEqual(style.fontSize, `${TARGET_FONT_SIZE}px`, 'font-size', this.$anchor)) {\n        console.error(`Expected the font-size to be equal to ${TARGET_FONT_SIZE}px but found ${style.fontSize} instead`);\n    }\n};\nconst checkBodyBgColor = function () {\n    const style = document.defaultView.getComputedStyle(this.$anchor[0]);\n    if (!weUtils.areCssValuesEqual(style.backgroundColor, `${TARGET_BODY_BG_COLOR}`, 'background-color', this.$anchor)) {\n        console.error(`Expected the background color to be equal to ${TARGET_BODY_BG_COLOR} but found ${style.backgroundColor} instead`);\n    }\n};\nconst checkBodyColor = function () {\n    const style = document.defaultView.getComputedStyle(this.$anchor[0]);\n    if (!weUtils.areCssValuesEqual(style.color, `${TARGET_BODY_COLOR}`, 'color', this.$anchor)) {\n        console.error(`Expected the color to be equal to ${TARGET_BODY_COLOR} but found ${style.color} instead`);\n    }\n};\n\nwTourUtils.registerWebsitePreviewTour(\"website_style_edition\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\nwTourUtils.goToTheme(),\n{\n    content: \"Change font size\",\n    trigger: '[data-variable=\"font-size-base\"] input',\n    run: `text_blur ${TARGET_FONT_SIZE}`,\n}, {\n    content: \"Check the font size was properly adapted\",\n    trigger: 'iframe #wrapwrap',\n    // Waiting the CSS to be reloaded: the code adds a new assets bundle with\n    // a #t=... at the end then removes the old one.\n    extra_trigger: 'iframe html:not(:has(link[href$=\"web.assets_frontend.min.css\"]))',\n    run: checkFontSize,\n}, {\n    content: \"Open the color combinations area\",\n    trigger: '.o_we_theme_presets_collapse we-toggler',\n}, {\n    content: \"Open a color combination\",\n    trigger: '.o_we_cc_preview_wrapper',\n}, {\n    content: \"Edit the background color of that color combination\",\n    trigger: '.o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0)',\n}, {\n    content: \"Choose a color\",\n    trigger: `.o_we_color_btn[style*=\"background-color:${TARGET_BODY_BG_COLOR}\"]`,\n}, {\n    content: \"Check the body background color was properly adapted\",\n    trigger: 'iframe body',\n    extra_trigger: `\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0) .o_we_color_preview[style*=\"${TARGET_BODY_BG_COLOR}\"],\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0) .o_we_color_preview[style*=\"${TARGET_BODY_BG_COLOR_V2}\"]\n    `,\n    run: checkBodyBgColor,\n}, {\n    content: \"Edit the text color of that color combination\",\n    trigger: '.o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1)',\n}, {\n    content: \"Choose a color\",\n    trigger: `.o_we_color_btn[style*=\"background-color:${TARGET_BODY_COLOR}\"]`,\n}, {\n    content: \"Check the body color was properly adapted\",\n    trigger: 'iframe body',\n    extra_trigger: `\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1) .o_we_color_preview[style*=\"${TARGET_BODY_COLOR}\"],\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1) .o_we_color_preview[style*=\"${TARGET_BODY_COLOR_V2}\"]\n    `,\n    run: checkBodyColor,\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"Check the font size is still ok outside of edit mode\",\n    trigger: 'iframe body #wrapwrap',\n    run: checkFontSize,\n}, {\n    content: \"Check the body background color is still ok outside of edit mode\",\n    trigger: 'iframe body',\n    run: checkBodyBgColor,\n}, {\n    content: \"Check the body color is still ok outside of edit mode\",\n    trigger: 'iframe body',\n    run: checkBodyColor,\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\nwTourUtils.goToTheme(),\n{\n    content: \"Click on the Background Image selection\",\n    trigger: '[data-customize-body-bg-type=\"\\'image\\'\"]:not(.active)',\n    extra_trigger: '[data-customize-body-bg-type=\"NONE\"].active',\n}, {\n    content: \"The media dialog should open\",\n    trigger: '.o_select_media_dialog',\n    run: () => {}, // It's a check.\n}]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nconst WEBSITE_MAIN_COLOR = '#ABCDEF';\n\nwTourUtils.registerWebsitePreviewTour('website_text_edition', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    wTourUtils.goToTheme(),\n    {\n        content: \"Open colorpicker to change website main color\",\n        trigger: 'we-select[data-color=\"o-color-1\"] .o_we_color_preview',\n    },\n    {\n        content: \"Input the value for the new website main color (also make sure it is independent from the backend)\",\n        trigger: '.o_hex_input',\n        run: `text_blur ${WEBSITE_MAIN_COLOR}`,\n    },\n    wTourUtils.goBackToBlocks(),\n    wTourUtils.dragNDrop({id: 's_text_block', name: 'Text'}),\n    {\n        content: \"Click on the text block first paragraph (to auto select)\",\n        trigger: 'iframe .s_text_block p',\n    },\n    {\n        content: \"Open the foreground colorpicker\",\n        trigger: '#toolbar:not(.oe-floating) #oe-text-color',\n    },\n    {\n        content: \"Go to the 'solid' tab\",\n        trigger: '.o_we_colorpicker_switch_pane_btn[data-target=\"custom-colors\"]',\n    },\n    {\n        content: \"Input the website main color explicitly\",\n        trigger: '.o_hex_input',\n        run: `text_blur ${WEBSITE_MAIN_COLOR}`,\n    },\n    {\n        content: \"Check that paragraph now uses the main color *class*\",\n        trigger: 'iframe .s_text_block p',\n        run: function (actions) {\n            const fontEl = this.$anchor[0].querySelector('font');\n            if (!fontEl) {\n                console.error(\"A background color should have been applied\");\n                return;\n            }\n            if (fontEl.style.backgroundColor) {\n                console.error(\"The paragraph should not have an inline style background color\");\n                return;\n            }\n            if (!fontEl.classList.contains('text-o-color-1')) {\n                console.error(\"The paragraph should have the right background color class\");\n                return;\n            }\n        },\n    }\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\nimport {FONT_SIZE_CLASSES} from '@web_editor/js/editor/odoo-editor/src/utils/utils';\n\nconst classNameInfo = new Map();\nclassNameInfo.set(\"display-1-fs\", {scssVariableName: \"display-1-font-size\", start: 80, end: 90});\nclassNameInfo.set(\"display-2-fs\", {scssVariableName: \"display-2-font-size\", start: 72, end: 80});\nclassNameInfo.set(\"display-3-fs\", {scssVariableName: \"display-3-font-size\", start: 64, end: 70});\nclassNameInfo.set(\"display-4-fs\", {scssVariableName: \"display-4-font-size\", start: 56, end: 60});\nclassNameInfo.set(\"h1-fs\", {scssVariableName: \"h1-font-size\", start: 48, end: 50});\nclassNameInfo.set(\"h2-fs\", {scssVariableName: \"h2-font-size\", start: 40, end: 42});\nclassNameInfo.set(\"h3-fs\", {scssVariableName: \"h3-font-size\", start: 32, end: 38});\nclassNameInfo.set(\"h4-fs\", {scssVariableName: \"h4-font-size\", start: 24, end: 34});\nclassNameInfo.set(\"h5-fs\", {scssVariableName: \"h5-font-size\", start: 20, end: 30});\nclassNameInfo.set(\"h6-fs\", {scssVariableName: \"h6-font-size\", start: 16, end: 26});\nclassNameInfo.set(\"base-fs\", {scssVariableName: \"font-size-base\", start: 16, end: 26});\nclassNameInfo.set(\"o_small-fs\", {scssVariableName: \"small-font-size\", start: 14, end: 24});\n\nfunction checkComputedFontSize(fontSizeClass, stage) {\n    return {\n        content: `Check that the computed font size for ${fontSizeClass} is correct`,\n        trigger: `iframe #wrap .s_text_block .${fontSizeClass}`,\n        run: function () {\n            const computedFontSize = parseInt(getComputedStyle(this.$anchor[0]).fontSize);\n            const expectedFontSize = classNameInfo.get(fontSizeClass)[stage];\n            const gapBetweenSizes = Math.abs(computedFontSize - expectedFontSize);\n            const gapTolerance = 7; // Because the font size is responsive.\n            if (gapBetweenSizes > gapTolerance) {\n                console.error(`When applied class ${fontSizeClass}, the font size is ` +\n                    `${computedFontSize} instead of ~${expectedFontSize}`);\n            }\n        }\n    };\n}\n\nfunction getFontSizeTestSteps(fontSizeClass) {\n    return [\n        wTourUtils.dragNDrop({id: \"s_text_block\", name: \"Text\"}),\n        {\n            content: `[${fontSizeClass}] Click on the text block first paragraph (to auto select)`,\n            trigger: \"iframe .s_text_block p\",\n        }, {\n            content: `Open the font size dropdown to select ${fontSizeClass}`,\n            trigger: \"#font-size button\",\n        }, {\n            content: `Select ${fontSizeClass} in the dropdown`,\n            trigger: `a[data-apply-class=\"${fontSizeClass}\"]:contains(${classNameInfo.get(fontSizeClass).start})`,\n        },\n        checkComputedFontSize(fontSizeClass, \"start\"),\n        wTourUtils.goToTheme(),\n        {\n            content: `Open the collapse to see the font size of ${fontSizeClass}`,\n            trigger: `we-collapse:has(we-input[data-variable=\"` +\n            `${classNameInfo.get(fontSizeClass).scssVariableName}\"]) we-toggler`,\n        }, {\n            content: `Check that the setting for ${fontSizeClass} is correct`,\n            trigger: `we-input[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]`\n                + ` input:propValue(\"${classNameInfo.get(fontSizeClass).start}\")`,\n            isCheck: true,\n        }, {\n            content: `Change the setting value of ${fontSizeClass}`,\n            trigger: `[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"] input`,\n            run: `text_blur ${classNameInfo.get(fontSizeClass).end}`,\n        }, {\n            content: `[${fontSizeClass}] Go to blocks tab`,\n            trigger: \".o_we_add_snippet_btn\",\n        }, {\n            content: `[${fontSizeClass}] Wait to be in blocks tab`,\n            trigger: \".o_we_add_snippet_btn.active\",\n        },\n        wTourUtils.goToTheme(),\n        {\n            content: `Check that the setting of ${fontSizeClass} has been updated`,\n            trigger: `we-input[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]`\n                + ` input:propValue(\"${classNameInfo.get(fontSizeClass).end}\")`,\n            isCheck: true,\n        }, {\n            content: `Close the collapse to hide the font size of ${fontSizeClass}`,\n            trigger: `we-collapse:has(we-input[data-variable=` +\n                `\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]) we-toggler`,\n            extra_trigger: `body:not(:has(.o_we_ui_loading))`,\n        },\n        checkComputedFontSize(fontSizeClass, \"end\"),\n        {\n            content: `Click again on the text with class ${fontSizeClass}`,\n            trigger: `iframe #wrap .s_text_block .${fontSizeClass}`,\n        }, {\n            content: `Remove the text snippet containing the text with class ${fontSizeClass}`,\n            trigger: `.oe_snippet_remove`,\n        }\n    ];\n}\n\nfunction getAllFontSizesTestSteps() {\n    const steps = [];\n    const fontSizeClassesToSkip = [\n        // This option is hidden by default because same value as base-fs.\n        \"h6-fs\",\n        // There is nothing related to these classes in the UI to test anymore.\n        \"small\",\n        \"o_small_twelve-fs\",\n        \"o_small_ten-fs\",\n        \"o_small_eight-fs\",\n    ];\n    for (const fontSizeClass of FONT_SIZE_CLASSES) {\n        if (fontSizeClassesToSkip.includes(fontSizeClass)) {\n            continue;\n        }\n        steps.push(...getFontSizeTestSteps(fontSizeClass));\n    }\n    return steps;\n}\n\nwTourUtils.registerWebsitePreviewTour(\"website_text_font_size\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...getAllFontSizesTestSteps(),\n    // The last step has to be a check.\n    {\n        content: \"Verify that the text block has been deleted\",\n        trigger: \"iframe #wrap:not(:has(.s_text_block))\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nconst columnCountOptSelector = \".snippet-option-layout_column we-select[data-name='column_count_opt']\";\nconst columnsSnippetRow = \"iframe .s_three_columns .row\";\nconst textImageSnippetRow = \"iframe .s_text_image .row\";\nconst changeFirstAndSecondColumnsMobileOrder = (snippetRowSelector, snippetName) => {\n    return [{\n        content: `Click on the first column of the '${snippetName}' snippet`,\n        trigger: `${snippetRowSelector} > div:nth-child(1)`,\n    }, {\n        content: \"Change the orders of the 1st and 2nd columns\",\n        trigger: \"iframe .o_overlay_move_options [data-name='move_right_opt']\",\n    }];\n};\n\nconst addMobileOrderToTextImageSnippet = [\n    ...changeFirstAndSecondColumnsMobileOrder(textImageSnippetRow, \"Text-Image\"),\n    {\n        content: \"Check that the mobile order classes and styles are correct\",\n        trigger: `${textImageSnippetRow}:has(.order-lg-0[style*='order: 1;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 0;']:nth-child(2))\",\n        isCheck: true,\n    },\n];\n\nconst checkIfNoMobileOrder = (snippetRowSelector) => {\n    return {\n        content: \"Check that the mobile order classes and styles were removed\",\n        trigger: `${snippetRowSelector}:not(:has(.order-lg-0[style*='order: ']))`,\n        isCheck: true,\n    };\n};\n\nwTourUtils.registerWebsitePreviewTour(\"website_update_column_count\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\nwTourUtils.dragNDrop({\n    id: \"s_three_columns\",\n    name: \"Columns\",\n}),\nwTourUtils.clickOnSnippet({\n    id: \"s_three_columns\",\n    name: \"Columns\",\n}), {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n}, {\n    content: \"Set 5 columns on desktop\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='5']`,\n}, {\n    content: \"Check that there are now 5 items on 5 columns, and that it didn't change the mobile layout\",\n    trigger: `${columnsSnippetRow}:has(.col-lg-2:nth-child(5):not(.col-2)):not(:has(:nth-child(6)))`,\n    isCheck: true,\n}, {\n    content: \"Check that there is an offset on the 1st item to center the row on desktop, but not on mobile\",\n    trigger: `${columnsSnippetRow} > .offset-lg-1:not(.offset-1):first-child`,\n    isCheck: true,\n}, {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n}, {\n    content: \"Set 2 columns on desktop\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='2']`,\n}, {\n    content: \"Check that there are still 5 items in the row and click on the last one\",\n    trigger: `${columnsSnippetRow} > :nth-child(5)`,\n}, {\n    content: \"Delete the item\",\n    trigger: \"we-title:contains('Column'):not(:contains('Columns')) .oe_snippet_remove\",\n}, {\n    content: \"Toggle mobile view\",\n    trigger: \".o_we_website_top_actions [data-action='mobile']\",\n}, {\n    content: \"Check that there is 1 column on mobile and click on the selector\",\n    trigger: `${columnCountOptSelector} we-toggler:contains('1')`,\n}, {\n    content: \"Set 3 columns on mobile\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='3']`,\n}, {\n    content: \"Check that there are still 4 items but on rows of 3 columns\",\n    trigger: `${columnsSnippetRow}:has(.col-lg-6.col-4:nth-child(4))`,\n    isCheck: true,\n},\n// As there is no practical way to resize the items through the handles, the\n// next step approximates part of what could be reached.\n{\n    content: \"Add a fake resized class on mobile to the 2nd item\",\n    trigger: `${columnsSnippetRow} > :nth-child(2)`,\n    run: ({ tip_widget }) => {\n        const secondItemEl = tip_widget.$anchor[0];\n        secondItemEl.classList.replace(\"col-4\", \"col-6\");\n        // As this is a hardcoded class replacement, a click is needed to\n        // update the column count.\n        secondItemEl.previousElementSibling.click();\n    },\n}, {\n    content: \"Check that the counter shows 'Custom'\",\n    trigger: `${columnCountOptSelector} we-toggler:contains('Custom')`,\n    isCheck: true,\n}, {\n    content: \"Click on the 2nd item\",\n    trigger: `${columnsSnippetRow} > :nth-child(2)`,\n}, {\n    content: \"Change the orders of the 2nd and 3rd items\",\n    trigger: \"iframe .o_overlay_move_options [data-name='move_right_opt']\",\n}, {\n    content: \"Check that the 1st item now has order: 0 and a class .order-lg-0 \" +\n             \"and that order: 1, .order-lg-0 is set on the 3rd item, and order: 2, .order-lg-0 on the 2nd\",\n    trigger: `${columnsSnippetRow}:has([style*='order: 0;'].order-lg-0:first-child)`,\n    extra_trigger: `${columnsSnippetRow}:has([style*='order: 2;'].order-lg-0:nth-child(2) + [style*='order: 1;'].order-lg-0:nth-child(3))`,\n    isCheck: true,\n}, {\n    content: \"Toggle desktop view\",\n    trigger: \".o_we_website_top_actions [data-action='mobile']\",\n}, {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n}, {\n    content: \"Add 2 more items through the columns counter\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='6']`,\n}, {\n    content: \"Check that each item has a different mobile order from 0 to 5\",\n    trigger: `${columnsSnippetRow}${[0, 1, 2, 3, 4, 5].map(n => `:has([style*='order: ${n};'].order-lg-0)`).join(\"\")}`,\n    isCheck: true,\n}, {\n    content: \"Click on the 6th item\",\n    trigger: `${columnsSnippetRow} > :nth-child(6)`,\n}, {\n    // TODO: remove this step. It should not be needed, but the build fails\n    // without it.\n    content: \"Wait for move arrows to appear\",\n    trigger: \"iframe .o_overlay_move_options [data-name='move_left_opt']:has(+ .d-none[data-name='move_right_opt'])\",\n    isCheck: true,\n}, {\n    content: \"Change the orders of the 5th and 6th items to override the mobile orders\",\n    trigger: \"iframe .o_overlay_move_options [data-name='move_left_opt']\",\n}, {\n    content: \"Check that there are no orders anymore\",\n    trigger: `${columnsSnippetRow}:not(:has([style*='order: 0;'])):not(:has(.order-lg-0))`,\n    isCheck: true,\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"website_mobile_order_with_drag_and_drop\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({id: \"s_three_columns\", name: \"Columns\"}),\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Text - Image\"}),\n    ...wTourUtils.toggleMobilePreview(true),\n    // Add a mobile order to the \"Columns\" snippet columns.\n    ...changeFirstAndSecondColumnsMobileOrder(columnsSnippetRow, \"Columns\"),\n    {\n        content: \"Check that the mobile order classes and styles are correct\",\n        trigger: `${columnsSnippetRow}:has(.order-lg-0[style*='order: 1;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 0;']:nth-child(2))\"\n            + \":has(.order-lg-0[style*='order: 2;']:nth-child(3))\",\n        isCheck: true,\n    },\n    // Add a mobile order to the \"Text-Image\" snippet columns.\n    ...addMobileOrderToTextImageSnippet,\n    // Test the drag and drop in the same snippet.\n    ...wTourUtils.toggleMobilePreview(false),\n    {\n        content: \"Drag a 'Text-Image' column and drop it in the same snippet\",\n        trigger: \"iframe .o_overlay_move_options .o_move_handle\",\n        run: `drag_and_drop_native ${textImageSnippetRow}`,\n    },\n    checkIfNoMobileOrder(textImageSnippetRow),\n    // Add again a mobile order to the \"Text-Image\" snippet columns.\n    ...wTourUtils.toggleMobilePreview(true),\n    ...addMobileOrderToTextImageSnippet,\n    // Test the drag and drop from \"Columns\" to \"Text-Image\".\n    ...wTourUtils.toggleMobilePreview(false),\n    {\n        content: \"Click on the second column of the 'Columns' snippet\",\n        trigger: `${columnsSnippetRow} > div:nth-child(2)`,\n    }, {\n        content: \"Drag the second column of 'Columns' and drop it in 'Text-Image'\",\n        trigger: \"iframe .o_overlay_move_options .o_move_handle\",\n        run: `drag_and_drop_native ${textImageSnippetRow}`,\n    },\n    checkIfNoMobileOrder(textImageSnippetRow),\n    {\n        content: \"Check that the order gap left in 'Columns' was filled\",\n        trigger: `${columnsSnippetRow}:has(.order-lg-0[style*='order: 0;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 1;']:nth-child(2))\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\n// Note: cannot import @website/../tests/tour_utils/widget_lifecycle_dep_widget\n// here because that module requires web.public.widget which is not available\n// in the backend, where this tour definition is loaded. Easier to duplicate\n// that key for now rather than create a whole file to handle this localStorage\n// key only.\nconst localStorageKey = 'widgetAndWysiwygLifecycle';\n\nwTourUtils.registerWebsitePreviewTour(\"widget_lifecycle\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: \"s_countdown\",\n        name: \"Countdown\",\n    }),\n    {\n        content: \"Wait for the widget to be started and empty the widgetAndWysiwygLifecycle list\",\n        trigger: \"iframe .s_countdown.public_widget_started\",\n        run: () => {\n            // Start recording the calls to the \"start\" and \"destroy\" method of\n            // the widget and the wysiwyg.\n            window.localStorage.setItem(localStorageKey, '[]');\n        },\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Wait for the widget to be started\",\n        trigger: \"iframe .s_countdown.public_widget_started\",\n        run: () => {}, // It's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Wait for the widget to be started and check the order of the lifecycle method call of the widget and the wysiwyg\",\n        trigger: \"iframe .s_countdown.public_widget_started\",\n        run: () => {\n            const result = JSON.parse(window.localStorage.widgetAndWysiwygLifecycle);\n            const expected = [\"widgetStop\", \"wysiwygStop\", \"widgetStart\",\n                \"widgetStop\", \"wysiwygStart\", \"wysiwygStarted\", \"widgetStart\",\n            ];\n            const alternative = [\"widgetStop\", \"widgetStart\", \"wysiwygStop\",\n                \"widgetStop\", \"wysiwygStart\", \"wysiwygStarted\", \"widgetStart\",\n            ];\n            const resultIsEqualTo = (arr) => {\n                return arr.length === result.length\n                    && arr.every((item, i) => item === result[i]);\n            };\n            if (!(resultIsEqualTo(expected) || resultIsEqualTo(alternative))) {\n                // The \"destroy\" method of the wysiwyg is called two times when\n                // leaving the edit mode: the first one comes explicitly from\n                // the \"leaveEditMode\" of the \"wysiwyg_adapter\". The second\n                // comes from the OWL mechanism as the wysiwyg is not present in\n                // the DOM when the page is reloaded. Because it is not\n                // guaranteed that this last call happens before the start of\n                // the widget at the page reload, two sequences are acceptable\n                // as a result.\n                console.error(`\n                    Expected: ${expected.toString()}\n                    Or:       ${alternative.toString()}\n                    Result:   ${result.toString()}\n                `);\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n    \nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category('web_tour.tours').add('mailing_campaign', {\n    test: true,\n    url: '/web',\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Select the \"Email Marketing\" app',\n            trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n        },\n        {\n            content: 'Select \"Campaings\" Navbar item',\n            trigger: '.o_nav_entry[data-menu-xmlid=\"mass_mailing.menu_email_campaigns\"]',\n        },\n        {\n            content: 'Select \"Newsletter\" campaign',\n            trigger: '.oe_kanban_card:contains(\"Newsletter\")',\n        },\n        {\n            content: 'Add a line (create new mailing)',\n            trigger: '.o_field_x2many_list_row_add a',\n        },\n        {\n            content: 'Pick the basic theme',\n            trigger: 'iframe',\n            run(actions) {\n                // For some reason the selectors inside the iframe cannot be triggered.\n                const link = this.$anchor[0].contentDocument.querySelector('#basic');\n                actions.click(link);\n            }\n        },\n        {\n            content: 'Fill in Subject',\n            trigger: '#subject_0',\n            run: 'text TestFromTour',\n        },\n        {\n            content: 'Fill in Mailing list',\n            trigger: '#contact_list_ids_0',\n            run: 'text Newsletter',\n        },\n        {\n            content: 'Pick \"Newsletter\" option',\n            trigger: '.o_input_dropdown a:contains(Newsletter)',\n        },\n        {\n            content: 'Save form',\n            trigger: '.o_form_button_save',\n        },\n        {\n            content: 'Check that newly created record is on the list',\n            trigger: '[name=\"mailing_mail_ids\"] td[name=\"subject\"]:contains(\"TestFromTour\")',\n            run: () => null,\n        },\n        ...stepUtils.saveForm(),\n    ]\n});\n", "/** @odoo-module **/\n    \nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('mailing_editor', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n}, {\n    trigger: 'button.o_list_button_add',\n}, {\n    trigger: 'div[name=\"contact_list_ids\"] .o_input_dropdown input[type=\"text\"]',\n}, {\n    trigger: 'div[name=\"contact_list_ids\"] .ui-state-active'\n}, {\n    content: 'choose the theme \"empty\" to edit the mailing with snippets',\n    trigger: '[name=\"body_arch\"] iframe #empty',\n}, {\n    content: 'wait for the editor to be rendered',\n    trigger: '[name=\"body_arch\"] iframe .o_editable[data-editor-message=\"DRAG BUILDING BLOCKS HERE\"]',\n    run: () => {},\n}, {\n    content: 'drag the \"Title\" snippet from the design panel and drop it in the editor',\n    trigger: '[name=\"body_arch\"] iframe #email_designer_default_body [name=\"Title\"] .oe_snippet_thumbnail',\n    run: function (actions) {\n        actions.drag_and_drop_native('[name=\"body_arch\"] iframe .o_editable', this.$anchor);\n    }\n}, {\n    content: 'wait for the snippet menu to finish the drop process',\n    trigger: '[name=\"body_arch\"] iframe #email_designer_header_elements:not(:has(.o_we_already_dragging))',\n    run: () => {}\n}, {\n    content: 'verify that the title was inserted properly in the editor',\n    trigger: '[name=\"body_arch\"] iframe .o_editable h1',\n    run: () => {},\n}, {\n    trigger: 'button.o_form_button_save',\n}, {\n    content: 'verify that the save failed (since the field \"subject\" was not set and it is required)',\n    trigger: 'label.o_field_invalid',\n    run: () => {},\n}, {\n    content: 'verify that the edited mailing body was not lost during the failed save',\n    trigger: '[name=\"body_arch\"] iframe .o_editable h1',\n    run: () => {},\n}, {\n    trigger: 'input#subject_0',\n    run: 'text TestFromTour',\n}, {\n    trigger: '.o_form_view', // blur previous input\n},\n...stepUtils.saveForm(),\n{\n    trigger: 'iframe .o_editable',\n    run: () => {},\n}]});\n", "/** @odoo-module **/\n    \nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { boundariesIn, setSelection } from \"@web_editor/js/editor/odoo-editor/src/utils/utils\";\n\nregistry.category(\"web_tour.tours\").add('mailing_editor_theme', {\n    test: true,\n    url: '/web',\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Select the 'Email Marketing' app.\",\n            trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n        },\n        {\n            content: \"Click on the create button to create a new mailing.\",\n            trigger: 'button.o_list_button_add',\n        },\n        {\n            content: \"Fill in Subject\",\n            trigger: '#subject_0',\n            run: 'text Test Basic Theme',\n        },\n        {\n            content: \"Fill in Mailing list\",\n            trigger: '#contact_list_ids_0',\n            run: 'text Newsletter',\n        },\n        {\n            content: \"Pick 'Newsletter' option\",\n            trigger: '.o_input_dropdown a:contains(Newsletter)',\n        },\n        {\n            content: \"Pick the basic theme\",\n            trigger: 'iframe #basic',\n            extra_trigger: 'iframe .o_mail_theme_selector_new',\n        },\n        {\n            content: \"Make sure the snippets menu is hidden\",\n            trigger: 'iframe html:has(#oe_snippets.d-none)',\n            run: () => null, // no click, just check\n        },\n        {\n            content: \"Click on the New button to create another mailing\",\n            trigger: 'button.o_form_button_create',\n        },\n        {\n            content: \"Fill in Subject\",\n            trigger: '#subject_0',\n            extra_trigger: 'iframe .o_mail_theme_selector_new',\n            run: 'text Test Newsletter Theme',\n        },\n        {\n            content: \"Fill in Mailing list\",\n            trigger: '#contact_list_ids_0',\n            run: 'text Newsletter',\n        },\n        {\n            content: \"Pick 'Newsletter' option\",\n            trigger: '.o_input_dropdown a:contains(Newsletter)',\n        },\n        {\n            content: \"Pick the newsletter theme\",\n            trigger: 'iframe #newsletter',\n        },\n        {\n            content: \"Make sure the snippets menu is displayed\",\n            trigger: 'iframe #oe_snippets',\n            run: () => null, // no click, just check\n        },\n        {\n            content: 'Save form',\n            trigger: '.o_form_button_save',\n        },\n        {\n            content: 'Go back to previous mailing',\n            trigger: 'button.o_pager_previous',\n        },\n        {\n            content: \"Make sure the snippets menu is hidden\",\n            trigger: 'iframe html:has(#oe_snippets.d-none)',\n            run: () => null,\n        },\n        {\n            content: \"Add some content to be selected afterwards\",\n            trigger: 'iframe p',\n            run: 'text content',\n        },\n        {\n            content: \"Select text\",\n            trigger: 'iframe p:contains(content)',\n            run() {\n                setSelection(...boundariesIn(this.$anchor[0]), false);\n            }\n        },\n        {\n            content: \"Make sure the floating toolbar is visible\",\n            trigger: '#toolbar.oe-floating[style*=\"visible\"]',\n            run: () => null,\n        },\n        {\n            content: \"Open the color picker\",\n            trigger: '#toolbar #oe-text-color',\n        },\n        {\n            content: \"Pick a color\",\n            trigger: '#toolbar button[data-color=\"o-color-1\"]',\n        },\n        {\n            content: \"Check that color was applied\",\n            trigger: 'iframe p font.text-o-color-1',\n            run: () => null,\n        },\n        {\n            content: 'Save changes',\n            trigger: '.o_form_button_save',\n        },\n        {\n            content: \"Go to 'Mailings' list view\",\n            trigger: '.breadcrumb a:contains(Mailings)'\n        },\n        {\n            content: \"Open newly created mailing\",\n            trigger: 'td:contains(\"Test Basic Theme\")',\n        },\n        {\n            content: \"Make sure the snippets menu is hidden\",\n            trigger: 'iframe html:has(#oe_snippets.d-none)',\n            run: () => null,\n        },\n        {\n            content: \"Select content\",\n            trigger: 'iframe p:contains(content)',\n            run() {\n                setSelection(...boundariesIn(this.$anchor[0]), false);\n            }\n        },\n        {\n            content: \"Make sure the floating toolbar is visible\",\n            trigger: '#toolbar.oe-floating[style*=\"visible\"]',\n            run: () => null,\n        },\n        ...stepUtils.discardForm(),\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/*\n * Tour: unsubscribe from a mailing done on documents (aka not on contacts or\n * mailing lists). We assume email is not member of any mailing list in this test.\n */\nregistry.category(\"web_tour.tours\").add('mailing_portal_unsubscribe_from_document', {\n    test: true,\n    steps: () => [\n        {\n            content: \"Confirmation unsubscribe is done\",\n            trigger: \"div#o_mailing_subscription_info span:contains('You are no longer part of our services and will not be contacted again.')\",\n        }, {\n            content: \"No warning should be displayed\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted:not(:has(p:contains('You will not receive any news from those mailing lists you are a member of')))\",\n        }, {\n            contnet: \"Warning will not receive anything anymore\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted p:contains('You will not hear from us anymore.')\",\n        }, {\n            content: \"Feedback textarea not displayed (see data)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose 'Other' reason\",\n            trigger: \"fieldset label:contains('Other')\",\n        }, {\n            content: \"This should display the Feedback area\",\n            trigger: \"div#o_mailing_portal_subscription textarea\",\n            isCheck: true,\n        }, {\n            content: \"Write feedback reason\",\n            trigger: \"textarea[name='feedback']\",\n            run: \"text My feedback\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n        }, {\n            content: \"Revert exclusion list\",\n            trigger: \"div#button_blocklist_remove\",\n        }, {\n            content: \"Confirmation exclusion list is removed\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email removed from our blocklist')\",\n        }, {\n            content: \"Now exclude me (again)\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n            isCheck: true,\n        },\n    ],\n});\n\n\n/*\n * Tour: unsubscribe from a mailing done on documents (aka not on contacts or\n * mailing lists). We assume email is member of mailing lists in this test.\n */\nregistry.category(\"web_tour.tours\").add('mailing_portal_unsubscribe_from_document_with_lists', {\n    test: true,\n    steps: () => [\n        {\n            content: \"Confirmation unsubscribe is done\",\n            trigger: \"div#o_mailing_subscription_info span:contains('You are no longer part of our services and will not be contacted again.')\",\n        }, {\n            content: \"Display warning about mailing lists\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted p:contains('You will not receive any news from those mailing lists you are a member of')\",\n        }, {\n            content: \"Warning should contain reference to memberships\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted li strong:contains('List1')\",\n        }, {\n            content: \"Feedback textarea not displayed (see data)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose 'Other' reason\",\n            trigger: \"fieldset label:contains('Other')\",\n        }, {\n            content: \"This should display the Feedback area\",\n            trigger: \"div#o_mailing_portal_subscription textarea\",\n            isCheck: true,\n        }, {\n            content: \"Write feedback reason\",\n            trigger: \"textarea[name='feedback']\",\n            run: \"text My feedback\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n        }, {\n            content: \"Revert exclusion list\",\n            trigger: \"div#button_blocklist_remove\",\n        }, {\n            content: \"Confirmation exclusion list is removed\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email removed from our blocklist')\",\n        }, {\n            content: \"Now exclude me (again)\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n            isCheck: true,\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/*\n * Tour: unsubscribe from a mailing done on lists (aka playing with opt-out flag\n * instead of directly blocking emails).\n */\nregistry.category(\"web_tour.tours\").add('mailing_portal_unsubscribe_from_list', {\n    test: true,\n    steps: () => [\n        {\n            content: \"Confirmation unsubscribe is done\",\n            trigger: \"div#o_mailing_subscription_info span:contains('You are no longer part of the List1, List2 mailing list')\",\n        }, {\n            content: \"Feedback textarea not displayed (see data)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose 'Other' reason\",\n            trigger: \"fieldset label:contains('Other')\",\n        }, {\n            content: \"Write feedback reason\",\n            trigger: \"textarea[name='feedback']\",\n            run: \"text My feedback\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n        }, {\n            content: \"Now exclude me\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n            isCheck: true,\n        },\n    ],\n});\n\n\n/*\n * Tour: unsubscribe from a mailing done on lists (aka playing with opt-out flag\n * instead of directly blocking emails), then play with list subscriptions and\n * blocklist addition / removal. This is mainly an extended version of the tour\n * hereabove, easing debug and splitting checks.\n */\nregistry.category(\"web_tour.tours\").add('mailing_portal_unsubscribe_from_list_with_update', {\n    test: true,\n    steps: () => [\n        {\n            content: \"Confirmation unsubscribe is done\",\n            trigger: \"div#o_mailing_subscription_info span:contains('You are no longer part of the List1, List2 mailing list')\",\n        }, {\n            content: \"List1 is present, just opt-outed\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List1') span:contains('Not subscribed')\",\n        }, {\n            content: \"List3 is present, opt-outed (test starting data)\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List3') span:contains('Not subscribed')\",\n        }, {\n            content: \"List2 is proposed (not member -> proposal to join)\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional li.list-group-item:contains('List2')\",\n        }, {\n            content: \"List4 is not proposed (not member but not private)\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional:not(:has(li.list-group-item:contains('List4')))\",\n        }, {\n            content: \"Feedback textarea not displayed (see data)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose 'Other' reason\",\n            trigger: \"fieldset label:contains('Other')\",\n        }, {\n            content: \"Write feedback reason\",\n            trigger: \"textarea[name='feedback']\",\n            run: \"text My feedback\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n        }, {\n            content: \"Now exclude me\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n        }, {\n            content: \"This should disable the 'Update my subscriptions' (Apply changes) button\",\n            trigger: \"div#o_mailing_subscription_blocklist:not(button#button_form_send)\",\n            isCheck: true,\n        }, {\n            content: \"Revert exclusion list\",\n            trigger: \"div#button_blocklist_remove\",\n        }, {\n            content: \"Confirmation exclusion list is removed\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email removed from our blocklist')\",\n        },  {\n            content: \"'Update my subscriptions' button usable again\",\n            trigger: \"button#button_form_send:not([disabled])\",\n            isCheck: true,\n        }, {\n            content: \"Choose the mailing list 3 to come back\",\n            trigger: \"ul#o_mailing_subscription_form_lists input[title='List3']\",\n        }, {\n            content: \"Add list 2\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional input[title='List2']\",\n        }, {\n            content: \"Update subscription\",\n            trigger: \"button#button_form_send\",\n        }, {\n            content: \"Confirmation changes are done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Membership updated')\",\n        }, {\n            content: \"List 3 is noted as subscribed again\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List3') span:contains('Subscribed')\",\n        }, {\n            content: \"List 2 has joined the subscriptions\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List2') span:contains('Subscribed')\",\n        }, {\n            content: \"No list in proposals\",\n            trigger: \"div#o_mailing_subscription_form_manage:not(:has(ul#o_mailing_subscription_form_lists_additional))\",\n        }, {\n            content: \"Feedback area is not displayed (nothing opt-out or no blocklist done, no feedback required)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n            extra_trigger: \"div#o_mailing_portal_subscription:not(fieldset)\",\n        }, {\n            content: \"Now exclude me (again)\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n        }, {\n            content: \"Should display warning about mailing lists\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted p:contains('You will not receive any news from those mailing lists you are a member of')\",\n        }, {\n            content: \"Warning should contain reference to memberships\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted li strong:contains('List2')\",\n            extra_trigger: \"div#o_mailing_subscription_form_blocklisted li strong:contains('List3')\",\n        }, {\n            content: \"Give a reason for blocklist (first one)\",\n            trigger: \"fieldset input.o_mailing_subscription_opt_out_reason:first\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n            isCheck: true,\n        }\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/*\n * Tour: use 'my' portal page of mailing to manage mailing lists subscription\n * as well as manage blocklist (add / remove my own email from block list).\n */\nregistry.category(\"web_tour.tours\").add('mailing_portal_unsubscribe_from_my', {\n    test: true,\n    steps: () => [\n       {\n            content: \"List1 is present, opt-in member\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List1') span:contains('Subscribed')\",\n        }, {\n            content: \"List3 is present, opt-outed (test starting data)\",\n            trigger: \"ul#o_mailing_subscription_form_lists li.list-group-item:contains('List3') span:contains('Not subscribed')\",\n        }, {\n            content: \"List2 is proposed (not member -> proposal to join)\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional li.list-group-item:contains('List2')\",\n        }, {\n            content: \"List4 is not proposed (not member but not private)\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional:not(:has(li.list-group-item:contains('List4')))\",\n        },{\n            content: \"List5 is not proposed (not member and not public)\",\n            trigger: \"body:not(:has(li.list-group-item:contains('List5')))\",\n        }, {\n            content: \"Feedback area is not displayed (nothing done, no feedback required)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n            extra_trigger: \"div#o_mailing_portal_subscription:not(fieldset)\",\n        }, {\n            content: \"List3: come back (choose to opt-in instead of opt-out)\",\n            trigger: \"ul#o_mailing_subscription_form_lists input[title='List3']\",\n        }, {\n            content: \"List2: join (opt-in, not already member)\",\n            trigger: \"ul#o_mailing_subscription_form_lists_additional input[title='List2']\",\n        }, {\n            content: \"List1: opt-out\",\n            trigger: \"ul#o_mailing_subscription_form_lists input[title='List1']\",\n        }, {\n            content: \"Update subscription\",\n            trigger: \"button#button_form_send\",\n        }, {\n            content: \"Confirmation changes are done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Membership updated')\",\n        }, {\n            content: \"Should make feedback reasons choice appear (feedback still not displayed, linked to reasons)\",\n            trigger: \"div#o_mailing_portal_subscription fieldset\",\n            extra_trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose first reason, which should not display feedback (see data)\",\n            trigger: \"fieldset input.o_mailing_subscription_opt_out_reason:first\",\n        }, {\n            content: \"Feedback textarea not displayed (see data)\",\n            trigger: \"div#o_mailing_portal_subscription:not(textarea)\",\n        }, {\n            content: \"Choose 'Other' reason\",\n            trigger: \"fieldset label:contains('Other')\",\n        }, {\n            content: \"This should display the Feedback area\",\n            trigger: \"div#o_mailing_portal_subscription textarea\",\n            isCheck: true,\n        }, {\n            content: \"Write feedback reason\",\n            trigger: \"textarea[name='feedback']\",\n            run: \"text My feedback\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n        }, {\n            content: \"Once sent feedback area is readonly\",\n            trigger: \"fieldset input.o_mailing_subscription_opt_out_reason[disabled]\",\n            extra_trigger: \"textarea[disabled]\",\n            isCheck: true,\n        }, {\n            content: \"Now exclude me\",\n            trigger: \"div#button_blocklist_add\",\n        }, {\n            content: \"Confirmation exclusion is done\",\n            trigger: \"div#o_mailing_subscription_update_info span:contains('Email added to our blocklist')\",\n        }, {\n            content: \"This should disable the 'Update my subscriptions' (Apply changes) button\",\n            trigger: \"div#o_mailing_subscription_blocklist:not(button#button_form_send)\",\n            isCheck: true,\n        }, {\n            content: \"This should enabled Feedback again\",\n            trigger: \"div#o_mailing_portal_subscription textarea\",\n            isCheck: true,\n        }, {\n            content: \"Display warning about mailing lists\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted p:contains('You will not receive any news from those mailing lists you are a member of')\",\n        }, {\n            content: \"Warning should contain reference to memberships\",\n            trigger: \"div#o_mailing_subscription_form_blocklisted li strong:contains('List2')\",\n            extra_trigger: \"div#o_mailing_subscription_form_blocklisted li strong:contains('List3')\",\n        }, {\n            content: \"Give a reason for blocklist (first one)\",\n            trigger: \"fieldset input.o_mailing_subscription_opt_out_reason:first\",\n        }, {\n            content: \"Hit Send\",\n            trigger: \"button#button_feedback\",\n        }, {\n            content: \"Confirmation feedback is sent\",\n            trigger: \"div#o_mailing_subscription_feedback_info span:contains('Sent. Thanks you for your feedback!')\",\n            isCheck: true,\n        }\n    ],\n});\n", "/** @odoo-module **/\n\nimport { markup } from \"@odoo/owl\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('mass_mailing_code_view_tour', {\n    url: '/web?debug=tests',\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n        }, {\n            trigger: 'button.o_list_button_add',\n        }, {\n            trigger: 'input#subject_0',\n            content: markup('Pick the <b>email subject</b>.'),\n            position: 'bottom',\n            run: 'text Test'\n        }, {\n            trigger: 'div[name=\"contact_list_ids\"] .o_input_dropdown input[type=\"text\"]',\n            content: 'Click on the dropdown to open it and then start typing to search.',\n        }, {\n            trigger: 'div[name=\"contact_list_ids\"] .ui-state-active',\n            content: 'Select item from dropdown',\n            run: 'click',\n        }, {\n            trigger: 'div[name=\"body_arch\"] iframe #default',\n            content: markup('Choose this <b>theme</b>.'),\n            run: 'click',\n        }, {\n            trigger: 'iframe .o_codeview_btn',\n            content: markup('Click here to switch to <b>code view</b>'),\n            run: 'click'\n        }, {\n            trigger: 'iframe .o_codeview',\n            content: ('Remove all content from codeview'),\n            run: function () {\n                const iframe = document.querySelector('.wysiwyg_iframe');\n                const iframeDocument = iframe.contentWindow.document;\n                let element = iframeDocument.querySelector(\".o_codeview\");\n                element.value = '';\n            }\n        }, {\n            trigger: 'iframe .o_codeview_btn',\n            content: markup('Click here to switch back from <b>code view</b>'),\n            run: 'click'\n        }, {\n            trigger: '[name=\"body_arch\"] iframe .o_mail_wrapper_td',\n            content: 'Verify that the dropable zone was not removed',\n            run: () => {},\n        }, {\n            trigger: '[name=\"body_arch\"] iframe #email_designer_default_body [name=\"Title\"] .oe_snippet_thumbnail',\n            content: 'Drag the \"Title\" snippet from the design panel and drop it in the editor',\n            run: function (actions) {\n                actions.drag_and_drop_native('[name=\"body_arch\"] iframe .o_editable', this.$anchor);\n            }\n        }, {\n            trigger: '[name=\"body_arch\"] iframe .o_editable h1',\n            content: 'Verify that the title was inserted properly in the editor',\n            run: () => {},\n        },\n        ...stepUtils.discardForm(),\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('snippets_mailing_menu_tabs', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        content: \"Select the 'Email Marketing' app.\",\n        trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n    },\n    {\n        content: \"Click on the create button to create a new mailing.\",\n        trigger: 'button.o_list_button_add',\n    },\n    {\n        content: \"Click on the 'Start From Scratch' template.\",\n        trigger: 'iframe #empty',\n    },\n    {\n        content: \"Click on the 'Design' tab.\",\n        trigger: 'iframe .o_we_customize_design_btn',\n    },\n    {\n        content: \"Click on the empty 'DRAG BUILDING BLOCKS HERE' area.\",\n        trigger: 'iframe .oe_structure.o_mail_no_options',\n    },\n    {\n        content: \"Click on the 'Design' tab.\",\n        trigger: 'iframe .o_we_customize_design_btn',\n    },\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: 'iframe .o_we_customize_panel .snippet-option-DesignTab',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Click on the style tab.\",\n        trigger: 'iframe .o_we_customize_snippet_btn',\n    },\n    {\n        content: \"Click on the 'Design' tab.\",\n        trigger: 'iframe .o_we_customize_design_btn',\n    },\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: 'iframe .o_we_customize_panel .snippet-option-DesignTab',\n        run: () => null, // it's a check\n    },\n    ...stepUtils.discardForm(),\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('snippets_mailing_menu_toolbar', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        content: \"Select the 'Email Marketing' app.\",\n        trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n    },\n    {\n        content: \"Click on the create button to create a new mailing.\",\n        trigger: 'button.o_list_button_add',\n    },\n    {\n        content: \"Wait for the theme selector to load.\",\n        trigger: 'iframe .o_mail_theme_selector_new',\n    },\n    {\n        content: \"Make sure there does not exist a floating toolbar\",\n        trigger: 'iframe',\n        run: function () {\n            const iframeDocument = this.$anchor[0].contentDocument;\n            if (iframeDocument.querySelector('#toolbar.oe-floating')) {\n                console.error('There should not be a floating toolbar in the iframe');\n            }\n        },\n    },\n    {\n        content: \"Make sure the empty template is an option on non-mobile devices.\",\n        trigger: 'iframe #empty',\n        run: () => null,\n    },\n    {\n        content: \"Click on the default 'welcome' template.\",\n        trigger: 'iframe #default',\n    },\n    { // necessary to wait for the cursor to be placed in the first p\n      // and to avoid leaving the page before the selection is added\n        content: \"Wait for template selection event to be over.\",\n        trigger: 'iframe .o_editable.theme_selection_done',\n    },\n    {\n        content: \"Make sure the snippets menu is not hidden\",\n        trigger: 'iframe #oe_snippets:not(.d-none)',\n        run: () => null,\n    },\n    {\n        content: \"Wait for .s_text_block to be populated\",\n        trigger: 'iframe .s_text_block p',\n        run: () => null,\n    },\n    {\n        content: \"Click and select p block inside the editor\",\n        trigger: 'iframe',\n        run: function () {\n            const iframeWindow = this.$anchor[0].contentWindow;\n            const iframeDocument = iframeWindow.document;\n            const p = iframeDocument.querySelector('.s_text_block p');\n            p.click();\n            const selection = iframeWindow.getSelection();\n            const range = iframeDocument.createRange();\n            range.selectNodeContents(p);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        },\n    },\n    {\n        content: \"Make sure the toolbar is there\",\n        trigger: 'iframe #oe_snippets .o_we_customize_panel #toolbar',\n        run: () => null,\n    },\n    ...stepUtils.discardForm(),\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('snippets_mailing_menu_toolbar_mobile', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        content: \"Select the 'Email Marketing' app.\",\n        trigger: '.o_app[data-menu-xmlid=\"mass_mailing.mass_mailing_menu_root\"]',\n    },\n    {\n        content: \"Click on the create button to create a new mailing.\",\n        trigger: 'button.o_list_button_add',\n        mobile: true,\n    },\n    {\n        content: \"Check templates available in theme selector\",\n        trigger: 'iframe .o_mail_theme_selector_new',\n        run: function () {\n            if (this.$anchor[0].querySelector('#empty')) {\n                console.error('The empty template should not be visible on mobile.');\n            }\n        },\n        mobile: true,\n    },\n    {\n        content: \"Make sure the toolbar isn't floating\",\n        trigger: 'iframe',\n        run: function () {\n            const iframeDocument = this.$anchor[0].contentDocument;\n            if (iframeDocument.querySelector('#toolbar.oe-floating')) {\n                console.error('There should not be a floating toolbar in the iframe');\n            }\n        },\n        mobile: true,\n    },\n    {\n        content: \"Click on the 'Start From Scratch' template.\",\n        trigger: 'iframe #default',\n        mobile: true,\n    },\n    {\n        content: \"Select an editable element\",\n        trigger: 'iframe .s_text_block',\n        mobile: true,\n    },\n    {\n        content: \"Make sure the snippets menu is hidden\",\n        trigger: 'iframe',\n        run: function () {\n            const iframeDocument = this.$anchor[0].contentDocument;\n            if (!iframeDocument.querySelector('#oe_snippets.d-none')) {\n                console.error('The snippet menu should be hidden');\n            }\n        },\n        mobile: true,\n    },\n    {\n        content: \"Make sure the toolbar is there\",\n        trigger: 'iframe #toolbar.oe-floating',\n        run: () => null, // it's a check\n        mobile: true,\n    },\n    ...stepUtils.discardForm().map(command => ({...command, mobile: true})),\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('hr_employee_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: \"Open Employees app\",\n        trigger: \".o_app[data-menu-xmlid='hr.menu_hr_root']\",\n        run: 'click',\n    },\n    {\n        content: \"Open an Employee Profile\",\n        trigger: \".o_kanban_record_title:contains('Johnny H.')\",\n        run: 'click',\n    },\n    {\n        content: \"Open user account menu\",\n        trigger: \".o_user_menu .dropdown-toggle\",\n        run: 'click',\n    }, {\n        content: \"Open My Profile\",\n        trigger: \"[data-menu=settings]\",\n        run: 'click',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { registry } from \"@web/core/registry\";\nimport { patch } from \"@web/core/utils/patch\";\n\n/**\n * As 'hr' changes the flow a bit and displays the user preferences form in a full view instead of\n * a modal, we adapt the steps of the original tour accordingly.\n */\npatch(registry.category(\"web_tour.tours\").get(\"mail/static/tests/tours/user_modify_own_profile_tour.js\"), {\n    steps() {\n        return [\n            {\n                content: 'Open user account menu',\n                trigger: '.o_user_menu button',\n            }, \n            {\n                content: \"Open preferences / profile screen\",\n                trigger: '[data-menu=settings]',\n            }, \n            {\n                content: \"Update the email address\",\n                trigger: 'div[name=\"email\"] input',\n                run: 'text updatedemail@example.com',\n            }, \n            ...stepUtils.saveForm(),\n        ];\n    }\n});\n\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('hr_expense_test_tour', {\n        test: true,\n        url: \"/web\",\n        steps: () => [stepUtils.showAppsMenuItem(),\n        {\n            content: \"Go to Expense\",\n            trigger: '.o_app[data-menu-xmlid=\"hr_expense.menu_hr_expense_root\"]',\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: '.o_button_upload_expense',\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in My Expenses to Report > List View');\n                }\n            }\n        },\n        {\n            content: \"Check Create Report Button, but not click on it\",\n            trigger: \"button.o_switch_view.o_list.active\",\n            run() {\n                const button = Array.from(document.querySelectorAll('.btn-secondary'))\n                    .filter(element => element.textContent.includes('Create Report'));\n                if(!button) {\n                    console.error('Missing Create Report button in My Expenses to Report > List View');\n                }\n            }\n        },\n        {\n            content: \"Go to kanban view\",\n            trigger: \"button.o_switch_view.o_kanban\",\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: \"button.o_switch_view.o_kanban.active\",\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in My Expenses to Report > Kanban View');\n                }\n            }\n        },\n        {\n            content: \"Check Create Report Button, but not click on it\",\n            trigger: \"button.o_switch_view.o_kanban.active\",\n            run() {\n                const button = Array.from(document.querySelectorAll('.btn-secondary'))\n                    .filter(element => element.textContent.includes('Create Report'));\n                if(!button) {\n                    console.error('Missing Create Report button in My Expenses to Report > Kanban View');\n                }\n            }\n        },\n        {\n            content: \"Go to Reporting\",\n            trigger: 'button[data-menu-xmlid=\"hr_expense.menu_hr_expense_reports\"]',\n        },\n        {\n            content: \"Go to Expenses Analysis\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_all_expenses\"]',\n        },\n        {\n            content: \"Go to list view\",\n            trigger: \"button.o_switch_view.o_list\",\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: \"button.o_switch_view.o_list.active\",\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in Expenses Analysis > List View');\n                }\n            }\n        },\n    ]});\n\n    registry.category(\"web_tour.tours\").add('hr_expense_access_rights_test_tour', {\n        test: true,\n        url: \"/web\",\n        steps: () => [stepUtils.showAppsMenuItem(),\n        {\n            content: \"Go to Expense\",\n            trigger: '.o_app[data-menu-xmlid=\"hr_expense.menu_hr_expense_root\"]',\n        },\n        {\n            content: \"Go to My Expenses\",\n            trigger: 'button[data-menu-xmlid=\"hr_expense.menu_hr_expense_my_expenses\"]',\n        },\n        {\n            content: \"Go to My Reports\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_sheet_my_reports\"]',\n        },\n        {\n            content: \"Go to First Expense for employee\",\n            trigger: 'td[data-tooltip=\"First Expense for employee\"]',\n        },\n        {\n            content: \"Click Submit to Manager Button\",\n            trigger: '.o_expense_sheet_submit',\n        },\n        {\n            content: 'Verify the expene sheet is submitted',\n            trigger: '.o_arrow_button_current:contains(\"Submitted\")',\n            isCheck: true,\n        },\n    ]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('create_expense_no_employee_access_tour', {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n    ...stepUtils.goToAppSteps('hr_expense.menu_hr_expense_root', \"Go to the Expenses app\"),\n    {\n        content: \"Remove filter for own expenses\",\n        trigger: '.o_facet_value:contains(My Expense) + button[title=\"Remove\"]',\n    },\n    {\n        content: \"Go to form view of pre-prepared record\",\n        trigger: '.o_data_cell:contains(expense_for_tour_0)'\n    },\n    {\n        content: \"Click employee selection dropdown\",\n        trigger: 'input#employee_id_0',\n    },\n    {\n        content: \"Delete default search\",\n        trigger: 'input#employee_id_0',\n        run() {\n            const dropdown = document.querySelector('input#employee_id_0');\n            dropdown.value = '';\n        }\n    },\n    {\n        content: \"Select test expense employee\",\n        trigger: 'a.dropdown-item:contains(expense_employee)',\n    },\n    {\n        content: \"Save\",\n        trigger: '.o_form_button_save',\n    },\n    {\n        content: \"Exit form\",\n        trigger: '.o_menu_brand',\n    },\n    stepUtils.showAppsMenuItem(),\n    {\n        content: \"Check\",\n        trigger: '.o_app[data-menu-xmlid=\"hr_expense.menu_hr_expense_root\"]',\n        isCheck: true,\n    },\n]});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\"\n\nregistry.category(\"web_tour.tours\").add(\"web_enterprise.test_studio_list_upsell\",\n    {\n        test: true,\n        steps: () => [\n            {\n                trigger: \".o_list_view\",\n            },\n            {\n                trigger: \".o_optional_columns_dropdown > button\",\n            },\n            {\n                trigger: \".o_optional_columns_dropdown .dropdown-item-studio\",\n                isCheck: true,\n            },\n        ]\n    }\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction deleteWorspaceSteps() {\n    return [\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Workspace1\")',\n            content: \"Open workspace\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Workspace1\")',\n            content: \"Move to mouse on the workspace to display the edit widget\",\n            run: async function () {\n                const elements = document.querySelectorAll(\".o_search_panel_label_title\");\n                elements.forEach((element) => {\n                    if (element.textContent.includes(\"Workspace1\")) {\n                        const event = new MouseEvent(\"mouseenter\", {\n                            view: window,\n                            bubbles: true,\n                            cancelable: true,\n                        });\n                        element.dispatchEvent(event);\n                    }\n                });\n                await document\n                    .querySelector(\"header.active .o_documents_search_panel_section_edit\")\n                    .click();\n            },\n        },\n        {\n            trigger: \".o_search_panel_value_edit_edit\",\n            content: \"Edit workspace\",\n        },\n        {\n            trigger: \".modal-footer .btn-outline-danger\",\n            content: \"Delete workspace\",\n        },\n        {\n            trigger: \"button:has(span:contains('Move to trash'))\",\n            content: \"Confirm\",\n        },\n    ];\n}\n\nfunction restoreDocumentSteps() {\n    return [\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Trash\")',\n            content: \"Open trash\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Trash\")',\n            content: \"Check that we are in the trash\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_record_selector\",\n            content: \"Select document\",\n        },\n        {\n            trigger: \".o_inspector_button.o_archived\",\n            content: \"Restore the document\",\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"document_delete_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        // 1) Archive a document and restore it in an active folder\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Workspace1\")',\n            content: \"Open workspace\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Workspace1\")',\n            extra_trigger: '.o_inspector_value:contains(\"1\")',\n            content: \"Make sure we start with one card\",\n        },\n        {\n            trigger: \".o_record_selector\",\n            content: \"Select document\",\n        },\n        {\n            trigger: \".o_inspector_button.o_inspector_archive\",\n            content: \"Move document to trash\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Confirm deletion\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_record:not(.o_kanban_ghost)))\",\n            content: \"Check that the document is no longer visible\",\n            isCheck: true,\n        },\n        ...restoreDocumentSteps(),\n        // 2) Archive a folder (and this its documents) and restore the archived document\n        ...deleteWorspaceSteps(),\n        ...restoreDocumentSteps(),\n        // 3) Archive a folder (and this its documents) and delete permanently the document\n        ...deleteWorspaceSteps(),\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Trash\")',\n            content: \"Open trash\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Trash\")',\n            content: \"Check that we are in the trash\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_record_selector\",\n            content: \"Select document\",\n        },\n        {\n            trigger: \".o_inspector_button.o_inspector_delete\",\n            content: \"Delete permanently the document\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Confirm deletion\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"test_document_folder_rights_for_multi_company\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_search_panel_label[data-tooltip='Workspace1']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_switch_company_menu > .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div.btn.btn-link[aria-label='Switch to Company_A']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_switch_company_menu:contains('Company_A')\",\n        },\n        {\n            contet: \"Check that the workspace is not visible\",\n            trigger: \".o_search_panel_label_title:not(:contains('Workspace1'))\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_dblclick_event_from_calendar\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Enter event form\",\n            trigger: 'a[data-event-id=\"1\"]',\n            run: \"dblclick\",\n        },\n        {\n            content: \"Change the name of the form\",\n            trigger: \"input#name_0\",\n            run: \"text make your bed\",\n        },\n        {\n            content: \"Return to calendar\",\n            trigger: \".o_back_button\",\n        },\n        {\n            content: \"Move to next week\",\n            trigger: \".o_calendar_button_next\"\n        },\n        {\n            content: \"Access occurrence\",\n            trigger: 'a[data-event-id=\"2\"]',\n            run: \"dblclick\",\n        },\n        {\n            content: \"Change equipment\",\n            trigger: \"input#duration_0\",\n            run: \"text 2:00\"\n        },\n        {\n            content: \"Return to calendar\",\n            trigger: \".o_back_button\",\n        },\n        {\n            trigger: 'a[data-event-id=\"2\"]',\n            isCheck: true,\n        }\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_drag_and_drop_event_in_calendar\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Open calendar display selector\",\n            trigger: \".scale_button_selection\",\n        },\n        {\n            content: \"Select monthly display\",\n            trigger: \".o_scale_button_month\",\n        },\n        {\n            trigger: '.fc-dayGridMonth-view',\n            isCheck: true,\n        },\n        {\n            content: \"Move event to 15th of the month\",\n            trigger: 'a[data-event-id=\"1\"]',\n            run: 'drag_and_drop_native .fc-day.fc-widget-content[data-date$=\"15\"]',\n        },\n        {\n            content: \"Move occurrence to 20th of the month (nothing should happen)\",\n            trigger: 'a[data-event-id=\"2\"]',\n            run: 'drag_and_drop_native .fc-day.fc-widget-content[data-date$=\"20\"]',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"shared_sign_request_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        {\n            content: \"Open Sign APP\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"template_1_role\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text template_1_role\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Share the template\",\n            trigger: '.o_kanban_record_bottom:first button:contains(\"Share\"):first',\n            extra_trigger: '.oe_kanban_main:first span:contains(\"template_1_role\")',\n            run: \"click\",\n        },\n        {\n            content: \"Go on signing page\",\n            trigger: \".o_field_CopyClipboardChar\",\n            run: function () {\n                const share_link = this.$anchor.contents()[0].firstChild.textContent;\n                // Retrieve the link without the origin to avoid\n                // mismatch between localhost:8069 and 127.0.0.1:8069\n                // when running the tour with chrome headless\n                const regex = \"/sign/document/mail/.*\";\n                const url = share_link.match(regex)[0];\n                window.location.href = window.location.origin + url;\n            },\n        },\n        {\n            content: \"Fill the sign item\",\n            trigger: \"iframe input.o_sign_sign_item\",\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Validate & Send Completed Document\",\n            trigger: \".o_validate_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Fill name\",\n            trigger: \"#o_sign_public_signer_name_input\",\n            extra_trigger: '.modal-title:contains(\"Final Validation\")',\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Fill email\",\n            trigger: \"#o_sign_public_signer_mail_input\",\n            run: \"text mitchell.admin@public.com\",\n        },\n        {\n            content: \"Validate & Send\",\n            trigger: '.modal-footer button:contains(\"Validate & Send\")',\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-title:contains(Thank you!)\",\n        },\n        {\n            content: \"Download Document\",\n            trigger: \"button.btn.btn-primary\",\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"sign_resend_expired_link_tour\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a:contains(Send a new link)\",\n        },\n        {\n            trigger: \".btn.btn-primary\",\n            content: \"Click to resend the url\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction triggerDragEvent(element, type, data = {}) {\n    const event = new DragEvent(type, { bubbles: true });\n    for (const key in data) {\n        Object.defineProperty(event, key, {\n            value: data[key],\n        });\n    }\n    element.dispatchEvent(event);\n}\n\nfunction dragAndDropSignItemAtHeight(type, page, height = 0.5, width = 0.5) {\n    const iframe = document.querySelector(\"iframe\");\n    const iframeDocument = iframe.contentWindow.document;\n    const signItemTypeButtons = iframeDocument.querySelectorAll(\n        \".o_sign_field_type_toolbar_items .o_sign_field_type_button\"\n    );\n    const from = Array.from(signItemTypeButtons).find((el) => el.innerText === type);\n\n    const to = iframeDocument.querySelector(`.page[data-page-number=\"${page}\"]`);\n    const toPosition = to.getBoundingClientRect();\n    toPosition.x += iframe.contentWindow.scrollX + to.clientWidth * width;\n    toPosition.y += iframe.contentWindow.scrollY + to.clientHeight * height;\n\n    const dataTransferObject = {};\n    const dataTransferMock = {\n        setData: (key, value) => {\n            dataTransferObject[key] = value;\n        },\n        getData: (key) => {\n            return dataTransferObject[key];\n        },\n        setDragImage: () => {},\n    };\n\n    triggerDragEvent(from, \"dragstart\", {\n        dataTransfer: dataTransferMock,\n    });\n\n    triggerDragEvent(to, \"drop\", {\n        pageX: toPosition.x,\n        pageY: toPosition.y,\n        dataTransfer: dataTransferMock,\n    });\n\n    triggerDragEvent(from, \"dragend\");\n}\n\nregistry.category(\"web_tour.tours\").add(\"sign_template_creation_tour\", {\n    test: true,\n    url: \"/web?debug=1\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign App\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"blank_template\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text blank_template\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Enter Template Edit Mode\",\n            trigger: '.oe_kanban_main:first span:contains(\"blank_template\")',\n            run: \"click\",\n        },\n        {\n            content: \"Wait for iframe to load PDF\",\n            trigger: \"iframe #viewerContainer\",\n            run: () => {},\n        },\n        {\n            content: \"Wait for page to be loaded\",\n            trigger: \"iframe .page\",\n            run: () => {},\n        },\n        {\n            content: \"Drop Signature Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Signature\", 1, 0.5, 0.25);\n            },\n        },\n        {\n            content: \"Drop Name Sign Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Name\", 1, 0.25, 0.25);\n            },\n        },\n        {\n            content: \"Drop Text Sign Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Text\", 1, 0.15, 0.25);\n            },\n        },\n        {\n            content: \"Open popover on name sign item\",\n            trigger: 'iframe .o_sign_sign_item:contains(\"Name\") .o_sign_item_display',\n            run: \"click\",\n        },\n        {\n            content: \"Change responsible\",\n            trigger: \".o_popover .o_input_dropdown input\",\n            run: \"text employee\",\n        },\n        {\n            content: \"select employee\",\n            trigger: '.o_popover .o_input_dropdown .dropdown .dropdown-item:contains(\"Employee\")',\n        },\n        {\n            content: \"Validate changes\",\n            trigger: \".o_popover .o_sign_validate_field_button\",\n        },\n        {\n            content: \"Drop Selection Sign Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Selection\", 1, 0.75, 0.25);\n            },\n        },\n        {\n            content: \"Open popover on Selection sign item\",\n            trigger: 'iframe .o_sign_sign_item:contains(\"Selection\") .o_sign_item_display',\n            run: \"click\",\n        },\n        {\n            content: \"Write new selection option name\",\n            trigger: \".o_popover .o_input_dropdown input\",\n            run: \"text option\",\n        },\n        {\n            content: \"Create new selection option\",\n            trigger: '.o_popover .o_input_dropdown .dropdown a:contains(\"Create\")',\n        },\n        {\n            content: \"Check option is added\",\n            trigger: '.o_popover #o_sign_select_options_input .o_tag_badge_text:contains(\"option\")',\n        },\n        {\n            content: \"Validate changes\",\n            trigger: \".o_popover .o_sign_validate_field_button\",\n        },\n        {\n            content: \"Open popover on text sign item\",\n            trigger: \"iframe .o_sign_sign_item:contains('Text') .o_sign_item_display\",\n        },\n        {\n            content: \"Change text placeholder\",\n            trigger: \".o_popover .o_popover_placeholder input\",\n            run: \"text placeholder\",\n        },\n        {\n            content: \"Validate changes\",\n            trigger: \".o_popover .o_sign_validate_field_button\",\n        },\n        {\n            content: \"Change template name\",\n            trigger: \".o_sign_template_name_input\",\n            run: \"text filled_template\",\n        },\n        {\n            trigger: \".breadcrumb .o_back_button\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"sign_widgets_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Users\",\n            trigger: \"div#invite_users button.o_web_settings_access_rights\",\n            run: \"click\",\n        },\n        {\n            content: \"Mitchel\",\n            trigger: \"table.o_list_table td.o_data_cell:contains(Admin)\",\n            run: \"click\",\n        },\n\n        {\n            content: \"Preference tab\",\n            trigger: 'a.nav-link:contains(\"' + _t(\"Preferences\") + '\")',\n            run: \"click\",\n        },\n        {\n            content: \"Editor loaded\",\n            trigger: \".note-editable\",\n        },\n        {\n            content: \"Click on widget sign\",\n            trigger: \".o_signature:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on auto button\",\n            trigger: \".o_web_sign_auto_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on style button\",\n            trigger: \".o_web_sign_auto_select_style > button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select a style\",\n            trigger: \".o_web_sign_auto_select_style .dropdown-item:nth-child(3)\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on style button\",\n            trigger: \".o_web_sign_auto_select_style > button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select a style\",\n            trigger: \".o_web_sign_auto_select_style .dropdown-item:nth-child(2)\",\n            run: \"click\",\n        },\n        {\n            content: \"Sign\",\n            trigger: 'button.btn-primary:contains(\"Adopt & Sign\")',\n            extra_trigger: \"canvas.jSignature\",\n            run: function () {\n                setTimeout(() => {\n                    this.$anchor.click();\n                }, 1000);\n            },\n        },\n        ...stepUtils.saveForm(),\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"sign_report_modal_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign app\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open Reports menu\",\n            trigger: '.o_main_navbar button[data-menu-xmlid=\"sign.sign_reports\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open Green Savings Report\",\n            trigger: '.dropdown-item[data-menu-xmlid=\"sign.sign_report_green_savings\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open the modal\",\n            extra_trigger: 'iframe .green-savings-page a[data-bs-target=\".modal_green_savings\"]',\n            trigger: 'iframe a:contains(\"How are these results calculated?\")',\n            run: \"click\",\n        },\n        {\n            trigger: \"iframe .modal_green_savings.show\",\n            run: () => {},\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"test_sign_flow_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign APP\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"template_1_roles\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text template_1_role(2)\",\n            position: \"bottom\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"list view\",\n            trigger: \"button.o_list\",\n            run: \"click\",\n        },\n        {\n            content: \"Click Sign Now\",\n            extra_trigger: '.o_list_button button:contains(\"Sign Now\")',\n            trigger: \"button:contains('Sign Now')\",\n            run: \"click\",\n        },\n        {\n            content: \"Click sign\",\n            trigger: \"button[name='sign_directly']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click to start\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"Click to start\")',\n            position: \"bottom\",\n        },\n        {\n            content: \"Fill the sign item\",\n            trigger: \"iframe input.o_sign_sign_item\",\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Click next 1\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"next\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click navigator\",\n            trigger: 'iframe .o_sign_sign_item_navigator',\n            run: \"click\",\n        },\n        {\n            trigger: \"iframe button.o_sign_sign_item:has(> img)\",\n            extra_trigger: \"iframe :not(:has(.o_sign_sign_item_navigator))\",\n            auto: true,\n        },\n        {\n            content: \"Click on auto button\",\n            trigger: \".o_web_sign_auto_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Sign\",\n            trigger: 'button.btn-primary:contains(\"Sign all\")',\n            extra_trigger: \"canvas.jSignature\",\n            run() {\n                setTimeout(() => {\n                    this.$anchor.click();\n                }, 1000);\n            },\n        },\n        {\n            content: \"Validate & Send Completed Document\",\n            extra_trigger: \".o_sign_validate_banner\",\n            trigger: \"button:contains('Validate & Send Completed Document')\",\n            run: \"click\",\n        },\n        {\n            content: \"view\",\n            extra_trigger: \".modal-dialog\",\n            trigger: \".modal-footer button.btn-primary\",\n            alt_trigger: \".modal-footer button.btn-secondary\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"translate_sign_instructions\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Translations must be loaded\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"Cliquez pour commencer\")',\n            run: () => null, // it's a check\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_profile_description', {\n    test: true,\n    url: \"/profile/users\",\n    steps: () => [{\n        content: \"Click on one user profile card\",\n        trigger: \"div[onclick]:contains(\\\"test_user\\\")\",\n    }, {\n        content: \"Edit profile\",\n        trigger: \"a:contains('EDIT PROFILE')\",\n    }, {\n        content: \"Add some content\",\n        trigger: \".odoo-editor-editable p\",\n        run: \"text content <p>code here</p>\",\n    }, {\n        content: \"Save changes\",\n        trigger: \"button:contains('Update')\",\n    }, {\n        content: \"Check the content is saved\",\n        trigger:\n            \"span[data-oe-field='website_description']:contains('content <p>code here</p>')\",\n        run: () => { },\n    }]\n})\n", "/** @odoo-module **/\n\nimport slidesTourTools from '@website_slides/../tests/tours/slides_tour_tools';\nimport wTourUtils from '@website/js/tours/tour_utils';\n\n/**\n * Global use case:\n * a user (website publisher) creates a course;\n * they update it;\n * they create some lessons in it;\n * they publish it;\n */\nwTourUtils.registerWebsitePreviewTour('course_publisher_standard', {\n    url: '/slides',\n    test: true,\n}, () => [{\n    content: 'eLearning: click on New (top-menu)',\n    trigger: 'div.o_new_content_container a'\n}, {\n    content: 'eLearning: click on New Course',\n    trigger: '#o_new_content_menu_choices a:contains(\"Course\")'\n}, {\n    content: 'eLearning: set name',\n    trigger: 'div[name=\"name\"] input',\n    run: 'text How to D\u00e9boulonnate',\n}, {\n    content: 'eLearning: click on tags',\n    trigger: '.o_field_many2many_tags input',\n    run: 'text Gard',\n}, {\n    content: 'eLearning: select Gardening tag',\n    trigger: '.ui-autocomplete a:contains(\"Gardening\")',\n    in_modal: false,\n}, {\n    content: 'eLearning: set description',\n    trigger: '.o_field_html[name=\"description\"]',\n    run: 'text D\u00e9boulonnate is very common at Fleurus',\n}, {\n    content: 'eLearning: we want reviews',\n    trigger: '.o_field_boolean[name=\"allow_comment\"] input',\n}, {\n    content: 'eLearning: seems cool, create it',\n    trigger: 'button:contains(\"Save\")',\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: 'eLearning: double click image to edit it',\n    trigger: 'iframe img.o_wslides_course_pict',\n    run: 'dblclick',\n}, {\n    content: 'eLearning: click \"Add URL\" to trigger URL box',\n    trigger: '.o_upload_media_url_button',\n}, {\n    content: 'eLearning: add a bioutifoul URL',\n    trigger: 'input.o_we_url_input',\n    run: 'text https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/ThreeTimeAKCGoldWinnerPembrookeWelshCorgi.jpg/800px-ThreeTimeAKCGoldWinnerPembrookeWelshCorgi.jpg'\n}, {\n    content: 'eLearning: click \"Add URL\" really adding image',\n    trigger: '.o_upload_media_url_button',\n    extra_trigger: '.o_we_url_success',\n}, {\n    content: 'eLearning: is the Corgi set ?',\n    trigger: 'iframe img.o_wslides_course_pict[data-original-src$=\"GoldWinnerPembrookeWelshCorgi.jpg\"]',\n}, {\n    content: 'eLearning: save course edition',\n    trigger: 'button[data-action=\"save\"]',\n}, {\n    content: 'eLearning: course create with current member',\n    extra_trigger: 'iframe body:not(.editor_enable)',  // wait for editor to close\n    trigger: 'iframe .o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    run: function () {} // check membership\n}\n].concat(\n    slidesTourTools.addExistingCourseTag(true),\n    slidesTourTools.addNewCourseTag('The Most Awesome Course', true),\n    slidesTourTools.addSection('Introduction', true),\n    slidesTourTools.addArticleToSection('Introduction', 'MyArticle', true),\n    [{\n    content: \"eLearning: check editor is loaded for article\",\n    trigger: 'iframe body.editor_enable',\n    timeout: 30000,\n    run: () => null, // it's a check\n}, {\n    content: \"eLearning: save article\",\n    trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save\")',\n}, {\n    content: \"eLearning: use breadcrumb to go back to channel\",\n    trigger: 'iframe .o_wslides_course_nav a:contains(\"D\u00e9boulonnate\")',\n}],\n    slidesTourTools.addImageToSection('Introduction', 'Overview', true),\n    slidesTourTools.addPdfToSection('Introduction', 'Exercise', true),\n//     [\n// {\n//     content: 'eLearning: move new course inside introduction',\n//     trigger: 'div.o_wslides_slides_list_drag',\n//     // run: 'drag_and_drop div.o_wslides_slides_list_drag ul.ui-sortable:first',\n//     run: 'drag_and_drop div.o_wslides_slides_list_drag a.o_wslides_js_slide_section_add',\n// }]\n));\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Global use case:\n * an user (either employee, website restricted editor or portal) joins a public\n    course;\n * they have access to the full course content when they are a member of the\n    course;\n * they use fullscreen player to complete the course;\n * they rate the course;\n */\nregistry.category(\"web_tour.tours\").add('course_member', {\n    url: '/slides',\n    test: true,\n    steps: () => [\n// eLearning: go on free course and join it\n{\n    trigger: 'a:contains(\"Basics of Gardening - Test\")'\n}, {\n    trigger: 'a:contains(\"Join this Course\")'\n}, {\n    trigger: '.o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    run: function () {} // check membership\n}, {\n    trigger: 'a:contains(\"Gardening: The Know-How\")',\n},\n// eLearning: follow course by cliking on first lesson and going to fullscreen player\n{\n    trigger: '.o_wslides_fs_slide_name:contains(\"Home Gardening\")',\n    run: 'click',\n},\n// eLearning: share the first slide\n{\n    trigger: '.o_wslides_fs_share'\n}, {\n    trigger: '.o_wslides_js_share_email input',\n    run: 'text friend@example.com'\n}, {\n    trigger: '.o_wslides_js_share_email button',\n}, {\n    trigger: '.o_wslides_js_share_email:contains(\"Sharing is caring\")',\n    run: function () {}  // check email has been sent\n}, {\n    trigger: '.modal-footer button:contains(\"Close\")',\n},\n// eLeaning: course completion\n{\n    trigger: '.o_wslides_fs_sidebar_header',\n    run: function () {\n        // check navigation with arrow keys\n        var event = jQuery.Event(\"keydown\");\n        event.key = \"ArrowLeft\";\n        // go back once\n        $(document).trigger(event);\n        // check that it selected the previous tab\n        if ($('.o_wslides_fs_sidebar_list_item.active:contains(\"Gardening: The Know-How\")').length === 0) {\n            return;\n        }\n        // getting here means that navigation worked\n        $('.o_wslides_fs_sidebar_header').addClass('navigation-success-1');\n    }\n}, {\n    trigger: '.o_wslides_fs_sidebar_header.navigation-success-1',\n    extra_trigger: '.o_wslides_progress_percentage:contains(\"40\")',\n    run: function () {\n        // check navigation with arrow keys\n        var event = jQuery.Event(\"keydown\");\n        event.key = \"ArrowRight\";\n        $(document).trigger(event);\n        // check that it selected the next/next tab\n        if ($('.o_wslides_fs_sidebar_list_item.active:contains(\"Home Gardening\")').length === 0) {\n            return;\n        }\n        // getting here means that navigation worked\n        $('.o_wslides_fs_sidebar_header').addClass('navigation-success-2');\n    }\n}, {\n    trigger: '.o_wslides_progress_percentage:contains(\"40\")',\n    run: function () {} // check progression\n}, {\n    trigger: '.o_wslides_fs_sidebar_header.navigation-success-2',\n    extra_trigger: '.o_wslides_progress_percentage:contains(\"40\")',\n    run: function () {\n        // check navigation with arrow keys\n        var event = jQuery.Event(\"keydown\");\n        event.key = \"ArrowRight\";\n        setTimeout(function () {\n            $(document).trigger(event);\n            // check that it selected the next/next tab\n            if ($('.o_wslides_fs_sidebar_list_item.active:contains(\"Mighty Carrots\")').length === 0) {\n                return;\n            }\n            // getting here means that navigation worked\n            $('.o_wslides_fs_sidebar_header').addClass('navigation-success-3');\n        }, 300);\n    }\n}, {\n    trigger: '.o_wslides_progress_percentage:contains(\"60\")',\n    run: function () {} // check progression\n}, {\n    trigger: '.o_wslides_fs_sidebar_header.navigation-success-3',\n    extra_trigger: '.o_wslides_progress_percentage:contains(\"60\")',\n    run: function () {} // check that previous step succeeded\n}, {\n    trigger: '.o_wslides_fs_slide_name:contains(\"How to Grow and Harvest The Best Strawberries | Basics\")',\n    run: 'click',\n}, {\n    trigger: '.o_wslides_fs_sidebar_section_slides li:contains(\"How to Grow and Harvest The Best Strawberries | Basics\") .o_wslides_slide_completed',\n    run: function () {} // check that video slide is marked as 'done'\n}, {\n    trigger: '.o_wslides_progress_percentage:contains(\"80\")',\n    run: function () {} // check progression\n},\n// eLearning: last slide is a quiz, complete it\n{\n    trigger: '.o_wslides_fs_slide_name:contains(\"Test your knowledge\")',\n    run: 'click',\n}, {\n    trigger: '.o_wslides_js_lesson_quiz_question:first .list-group a:first'\n}, {\n    trigger: '.o_wslides_js_lesson_quiz_question:last .list-group a:first'\n}, {\n    trigger: '.o_wslides_js_lesson_quiz_submit'\n}, {\n    // check that we have a properly motivational message to motivate us!\n    trigger: '.o_wslides_quiz_modal_rank_motivational > div > div:contains(\"Reach the next rank and gain a very nice mug!\")'\n}, {\n    trigger: 'a:contains(\"End course\")'\n},\n// eLearning: ending course redirect to /slides, course is completed now\n{\n    trigger: 'div:contains(\"Basics of Gardening\") span:contains(\"Completed\")',\n    run: function () {} // check that the course is marked as completed\n},\n// eLearning: go back on course and rate it (new rate or update it, both should work)\n{\n    trigger: 'a:contains(\"Basics of Gardening\")'\n}, {\n    trigger: 'button[data-bs-target=\"#ratingpopupcomposer\"]'\n}, {\n    trigger: 'div.o_portal_chatter_composer_input i.fa:eq(2)',\n    extra_trigger: 'div.modal_shown',\n    run: 'click',\n    in_modal: false,\n}, {\n    trigger: 'div.o_portal_chatter_composer_input textarea',\n    run: 'text This is a great course. Top !',\n    in_modal: false,\n}, {\n    trigger: 'button.o_portal_chatter_composer_btn',\n    in_modal: false,\n}, {\n    trigger: 'a[id=\"review-tab\"]'\n}, {\n    trigger: '.o_portal_chatter_message:contains(\"This is a great course. Top !\")',\n    run: function () {}, // check review is correctly added\n}\n]});\n", "/** @odoo-module **/\n\nimport { registry } from '@web/core/registry';\n\n\nregistry.category('web_tour.tours').add('invite_check_channel_preview_as_logged', {\n    test: true,\n    steps: () => [\n{\n    trigger: 'a:contains(\"Gardening: The Know-How\")',\n    content: 'Check that the previews are accessible',\n    run: function () {}\n}, {\n    trigger: '.o_wslides_slides_list_slide:contains(\"Home Gardening\")',\n    content: 'Check that other slides are not accessible',\n    run: function () {\n        if (this.$anchor[0].querySelector('.o_wslides_js_slides_list_slide_link')) {\n            throw new Error('Invited attendee should not see non-preview slides');\n        }\n    }\n}, {\n    trigger: 'a:contains(\"Join this Course\")',\n}, {\n    trigger: '.o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    content: 'Check that user is enrolled',\n    run: function () {}\n}, {\n    trigger: '.o_wslides_js_slides_list_slide_link:contains(\"Home Gardening\")',\n    content: 'Check that slides are now accessible',\n    run: function () {}\n},\n]});\n", "/** @odoo-module **/\n\nimport { registry } from '@web/core/registry';\n\n\nregistry.category('web_tour.tours').add('invite_check_channel_preview_as_public', {\n    test: true,\n    steps: () => [\n{\n    trigger: '.o_wslides_identification_banner',\n    content: 'Check that there is an identification banner',\n    run: function () {}\n}, {\n    trigger: '.o_wslides_slides_list_slide:contains(\"Gardening: The Know-How\")',\n    run: function () {\n        if (this.$anchor[0].querySelector('.o_wslides_js_slides_list_slide_link')) {\n            throw new Error('The preview should not allow the public user to browse slides');\n        }\n    }\n}, {\n    trigger: 'a:contains(\"Join this Course\")',\n}, {\n    trigger: 'a:contains(\"login\")',\n}, {\n    trigger: 'input[id=\"password\"]',\n    run: 'text portal',\n}, {\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    trigger: 'a:contains(\"Join this Course\")',\n}, {\n    trigger: '.o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    content: 'Check that user is enrolled',\n    run: function () {}\n}, {\n    trigger: '.o_wslides_js_slides_list_slide_link:contains(\"Gardening: The Know-How\")',\n    content: 'Check that slides are now accessible',\n    run: function () {}\n}\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nfunction patchFullScreen(){\n    /**\n     * Alter this method for test purposes.\n     * This will make the video start at 10 minutes.\n     * As it lasts 10min24s, it will mark it as completed immediately.\n    */\n    const FullScreen = odoo.loader.modules.get('@website_slides/js/slides_course_fullscreen_player')[Symbol.for(\"default\")];\n    FullScreen.include({\n        _renderSlide: function () {\n\n            var slide = this.get('slide');\n            slide.embedUrl += '&start=260';\n            this.set('slide', slide);\n\n            return this._super.call(this, arguments);\n        }\n    });\n}\n\n\n/**\n * Global use case:\n * an user (either employee, website restricted editor or portal) joins a public\n    course;\n * they have access to the full course content when they are a member of the\n    course;\n * they use fullscreen player to complete the course;\n * they rate the course;\n */\nregistry.category(\"web_tour.tours\").add('course_member_youtube', {\n    url: '/slides',\n    test: true,\n    steps: () => [\n{\n    content: \"Patching FullScreen\",\n    trigger: 'body',\n    run: function() {\n        patchFullScreen()\n    }\n},\n// eLearning: go on /all, find free course and join it\n{\n    trigger: 'a.o_wslides_home_all_slides'\n}, {\n    trigger: 'a:contains(\"Choose your wood\")'\n}, {\n    trigger: 'a:contains(\"Join this Course\")'\n}, {\n    trigger: '.o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    run: function () {} // check membership\n}, {\n    trigger: 'a:contains(\"Comparing Hardness of Wood Species\")',\n},  {\n    trigger: '.o_wslides_progress_percentage:contains(\"50\")',\n    run: function () {} // check progression\n}, {\n    trigger: '.o_wslides_fs_slide_name:contains(\"Wood Bending With Steam Box\")',\n}, {\n    trigger: '.player',\n    run: function () {} // check player loading\n}, {\n    trigger: '.o_wslides_fs_sidebar_section_slides li:contains(\"Wood Bending With Steam Box\") .o_wslides_slide_completed',\n    run: function () {} // check that video slide is marked as 'done'\n}, {\n    trigger: '.o_wslides_channel_completion_completed:contains(Completed)',\n    run: function () {} // check progression\n}, {\n    trigger: 'a:contains(\"Back to course\")'\n}\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\nimport slidesTourTools from '@website_slides/../tests/tours/slides_tour_tools';\n\n/**\n * Global use case:\n * a user (website restricted editor) creates a course;\n * they update it;\n * they create some lessons in it;\n * they publishe it;\n */\nwTourUtils.registerWebsitePreviewTour('course_publisher', {\n    // TODO: replace by wTourUtils.getClientActionURL when it's added\n    url: '/slides',\n    test: true\n}, () => [{\n    content: 'eLearning: click on New (top-menu)',\n    trigger: 'div.o_new_content_container a',\n}, {\n    content: 'eLearning: click on New Course',\n    trigger: '#o_new_content_menu_choices a:contains(\"Course\")'\n}, {\n    content: 'eLearning: set name',\n    trigger: 'div[name=\"name\"] input',\n    run: 'text How to D\u00e9boulonnate',\n    in_modal: true,\n}, {\n    content: 'eLearning: click on tags',\n    trigger: '.o_field_many2many_tags input',\n    run: 'text Gard',\n    in_modal: true,\n}, {\n    content: 'eLearning: select gardener tag',\n    trigger: '.ui-autocomplete a:contains(\"Gardener\")',\n    in_modal: true,\n}, {\n    content: 'eLearning: set description',\n    trigger: '.o_field_html[name=\"description\"]',\n    run: 'text D\u00e9boulonnate is very common at Fleurus',\n    in_modal: true,\n}, {\n    content: 'eLearning: we want reviews',\n    trigger: '.o_field_boolean[name=\"allow_comment\"] input',\n}, {\n    content: 'eLearning: seems cool, create it',\n    trigger: 'button:contains(\"Save\")',\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: 'eLearning: double click image to edit it',\n    trigger: 'iframe img.o_wslides_course_pict',\n    run: 'dblclick',\n}, {\n    content: 'eLearning: click \"Add URL\" to trigger URL box',\n    trigger: '.o_upload_media_url_button',\n}, {\n    content: 'eLearning: add a bioutifoul URL',\n    trigger: 'input.o_we_url_input',\n    run: 'text https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/ThreeTimeAKCGoldWinnerPembrookeWelshCorgi.jpg/800px-ThreeTimeAKCGoldWinnerPembrookeWelshCorgi.jpg'\n}, {\n    content: 'eLearning: click \"Add URL\" really adding image',\n    trigger: '.o_upload_media_url_button',\n    extra_trigger: '.o_we_url_success',\n}, {\n    content: 'eLearning: is the Corgi set ?',\n    trigger: 'iframe img.o_wslides_course_pict[data-original-src$=\"GoldWinnerPembrookeWelshCorgi.jpg\"]',\n}, {\n    content: 'eLearning: save course edition',\n    trigger: 'button[data-action=\"save\"]',\n}, {\n    content: 'eLearning: course create with current member',\n    extra_trigger: 'iframe body:not(.editor_enable)',  // wait for editor to close\n    trigger: 'iframe .o_wslides_js_course_join:contains(\"You\\'re enrolled\")',\n    run: function () {} // check membership\n}\n].concat(\n    slidesTourTools.addExistingCourseTag(true),\n    slidesTourTools.addNewCourseTag('The Most Awesome Course', true),\n    slidesTourTools.addSection('Introduction', true),\n    slidesTourTools.addVideoToSection('Introduction', false, true),\n    [{\n    content: 'eLearning: publish newly added course',\n    trigger: 'iframe span:contains(\"Dschinghis Khan - Dschinghis Khan (1979)\")',  // wait for slide to appear\n    // trigger: 'span.o_wslides_js_slide_toggle_is_preview:first',\n    run: function () {\n        $('.o_website_preview iframe').contents().find('span.o_wslides_js_slide_toggle_is_preview:first')[0].click();\n    }\n}]\n//     [\n// {\n//     content: 'eLearning: move new course inside introduction',\n//     trigger: 'div.o_wslides_slides_list_drag',\n//     // run: 'drag_and_drop div.o_wslides_slides_list_drag ul.ui-sortable:first',\n//     run: 'drag_and_drop div.o_wslides_slides_list_drag a.o_wslides_js_slide_section_add',\n// }]\n));\n", "/** @odoo-module **/\n\nimport { registry } from '@web/core/registry';\n\n/**\n * This tour test that a log note isn't considered\n * as a course review. And also that a member can\n * add only one review.\n */\nregistry.category('web_tour.tours').add('course_reviews', {\n    url: '/slides',\n    test: true,\n    steps: () => [\n{\n    trigger: 'a:contains(\"Basics of Gardening - Test\")',\n}, {\n    trigger: 'a[id=\"review-tab\"]',\n}, {\n    trigger: '.o_portal_chatter_message:contains(\"Log note\")',\n    run: function() {},\n}, {\n    trigger: 'span:contains(\"Add Review\")',\n    // If it fails here, it means the log note is considered as a review\n}, {\n    trigger: 'div.o_portal_chatter_composer_body textarea',\n    extra_trigger: 'div.modal_shown',\n    run: 'text Great course!',\n    in_modal: false,\n}, {\n    trigger: 'button.o_portal_chatter_composer_btn',\n    in_modal: false,\n}, {\n    trigger: 'a[id=\"review-tab\"]',\n}, {\n    trigger: 'label:contains(\"Public\")',\n}, {\n    trigger: 'span:contains(\"Edit Review\")',\n    // If it fails here, it means the system is allowing you to add another review.\n}, {\n    trigger: 'div.o_portal_chatter_composer_body textarea:contains(\"Great course!\")',\n    run: function() {},\n}\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\n/**\n * Global use case:\n * - a user (website restricted editor) lands on the fullscreen view of a course ;\n * - they click on the website editor \"Edit\" button ;\n * - they are redirected to the non-fullscreen view with the editor opened.\n *\n * This tour tests a fix made when editing a course in fullscreen view.\n * See \"Fullscreen#_onWebEditorClick\" for more information.\n *\n */\n wTourUtils.registerWebsitePreviewTour('full_screen_web_editor', {\n    url: '/slides',\n    test: true,\n}, () => [{\n    // open to the course\n    trigger: 'iframe a:contains(\"Basics of Gardening\")'\n}, {\n    // click on a slide to open the fullscreen view\n    trigger: 'iframe a.o_wslides_js_slides_list_slide_link:contains(\"Home Gardening\")'\n}, {\n    trigger: 'iframe .o_wslides_fs_main',\n    run: function () {} // check we land on the fullscreen view\n},\n...wTourUtils.clickOnEditAndWaitEditMode()\n, {\n    trigger: 'iframe .o_wslides_lesson_main',\n    run: function () {} // check we are redirected on the detailed view\n}]);\n", "/** @odoo-module **/\n\nimport { contains } from \"@web/../tests/utils\";\nimport { getDataURLFromFile } from \"@web/core/utils/urls\";\n\n/*\n * Constant\n */\nconst testPngImage = 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAD0lEQVQIHQEEAPv/AIdaewLIAV0IjhGPAAAAAElFTkSuQmCC';\nconst testPdf = 'JVBERi0xLjEKJWPDtsO2bW1lbnQKMSAwIG9iago8PC9UeXBlIC9DYXRhbG9nCi9QYWdlcyAyIDAgUgo+PgplbmRvYmoKMiAwIG9iago8PC9UeXBlIC9QYWdlcwovS2lkcyBbMyAwIFJdCi9Db3VudCAxCi9NZWRpYUJveCBbMCAwIDIxMCAyOTddCj4+CmVuZG9iagozIDAgb2JqCjw8L1R5cGUgL1BhZ2UKL1BhcmVudCAyIDAgUgovUmVzb3VyY2VzCjw8L0ZvbnQKPDwvRjEKPDwvVHlwZSAvRm9udAovU3VidHlwZSAvVHlwZTEKL0Jhc2VGb250IC9UaW1lcy1Sb21hbgo+Pgo+Pgo+PgovQ29udGVudHMgNCAwIFIKPj4KZW5kb2JqCjQgMCBvYmoKPDwvTGVuZ3RoIDQ4Pj4Kc3RyZWFtCkJUCi9GMSA0OCBUZgo1MCAxMzAgVGQKKFRFU1QpIFRqCkVUCmVuZHN0cmVhbQplbmRvYmoKeHJlZgowIDUKMDAwMDAwMDAwMCA2NTUzNSBmCjAwMDAwMDAwMjEgMDAwMDAgbgowMDAwMDAwMDY5IDAwMDAwIG4KMDAwMDAwMDE0OSAwMDAwMCBuCjAwMDAwMDAyOTggMDAwMDAgbgp0cmFpbGVyCjw8L1Jvb3QgMSAwIFIKL1NpemUgNQo+PgpzdGFydHhyZWYKMzgxCiUlRU9G';\n\n/*\n * PUBLISHER / CONTENT CREATION\n */\n\nvar addSection = function (sectionName, backend = false) {\n\treturn [\n{\n    content: 'eLearning: click on Add Section',\n    trigger: (backend ? 'iframe ' : '' ) + 'a.o_wslides_js_slide_section_add',\n}, {\n    content: 'eLearning: set section name',\n    trigger: (backend ? 'iframe ' : '' ) + 'input[name=\"name\"]',\n    run: 'text ' + sectionName,\n}, {\n    content: 'eLearning: create section',\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Save\")'\n}, {\n\tcontent: 'eLearning: section created empty',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'div.o_wslides_slide_list_category_header:contains(\"' + sectionName + '\")',\n}];\n};\n\nvar addVideoToSection = function (sectionName, saveAsDraft, backend = false) {\n\tvar base_steps = [\n{\n\tcontent: 'eLearning: add content to section',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'div.o_wslides_slide_list_category_header:contains(\"' + sectionName + '\") a:contains(\"Add Content\")',\n}, {\n\tcontent: 'eLearning: click on video',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'a[data-slide-category=video]',\n}, {\n\tcontent: 'eLearning: fill video link',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'input[name=video_url]',\n\trun: 'text https://www.youtube.com/watch?v=pzmI3vAIhbE',\n}, {\n    content: 'eLearning: click outside to trigger onchange',\n    trigger: (backend ? 'iframe ' : '' ) + 'div.o_w_slide_upload_modal_container',\n    run: ({ tip_widget }) => {\n\t\ttip_widget.$anchor[0].click();\n\t},\n}];\n\tif (saveAsDraft) {\n\t\tbase_steps = [].concat(base_steps, [{\n    content: 'eLearning: save as draft slide',\n    extra_trigger: (backend ? 'iframe ' : '' ) + 'div.o_slide_preview img:not([src=\"/website_slides/static/src/img/document.png\"])',  // wait for onchange to perform its duty\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Save as Draft\")',\n}]);\n\t}\n\telse {\n\t\tbase_steps = [].concat(base_steps, [{\n    content: 'eLearning: create and publish slide',\n    extra_trigger: (backend ? 'iframe ' : '' ) + 'div.o_slide_preview img:not([src=\"/website_slides/static/src/img/document.png\"])',  // wait for onchange to perform its duty\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Publish\")',\n}]);\n\t}\n\treturn base_steps;\n};\n\nvar addArticleToSection = function (sectionName, pageName, backend) {\n\treturn [\n{\n\tcontent: 'eLearning: add content to section',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'div.o_wslides_slide_list_category_header:contains(\"' + sectionName + '\") a:contains(\"Add Content\")',\n}, {\n\tcontent: 'eLearning: click on article',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'a[data-slide-category=article]',\n}, {\n\tcontent: 'eLearning: fill article title',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'input[name=name]',\n\trun: 'text ' + pageName,\n}, {\n    content: 'eLearning: click on tags',\n    trigger: (backend ? 'iframe ' : '' ) + 'ul.select2-choices:first',\n}, {\n    content: 'eLearning: select Practice tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'div.select2-result-label:contains(\"Practice\")',\n    in_modal: false,\n}, {\n\tcontent: 'eLearning: fill article completion time',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'input[name=duration]',\n\trun: 'text 4',\n}, {\n    content: 'eLearning: create and publish slide',\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Publish\")',\n}];\n};\n\nconst fillInFileInput = async (input, name, type, content) => {\n    const blob = await (await fetch(`data:${type};base64,${content}`)).blob();\n    const file = new File([blob], name, { type: type});\n    const dataTransfer = new DataTransfer();\n    dataTransfer.items.add(file);\n    input.files = dataTransfer.files;\n    input.dispatchEvent(new Event('change', { bubbles: true }));\n};\n\nconst compareBase64Content = async (url, name, type, expectedContent) => {\n    const blob = await (await fetch(url)).blob();\n    const file = new File([blob], name, { type: type});\n    const actualContent = await getDataURLFromFile(file).then(dataURL => dataURL.split(',', 2)[1]);\n    return expectedContent === actualContent;\n};\n\n/**\n * Test the upload of an image file as a new content and especially the binary content of the uploaded image.\n */\nconst addImageToSection = (sectionName, pageName, backend) => {\n    const prefix = backend ? 'iframe ' : '';\n    return [\n{\n    content: 'eLearning: add content to section',\n    trigger: `${prefix}div.o_wslides_slide_list_category_header:contains(\"${sectionName}\") a:contains(\"Add Content\")`,\n}, {\n    content: 'eLearning: click on image',\n    trigger: `${prefix}a[data-slide-category=infographic]`,\n}, {\n    content: 'eLearning: choose upload from device',\n    trigger: `${prefix}#source_type_local_file`,\n}, {\n    content: 'eLearning: load image',\n    trigger: 'body',\n    run: async () => {\n        const uploadInput = backend ?\n            document.getElementsByTagName('iframe')[0].contentWindow.document.getElementById('upload') :\n            document.getElementById('upload');\n        await fillInFileInput(uploadInput, 'Overview.png', 'image/png', testPngImage);\n    },\n}, {\n    content: 'eLearning: ensure that the preview is displayed which means that data is loaded and can be submitted',\n    trigger: `${prefix}#slide-image[src*=\"data:\"]`,\n}, {\n    content: 'eLearning: create and publish slide',\n    trigger: `${prefix}footer.modal-footer button:contains(\"Publish\")`,\n}, {\n    content: 'eLearning: launch content',\n    trigger: `${prefix}a.o_wslides_js_slides_list_slide_link:contains(\"Overview\")`,\n}, {\n    content: 'eLearning: check uploaded image presence and perform comparison',\n    trigger: (backend ? 'iframe ' : '') + '.o_wslides_fs_player img',\n    run: async () => {\n        const baseElement = backend ? document.querySelector('iframe').contentDocument : document;\n        const img = baseElement.querySelector('.o_wslides_fs_player img');\n        if (await compareBase64Content(img.getAttribute('src'), 'Overview.png', 'image/png', testPngImage)) {\n            img.classList.add('o_wslides_tour_img_upload_success');\n        }\n    }\n}, {\n    content: 'eLearning: check uploaded image content',\n    trigger: `${prefix}.o_wslides_fs_player img.o_wslides_tour_img_upload_success`,\n},\n{\n    content: 'eLearning: back to course',\n    trigger: `${prefix}.o_wslides_fs_sidebar_header a:contains(\"D\u00e9boulonnate\")`,\n},\n{\n    content: 'eLearning: check course page',\n    trigger: `${prefix}.o_wslides_course_main`,\n    isCheck: true,\n}];\n};\n\n/**\n * Test the upload of a pdf file as a new content and especially the binary content of the uploaded pdf.\n */\nconst addPdfToSection = function (sectionName, pageName, backend) {\n    const prefix = backend ? 'iframe ' : '';\n    return [\n{\n    content: 'eLearning: add content to section',\n    trigger: `${prefix}div.o_wslides_slide_list_category_header:contains(\"${sectionName}\") a:contains(\"Add Content\")`,\n}, {\n    content: 'eLearning: click on document',\n    trigger: `${prefix}a[data-slide-category=document]`,\n}, {\n    content: 'eLearning: choose upload from device',\n    trigger: `${prefix}#source_type_local_file`,\n}, {\n    content: 'eLearning: load pdf',\n    trigger: 'body',\n    run: async () => {\n        const upload = backend ?\n            document.getElementsByTagName('iframe')[0].contentWindow.document.getElementById('upload') :\n            document.getElementById('upload');\n        await fillInFileInput(upload, 'Exercise.pdf', 'application/pdf', testPdf);\n    },\n}, {\n    content: 'eLearning: ensure that the preview is displayed which means that data is loaded and can be submitted',\n    trigger: `${prefix}#slide-image[src*=\"data:\"]`,\n}, {\n    content: 'eLearning: create and publish slide',\n    trigger: `${prefix}footer.modal-footer button:contains(\"Publish\")`,\n}, {\n    content: 'eLearning: launch content',\n    trigger: `${prefix}a.o_wslides_js_slides_list_slide_link:contains(\"Exercise\")`,\n}, {\n    content: 'eLearning: check uploaded pdf presence and perform comparison',\n    trigger: (backend ? 'iframe.o_iframe ' : '') + '.o_wslides_fs_content',\n    run: async () => {\n        const baseElement = backend ? document.querySelector('iframe.o_iframe').contentDocument : document;\n        await contains('iframe.o_wslides_iframe_viewer', { target: baseElement });\n        const iframeViewerDoc = baseElement.querySelector('iframe.o_wslides_iframe_viewer').contentDocument;\n        await contains('#PDFSlideViewer', { target: iframeViewerDoc });\n        const pdfViewer = iframeViewerDoc.querySelector('#PDFSlideViewer');\n        if (await compareBase64Content(pdfViewer.getAttribute('data-slideurl'), 'Exercise.pdf', 'application/pdf', testPdf)) {\n            baseElement.querySelector('.o_wslides_fs_content').classList.add('o_wslides_tour_pdf_upload_success');\n        }\n    },\n}, {\n    content: 'eLearning: check uploaded pdf content',\n    trigger: `${prefix}.o_wslides_fs_content.o_wslides_tour_pdf_upload_success`,\n}, {\n    content: 'eLearning: back to course',\n    trigger: `${prefix}.o_wslides_fs_sidebar_header a:contains(\"D\u00e9boulonnate\")`,\n}, {\n    content: 'eLearning: check course page',\n    trigger: `${prefix}.o_wslides_course_main`,\n    isCheck: true,\n}];\n};\n\nvar addExistingCourseTag = function (backend = false) {\n\treturn [\n{\n    content: 'eLearning: click on Add Tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'a.o_wslides_js_channel_tag_add',\n}, {\n    content: 'eLearning: click on tag dropdown',\n    trigger: (backend ? 'iframe ' : '' ) + 'a.select2-choice:first',\n}, {\n    content: 'eLearning: select advanced tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'div.select2-result-label:contains(\"Advanced\")',\n    in_modal: false,\n}, {\n    content: 'eLearning: add existing course tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Add\")'\n}, {\n\tcontent: 'eLearning: check that modal is closed',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'body:not(.modal-open)',\n}];\n};\n\nvar addNewCourseTag = function (courseTagName, backend) {\n\treturn [\n{\n    content: 'eLearning: click on Add Tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'a.o_wslides_js_channel_tag_add',\n}, {\n    content: 'eLearning: click on tag dropdown',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'a.select2-choice:first',\n}, {\n    content: 'eLearning: add a new course tag',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'a.select2-choice:first',\n\trun: function () {\n\t\t// directly add new tag since we can assume select2 works correctly\n\t\tlet $jq = $;\n\t\tif (backend) {\n\t\t\t$jq = $('.o_website_preview iframe:not(.o_ignore_in_tour)').contents()[0].defaultView.$;\n\t\t}\n\t\t$jq('#tag_id').select2('data', {id:'123', text: courseTagName, create: true});\n\t\t$jq('#tag_id').trigger('change');\n\t}\n}, {\n    content: 'eLearning: click on tag group dropdown',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'a.select2-choice:last',\n}, {\n\tcontent: 'eLearning: select Tags tag group',\n    trigger: (backend ? 'iframe ' : '' ) + 'div.select2-result-label:contains(\"Tags\")',\n\tin_modal: false,\n}, {\n    content: 'eLearning: add new course tag',\n    trigger: (backend ? 'iframe ' : '' ) + 'footer.modal-footer button:contains(\"Add\")'\n}, {\n\tcontent: 'eLearning: check that modal is closed',\n\ttrigger: (backend ? 'iframe ' : '' ) + 'body:not(.modal-open)',\n}];\n};\n\nexport default {\n\taddSection: addSection,\n\taddImageToSection: addImageToSection,\n\taddPdfToSection: addPdfToSection,\n\taddVideoToSection: addVideoToSection,\n\taddArticleToSection: addArticleToSection,\n\taddExistingCourseTag: addExistingCourseTag,\n\taddNewCourseTag: addNewCourseTag,\n};\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('planning_split_shift_week', {\n    url: '/web?debug=tests',\n    test: true,\n    steps: () => [{\n    trigger: '.o_app[data-menu-xmlid=\"planning.planning_menu_root\"]',\n    content: \"Let's start managing your employees' schedule!\",\n    position: 'bottom',\n}, {\n    trigger: \".scale_button_selection\",\n    content: \"The initial default scale should be week\",\n    run() {\n        const subjectValue = document.querySelector('.scale_button_selection').textContent;\n        if (subjectValue !== \"Week\") {\n            console.error(\n                `Default scale should be week (actual: ${subjectValue})`\n            );\n        }\n    },\n},{\n    trigger: \".o_searchview_dropdown_toggler\",\n    content: \"Open Filter\",\n}, {\n    trigger: \".o_add_custom_filter\",\n    content: \"Click on custom filter\",\n}, {\n    trigger: \".o_model_field_selector\",\n    content: \"Write domain excluding open shifts\",\n    run() {\n        const input = document.querySelector(\".o_domain_selector_debug_container textarea\")\n        input.value = '[(\"resource_id\", \"!=\", False)]';\n        input.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: false }));\n    }\n}, {\n    trigger: \".modal-footer > .btn-primary\",\n    content: \"Add custom filter\",\n}, {\n    trigger: \".o_searchview_input\",\n    content: \"Search planning shifts assigned to Aramis\",\n    run: \"text Aramis\",\n}, {\n    trigger: \".o_menu_item.dropdown-item > a:not(.o_expand)\",\n    content: \"Select filter resource = Aramis\",\n    run: 'click',\n}, {\n    trigger: \".o_searchview_input\",\n    content: \"Search planning shifts assigned to Athos\",\n    run: \"text Athos\",\n}, {\n    trigger: \".o_menu_item.dropdown-item > a:not(.o_expand)\",\n    content: \"Select filter resource = Athos\",\n    run: 'click',\n}, {\n    trigger: \".o_searchview_input\",\n    content: \"Search planning shifts assigned to Porthos\",\n    run: \"text Porthos\",\n}, {\n    trigger: \".o_menu_item.dropdown-item > a:not(.o_expand)\",\n    content: \"Select filter resource = Porthos\",\n    run: 'click',\n}, {\n    trigger: \".o_gantt_pill_split_tool[data-split-tool-pill-id='__pill__1_0']\",\n    content: \"Split the slot assigned to Aramis after one day\",\n    run: 'click',\n}, {\n    trigger: \".o_gantt_pill_wrapper[data-pill-id='__pill__4']\",\n    content: \"Wait for the new shift to appear\",\n    run() {},\n}, {\n    trigger: \".o_gantt_pill_split_tool[data-split-tool-pill-id='__pill__3_1']\",\n    content: \"Split the slot assigned to Athos after two days\",\n    run: 'click',\n}, {\n    trigger: \".o_gantt_pill_wrapper[data-pill-id='__pill__5']\",\n    content: \"Wait for the new shift to appear\",\n    run() {},\n}, {\n    trigger: \".o_gantt_pill_split_tool[data-split-tool-pill-id='__pill__3_0']\",\n    content: \"Split the first slot assigned to Athos after one day\",\n    run: 'click',\n}, {\n    trigger: \".o_gantt_pill_wrapper[data-pill-id='__pill__6']\",\n    content: \"Wait for the new shift to appear\",\n    run() {},\n}, {\n    trigger: \".o_gantt_pill_split_tool[data-split-tool-pill-id='__pill__6_0']\",\n    content: \"Split the first slot assigned to Porthos after one day\",\n    run: 'click',\n}]});\n", "/** @odoo-module **/\n\nimport { markup } from \"@odoo/owl\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('planning_test_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [{\n    trigger: '.o_app[data-menu-xmlid=\"planning.planning_menu_root\"]',\n    content: \"Let's start managing your employees' schedule!\",\n    position: 'bottom',\n}, {\n    trigger: \".o_gantt_button_add\",\n    content: markup(\"Let's create your first <b>shift</b>.\"),\n    id: 'project_planning_start',\n}, {\n    trigger: \".o_field_widget[name='resource_id'] input\",\n    content: markup(\"Assign this shift to your <b>resource</b>, or leave it open for the moment.\"),\n    run: 'text Aaron',\n}, {\n    trigger: \".o-autocomplete--dropdown-item > a:contains('Aaron')\",\n    auto: true,\n    in_modal: false,\n}, {\n    trigger: \".o_field_widget[name='role_id'] input\",\n    content: markup(\"Select the <b>role</b> your employee will have (<i>e.g. Chef, Bartender, Waiter, etc.</i>).\"),\n    run: 'text Developer',\n}, {\n    trigger: \".o-autocomplete--dropdown-item > a:contains('Developer')\",\n    auto: true,\n    in_modal: false,\n}, {\n    trigger: \".o_field_widget[name='start_datetime'] input\",\n    content: \"Set start datetime\",\n    run: function (actions) {\n        const input = this.$anchor[0];\n        input.value = input.value.replace(/(\\d{2}:){2}\\d{2}/g, '08:00:00');\n        input.dispatchEvent(new InputEvent('input', {\n            bubbles: true,\n        }));\n        input.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: false }));\n    }\n}, {\n    trigger: \"input[data-field=end_datetime]\",\n    content: \"Set end datetime\",\n    run: function (actions) {\n        const input = this.$anchor[0];\n        input.value = input.value.replace(/(\\d{2}:){2}\\d{2}/g, '11:59:59');\n        input.dispatchEvent(new InputEvent('input', {\n            bubbles: true,\n        }));\n        input.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: false }));\n    }\n}, {\n    trigger: \"div[name='template_creation'] input\",\n    content: \"Save this shift as a template\",\n    run: function (actions) {\n        if (!this.$anchor.prop('checked')) {\n            actions.click(this.$anchor);\n        }\n    },\n}, {\n    trigger: \"button[special='save']\",\n    content: \"Save this shift once it is ready.\",\n}, {\n    trigger: \".o_gantt_pill :contains('11:59')\",\n    content: markup(\"<b>Drag & drop</b> your shift to reschedule it. <i>Tip: hit CTRL (or Cmd) to duplicate it instead.</i> <b>Adjust the size</b> of the shift to modify its period.\"),\n    auto: true,\n    run: function () {\n        if (this.$anchor.length) {\n            const expected = \"8:00 AM - 11:59 AM (4h)\";\n            // Without the replace below, this step could break since luxon\n            // (via Intl) uses sometimes U+202f instead of a simple space.\n            // Note: U+202f is a narrow non-break space.\n            const actual = this.$anchor[0].textContent.replace(/\\u202f/g, \" \");\n            if (!actual.startsWith(expected)) {\n                console.error(\"Test in gantt view doesn't start as expected. Expected : '\" + expected + \"', actual : '\" + actual + \"'\");\n            }\n        } else {\n            console.error(\"Not able to select pill ending at 11h59\");\n        }\n    }\n}, {\n    trigger: \".o_gantt_button_send_all\",\n    content: markup(\"If you are happy with your planning, you can now <b>send</b> it to your employees.\"),\n}, {\n    trigger: \"button[name='action_check_emails']\",\n    content: markup(\"<b>Publish & send</b> your planning to make it available to your employees.\"),\n}, {\n    trigger: \".o_gantt_row_header:contains('Aaron') .o_gantt_progress_bar\",\n    content: \"See employee progress bar\",\n    auto: true,\n    run: function () {\n        const $progressbar = this.$anchor;\n        if ($progressbar.length) {\n            if ($progressbar[0].querySelector(\"span\").style.width === '') {\n                console.error(\"Progress bar should be displayed\");\n            }\n            if (!$progressbar[0].classList.contains(\"o_gantt_group_success\")) {\n                console.error(\"Progress bar should be displayed in success\");\n            }\n        } else {\n            console.error(\"Not able to select progressbar\");\n        }\n    }\n}, {\n    trigger: \".o_gantt_button_copy_previous_week\",\n    content: \"Copy previous week if you want to follow previous week planning schedule\",\n    run: 'click',\n}, {\n    id: \"planning_check_format_step\",\n    trigger: \".o_gantt_pill span:contains(Developer)\",\n    content: \"Check naming format of resource and role when grouped\",\n    auto: true,\n    run: function () {}\n}, {\n    trigger: \".o_gantt_button_auto_plan\",\n    content: \"Click on Auto Plan button to assign open shifts to employees\",\n    run: 'click',\n}, {\n    id: \"planning_check_format_step\",\n    trigger: \".o_gantt_pill.opacity-25\",\n    content: \"Check that the filter is applied\",\n    auto: true,\n    run: function () {},\n}]});\n\nregistry.category(\"web_tour.tours\").add('planning_shift_switching_backend', {\n    url: '/web',\n    test: true,\n    steps: () => [{\n    trigger: '.o_app[data-menu-xmlid=\"planning.planning_menu_root\"]',\n    content: \"Get in the planning app\",\n}, {\n    trigger: '.o_gantt_pill :contains(\"bert\")',\n    content: \"Click on one of your shifts in the gantt view\",\n},\n{\n    trigger: \".popover-footer button\",\n    content: \"Click on the 'Edit' button in the popover\",\n    run: 'click',\n},\n{\n    trigger: 'button[name=\"action_switch_shift\"]',\n    content: \"Click on the 'Switch Shift' button on the Gantt Form view modal\",\n}, {\n    trigger: 'div.o_view_scale_selector > .scale_button_selection',\n    content: 'Toggle the view scale selector',\n}, {\n    trigger: 'div.o_view_scale_selector > .dropdown-menu',\n    content: 'Click on the dropdown button to change the scale of the gantt view',\n    extra_trigger: 'div.o_view_scale_selector .o_scale_button_day',\n}, {\n    trigger: '.o_gantt_pill :contains(\"bert\")',\n    content: \"Click on the unwanted shift in the gantt view again\",\n},\n{\n    trigger: \".popover-footer button\",\n    content: \"Click again on the 'Edit' button in the popover\",\n    run: 'click',\n},\n{\n    trigger: '.alert-warning:contains(\"The employee assigned would like to switch shifts with someone else.\")',\n    content: \"Check that the warning has been shown\",\n}, {\n    trigger: '.btn-close',\n    content: \"Click on the close button to hide the shift form modal\",\n}, {\n    trigger: '.o_planning_gantt',\n    isCheck: true,\n}]});\n\nregistry.category(\"web_tour.tours\").add('planning_assigning_unwanted_shift_backend', {\n    url: '/web',\n    test: true,\n    steps: () => [{\n    trigger: '.o_app[data-menu-xmlid=\"planning.planning_menu_root\"]',\n    content: \"Get in the planning app\",\n}, {\n    trigger: '.o_gantt_pill :contains(\"bert\")',\n    content: \"Click on the unwanted shift of the employee\",\n},\n{\n    trigger: \".popover-footer button\",\n    content: \"Click on the 'Edit' button in the popover\",\n    run: 'click',\n},\n{\n    trigger: \".o_field_widget[name='resource_id'] input\",\n    content: \"Assign this shift to another employee.\",\n    run: 'text joseph',\n}, {\n    trigger: \".o-autocomplete--dropdown-item > a:contains('joseph')\",\n    auto: true,\n    in_modal: false,\n}, {\n    trigger: \"button[special='save']\",\n    content: \"Save this shift once it is ready.\",\n}, {\n    trigger: '.o_gantt_pill :contains(\"joseph\")',\n    content: \"Click again on the newly assigned shift\",\n}, {\n    trigger: '.o_popover',\n    content: \"Check the popover opened\",\n    isCheck: true,\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nregistry.category(\"web_tour.tours\").add('test_tickets_questions', {\n    test: true,\n    url: '/event',\n    steps: () => [{\n    content: \"Click on the Design Fair event\",\n    trigger: 'article:contains(\"Design Fair New York\")',\n}, {\n    content: \"Click on Register modal tickets button\",\n    trigger: 'button:contains(\"Register\")',\n    run: 'click'\n}, {\n    content: \"Check Register button is disabled when no ticket selected\",\n    trigger: 'button:disabled:contains(\"Register\")',\n    isCheck: true,\n}, {\n    content: \"Select 2 'Free' tickets to buy\",\n    trigger: 'div.o_wevent_ticket_selector:contains(\"Free\") select.form-select',\n    run: 'text 2'\n}, {\n    content: \"Click on Register (to fill tickets data) button\",\n    trigger: 'div.modal-footer button:contains(\"Register\")',\n    run: 'click'\n}, {\n    trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"name\"]',\n    run: 'text Attendee A'\n}, {\n    trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"email\"]',\n    run: 'text attendee-a@gmail.com'\n}, {\n    trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"phone\"]',\n    run: 'text +32499123456'\n}, {\n    trigger: 'div:contains(\"Ticket #1\").modal-body select[name*=\"1-simple_choice\"]',\n    run: 'text Vegetarian'\n}, {\n    trigger: 'div:contains(\"Ticket #1\").modal-body textarea[name*=\"1-text_box\"]',\n    run: 'text Fish and Nuts'\n}, {\n    trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"name\"]',\n    run: 'text Attendee B'\n}, {\n    trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"email\"]',\n    run: 'text attendee-b@gmail.com'\n}, {\n    trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"company_name\"]',\n    run: 'text My Company'\n}, {\n    trigger: 'div:contains(\"Ticket #2\").modal-body select[name*=\"2-simple_choice\"]',\n    run: 'text Pastafarian'\n}, {\n    trigger: 'div.o_wevent_registration_question_global select[name*=\"0-simple_choice\"]',\n    run: 'text A friend'\n}, {\n    trigger: 'button[type=submit]',\n    run: 'click'\n}, {\n    // The tour stops too early and the registration fails if we don't wait the confirmation.\n    content: 'Wait for confirmation',\n    trigger: '.o_wereg_confirmed, .oe_cart',\n    isCheck: true,\n}]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nfunction websiteCreateEventTourSteps() {\n    return [\n        {\n            content: \"Click here to add new content to your website.\",\n            trigger: \".o_menu_systray .o_new_content_container > a\",\n            consumeVisibleOnly: true,\n        },\n        {\n            content: \"Click here to create a new event.\",\n            trigger: \"a[data-module-xml-id='base.module_website_event']\",\n        },\n        {\n            content:\n                \"Create a name for your new event and click `Continue`. e.g: Technical Training\",\n            trigger: \".modal-dialog div[name='name'] input\",\n            run: \"text Technical Training\",\n        },\n        {\n            content: \"Open date range picker. Pick a Start date for your event\",\n            trigger: \".modal-dialog div[name=date_begin]\",\n            run: () => {\n                document.querySelector(\"input[data-field='date_begin']\").value =\n                    \"09/30/2020 08:00:00\";\n                document\n                    .querySelector(\"input[data-field='date_begin']\")\n                    .dispatchEvent(new Event(\"change\"));\n\n                document.querySelector(\"input[data-field='date_end']\").value =\n                    \"10/02/2020 23:00:00\";\n                document\n                    .querySelector(\"input[data-field='date_end']\")\n                    .dispatchEvent(new Event(\"change\"));\n\n                document.querySelector(\"input[data-field='date_begin']\").click();\n            },\n        },\n        {\n            content: \"Click `Continue` to create the event.\",\n            trigger: \".modal-footer button.btn-primary\",\n            extra_trigger: \".modal-dialog input[type=text][value!='']\",\n        },\n        {\n            content: \"Drag this block and drop it in your page.\",\n            trigger:\n                \"#oe_snippets.o_loaded #snippet_structure .oe_snippet:eq(2) .oe_snippet_thumbnail\",\n            run: \"drag_and_drop_native iframe #wrapwrap > main\",\n        },\n        {\n            content: \"Once you click on save, your event is updated.\",\n            trigger: \"button[data-action=save]\",\n            // Wait until the drag and drop is resolved (causing a history step)\n            // before clicking save.\n            extra_trigger:\n                \".o_we_external_history_buttons button[data-action=undo]:not([disabled])\",\n        },\n        {\n            content: \"Click to publish your event.\",\n            trigger: \".o_menu_systray_item .o_switch_danger_success\",\n            extra_trigger: \"iframe body:not(.editor_enable)\",\n        },\n    ];\n}\n\nfunction websiteEditEventTourSteps() {\n    return [\n        {\n            content: \"Redirect to Event Page\",\n            trigger: \"iframe span:contains('Back to events')\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for events list to load\",\n            trigger: \"iframe .o_wevent_events_list\",\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"edit the short description of the event\",\n            trigger: \"iframe .o_wevent_events_list small\",\n            run: \"text new short description\",\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"is short description updated?\",\n            trigger: \"iframe .o_wevent_events_list small:contains('new short description')\",\n            isCheck: true,\n        },\n    ];\n}\n\nwTourUtils.registerWebsitePreviewTour(\n    \"website_event_tour\",\n    {\n        test: true,\n        url: \"/\",\n    },\n    () => [...websiteCreateEventTourSteps(), ...websiteEditEventTourSteps()]\n);\n", "/** @odoo-modules */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_event_pages_seo', {\n    test: true,\n    // The tour must start on an event's custom page (not register page)\n    // url: `/event/openwood-collection-online-reveal-8/page/introduction-openwood-collection-online-reveal`,\n    steps: () => [\n    {\n        content: \"Open the site menu\",\n        trigger: '[data-menu-xmlid=\"website.menu_site\"]',\n        extra_trigger: 'iframe #o_wevent_event_submenu', // Ensure we landed on the event page\n    },\n    {\n        content: \"Open the optimize SEO dialog\",\n        trigger: '[data-menu-xmlid=\"website.menu_optimize_seo\"]',\n    },\n    {\n        content: \"Fill in the title input\",\n        trigger: '[for=\"website_meta_title\"] + input',\n        run: 'text Hello, world!',\n    },\n    {\n        content: \"Save the dialog\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Check that the page title is adapted, inside and outside the iframe\",\n        trigger: 'html:has(title:containsExactText(Hello, world!))',\n        extra_trigger: 'iframe html:has(title:containsExactText(Hello, world!))',\n        isCheck: true,\n    },\n]});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nconst requestChatSteps = [\n    {\n        trigger: \".o-livechat-LivechatButton\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o-mail-ChatWindow\",\n        isCheck: true,\n    },\n];\n\nregistry.category(\"web_tour.tours\").add(\"im_livechat_request_chat\", {\n    test: true,\n    steps: () => requestChatSteps,\n    shadow_dom: \".o-livechat-root\",\n});\n\nregistry.category(\"web_tour.tours\").add(\"im_livechat_request_chat_and_send_message\", {\n    test: true,\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        ...requestChatSteps,\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Hello, I need help please !\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Message:contains('Hello, I need help')\",\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst commonSteps = [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: '.o_app[data-menu-xmlid=\"im_livechat.menu_livechat_root\"]',\n    },\n    {\n        trigger: 'button[data-menu-xmlid=\"im_livechat.livechat_config\"]',\n    },\n    {\n        trigger: 'a[data-menu-xmlid=\"im_livechat.chatbot_config\"]',\n    },\n    {\n        trigger: \".o_list_button_add\",\n    },\n    {\n        trigger: 'input[id=\"title_0\"]',\n        run: \"text Test Chatbot Sequence\",\n    },\n    {\n        trigger: 'div[name=\"script_step_ids\"] .o_field_x2many_list_row_add a',\n    },\n    {\n        trigger: \"textarea#message_0\",\n        run: \"text Step 1\",\n    },\n    {\n        trigger: 'button:contains(\"Save & New\")',\n    },\n    {\n        trigger: 'tr:contains(\"Step 1\")',\n        in_modal: false,\n        run: () => {},\n    },\n    {\n        trigger: \"textarea#message_0\",\n        run: \"text Step 2\",\n    },\n    {\n        trigger: 'button:contains(\"Save & New\")',\n    },\n    {\n        trigger: 'tr:contains(\"Step 2\")',\n        in_modal: false,\n        run: () => {},\n    },\n    {\n        trigger: \"textarea#message_0\",\n        run: \"text Step 3\",\n    },\n];\n\n/**\n * Simply create a few steps in order to check the sequences.\n */\nregistry.category(\"web_tour.tours\").add(\"im_livechat_chatbot_steps_sequence_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        ...commonSteps,\n        {\n            trigger: 'button:contains(\"Save & Close\")',\n        },\n        {\n            trigger: \"body.o_web_client:not(.modal-open)\",\n            run() {},\n        },\n        ...stepUtils.discardForm(),\n    ],\n});\n\n/**\n * Same as above, with an extra drag&drop at the end.\n */\nregistry.category(\"web_tour.tours\").add(\"im_livechat_chatbot_steps_sequence_with_move_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        ...commonSteps,\n        {\n            trigger: 'button:contains(\"Save & New\")',\n        },\n        {\n            trigger: 'tr:contains(\"Step 3\")',\n            in_modal: false,\n            run: () => {},\n        },\n        {\n            trigger: \"textarea#message_0\",\n            run: \"text Step 4\",\n        },\n        {\n            trigger: 'button:contains(\"Save & New\")',\n        },\n        {\n            trigger: 'tr:contains(\"Step 4\")',\n            in_modal: false,\n            run: () => {},\n        },\n        {\n            trigger: \"textarea#message_0\",\n            run: \"text Step 5\",\n        },\n        {\n            trigger: 'button:contains(\"Save & Close\")',\n        },\n        {\n            trigger: \"body.o_web_client:not(.modal-open)\",\n            run: () => {},\n        },\n        {\n            trigger: 'div[name=\"script_step_ids\"] tr:nth-child(5) .o_row_handle',\n            run: 'drag_and_drop_native div[name=\"script_step_ids\"] tr:nth-child(2)',\n        },\n        {\n            trigger: 'div[name=\"script_step_ids\"] .o_field_x2many_list_row_add a',\n        },\n        {\n            trigger: \"textarea#message_0\",\n            run: \"text Step 6\",\n        },\n        {\n            trigger: 'button:contains(\"Save & Close\")',\n        },\n        {\n            trigger: \"body.o_web_client:not(.modal-open)\",\n            run: () => {},\n        },\n        {\n            trigger: 'tr:contains(\"Step 6\")',\n            in_modal: false,\n            run: () => {},\n        },\n        ...stepUtils.discardForm(),\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"im_livechat_history_back_and_forth_tour\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"body\",\n            // Open Command Palette\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"K\", ctrlKey: true, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: \"text /\",\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: \"text Live Chat\",\n        },\n        {\n            trigger: \".o_command:contains(Sessions History)\",\n        },\n        {\n            trigger: \".o_data_cell:contains(Visitor operator)\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebar-item:contains(Visitor).o-active\",\n            run() {\n                history.back();\n            },\n        },\n        {\n            trigger: \".o_data_cell:contains(Visitor operator)\",\n            run() {\n                history.forward();\n            },\n        },\n        {\n            trigger: \".o-mail-DiscussSidebar-item:contains(Visitor).o-active\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebar-item:contains(Visitor).o-active\",\n            run() {\n                history.back();\n            },\n        },\n        {\n            trigger: \".o_data_cell:contains(Visitor operator)\",\n            run() {},\n            isCheck: true,\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n/**\n * Speed up fade-in fade-out to avoid useless delay in tests.\n*/\nfunction patchSurveyWidget() {\n    const SurveyFormWidget = odoo.loader.modules.get('@survey/js/survey_form')[Symbol.for('default')]\n    SurveyFormWidget.include({\n        _submitForm: function () {\n            this.fadeInOutDelay = 0;\n            return this._super.apply(this, arguments);\n        }\n    });\n}\n\n/**\n * This tour will test that, for the demo certification allowing 2 attempts, a user can\n * try and fail twice and will no longer be able to take the certification.\n */\n\nimport { registry } from \"@web/core/registry\";\n\nvar patch = [{\n    content: \"Patching Survey Widget\",\n    trigger: 'body',\n    run: function(){\n        patchSurveyWidget();\n    }\n}]\n\nvar failSteps = [{ // Page-1\n    content: \"Clicking on Start Certification\",\n    trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Certification\")',\n}, { // Question: Do we sell Acoustic Bloc Screens?\n    content: \"Selecting answer 'No'\",\n    trigger: 'div.js_question-wrapper:contains(\"Do we sell Acoustic Bloc Screens\") label:contains(\"No\")',\n}, { // Question: Select all the existing products\n    content: \"Ticking answer 'Fanta'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Fanta\")'\n}, {\n    content: \"Ticking answer 'Drawer'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Drawer\")'\n}, {\n    content: \"Ticking answer 'Conference chair'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Conference chair\")'\n}, { // Question: Select all the available customizations for our Customizable Desk\n    content: \"Ticking answer 'Color'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Color\")'\n}, {\n    content: \"Ticking answer 'Height'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Height\")'\n}, { // Question: How many versions of the Corner Desk do we have?\n    content: \"Selecting answer '2'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many versions of the Corner Desk do we have\") label:contains(\"2\")',\n}, { // Question: Do you think we have missing products in our catalog? (not rated)\n    content: \"Missing products\",\n    trigger: 'div.js_question-wrapper:contains(\"Do you think we have missing products in our catalog\") textarea',\n    run: \"text I don't know products enough to be able to answer that\",\n}, { // Page-2 Question: How much do we sell our Cable Management Box?\n    content: \"Selecting answer '$80'\",\n    trigger: 'div.js_question-wrapper:contains(\"How much do we sell our Cable Management Box\") label:contains(\"$80\")',\n}, { // Question: Select all the products that sell for $100 or more\n    content: \"Ticking answer 'Corner Desk Right Sit'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Corner Desk Right Sit\")'\n}, {\n    content: \"Ticking answer 'Desk Combination'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Desk Combination\")'\n}, {\n    content: \"Ticking answer 'Office Chair Black'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Office Chair Black\")'\n}, { // Question: What do you think about our prices (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What do you think about our prices\") label:contains(\"Correctly priced\")',\n}, { // Page-3 Question: How many days is our money-back guarantee?\n    content: \"Inputting answer '60'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many days is our money-back guarantee\") input',\n    run: 'text 60'\n}, { // Question: If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it?\n    content: \"Inputting answer '01/06/2020'\",\n    trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it\") input',\n    run: 'text 01/06/2020'\n}, { // Question: If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire?\n    content: \"Inputting answer '01/06/2021 00:00:01'\",\n    trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire\") input',\n    run: 'text 01/06/2021 00:00:01'\n}, { // Question: What day to you think is best for us to start having an annual sale (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What day to you think is best for us to start having an annual sale (not rated)\") input',\n}, { // Question: What day and time do you think most customers are most likely to call customer service (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What day and time do you think most customers are most likely to call customer service (not rated)\") input',\n}, { // Question: How many chairs do you think we should aim to sell in a year (not rated)?\n    content: \"Inputting answer '0'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many chairs do you think we should aim to sell in a year (not rated)\") input',\n    run: 'text 0'\n}, {\n    content: \"Finish Survey\",\n    trigger: 'button[type=\"submit\"]',\n}];\n\nvar retrySteps = [{\n    trigger: 'a:contains(\"Retry\")'\n}];\n\nvar lastSteps = [{\n    trigger: 'h1:contains(\"Thank you!\")',\n    run: function () {\n        if ($('a:contains(\"Retry\")').length === 0) {\n            $('h1:contains(\"Thank you!\")').addClass('tour_success');\n        }\n    }\n}, {\n    trigger: 'h1.tour_success',\n    isCheck: true,\n}];\n\nregistry.category(\"web_tour.tours\").add('test_certification_failure', {\n    test: true,\n    url: '/survey/start/4ead4bc8-b8f2-4760-a682-1fde8daaaaac',\n    steps: () => [].concat(patch, failSteps, retrySteps, failSteps, lastSteps) });\n", "/** @odoo-module **/\n\n/**\n * Speed up fade-in fade-out to avoid useless delay in tests.\n */\nfunction patchSurveyWidget() {\n    const SurveyFormWidget = odoo.loader.modules.get('@survey/js/survey_form')[Symbol.for('default')]\n    SurveyFormWidget.include({\n        _submitForm: function () {\n            this.fadeInOutDelay = 0;\n            return this._super.apply(this, arguments);\n        }\n    });\n}\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_certification_success', {\n    test: true,\n    url: '/survey/start/4ead4bc8-b8f2-4760-a682-1fde8daaaaac',\n    steps: () => [{\n        content: \"Patching Survey Widget\",\n        trigger: 'body',\n        run: function(){\n            patchSurveyWidget();\n        }\n    }, { // Page-1\n        content: \"Clicking on Start Certification\",\n        trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Certification\")',\n    }, { // Question: Do we sell Acoustic Bloc Screens?\n        content: \"Selecting answer 'Yes'\",\n        trigger: 'div.js_question-wrapper:contains(\"Do we sell Acoustic Bloc Screens\") label:contains(\"Yes\")',\n    }, { // Question: Select all the existing products\n        content: \"Ticking answer 'Chair floor protection'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Chair floor protection\")'\n    }, {\n        content: \"Ticking answer 'Drawer'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Drawer\")'\n    }, {\n        content: \"Ticking answer 'Conference chair'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Conference chair\")'\n    }, { // Question: Select all the available customizations for our Customizable Desk\n        content: \"Ticking answer 'Color'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Color\")'\n    }, {\n        content: \"Ticking answer 'Legs'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Legs\")'\n    }, { // Question: How many versions of the Corner Desk do we have?\n        content: \"Selecting answer '2'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many versions of the Corner Desk do we have\") label:contains(\"2\")',\n    }, { // Question: Do you think we have missing products in our catalog? (not rated)\n        content: \"Missing products\",\n        trigger: 'div.js_question-wrapper:contains(\"Do you think we have missing products in our catalog\") textarea',\n        run: \"text I think we should make more versions of the customizable desk, it's such an amazing product!\",\n    }, { // Page-2 Question: How much do we sell our Cable Management Box?\n        content: \"Selecting answer '$80' (wrong one)\",\n        trigger: 'div.js_question-wrapper:contains(\"How much do we sell our Cable Management Box\") label:contains(\"$80\")',\n    }, { // Question: Select all the products that sell for $100 or more\n        content: \"Ticking answer 'Corner Desk Right Sit'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Corner Desk Right Sit\")'\n    }, {\n        content: \"Ticking answer 'Desk Combination'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Desk Combination\")'\n    }, {\n        content: \"Ticking answer 'Large Desk'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Large Desk\")'\n    }, { // Question: What do you think about our prices (not rated)?\n        content: \"Selecting answer 'Underpriced'\",\n        trigger: 'div.js_question-wrapper:contains(\"What do you think about our prices\") label:contains(\"Underpriced\")',\n    }, { // Page-3 Question: How many days is our money-back guarantee?\n        content: \"Inputting answer '30'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many days is our money-back guarantee\") input',\n        run: 'text 30'\n    }, { // Question: If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it?\n        content: \"Inputting answer '01/08/2020'\",\n        trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it\") input',\n        run: 'text 01/08/2020'\n    }, { // Question: If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire?\n        content: \"Inputting answer '01/07/2021 00:00:01'\",\n        trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire\") input',\n        run: 'text 01/07/2021 00:00:01'\n    }, { // Question: What day to you think is best for us to start having an annual sale (not rated)?\n        content: \"Inputting answer '01/01/2021'\",\n        trigger: 'div.js_question-wrapper:contains(\"What day to you think is best for us to start having an annual sale (not rated)\") input',\n        run: 'text 01/01/2021'\n    }, { // Question: What day and time do you think most customers are most likely to call customer service (not rated)?\n        content: \"Inputting answer '01/01/2021 13:00:01'\",\n        trigger: 'div.js_question-wrapper:contains(\"What day and time do you think most customers are most likely to call customer service (not rated)\") input',\n        run: 'text 01/01/2021 13:00:01'\n    }, { // Question: How many chairs do you think we should aim to sell in a year (not rated)?\n        content: \"Inputting answer '1000'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many chairs do you think we should aim to sell in a year (not rated)\") input',\n        run: 'text 1000'\n    }, {\n        content: \"Finish Survey\",\n        trigger: 'button[type=\"submit\"]',\n    }, {\n        content: \"Thank you\",\n        trigger: 'h1:contains(\"Thank you!\")',\n    }, {\n        content: \"test passed\",\n        trigger: 'div:contains(\"Congratulations, you have passed the test!\")',\n        isCheck: true,\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_survey', {\n    test: true,\n    url: '/survey/start/b137640d-14d4-4748-9ef6-344caaaaaae',\n    steps: () => [\n    // Page-1\n    {\n        content: 'Click on Start',\n        trigger: 'button.btn:contains(\"Start\")',\n    }, {\n        content: 'Answer Where do you live',\n        trigger: 'div.js_question-wrapper:contains(\"Where do you live\") input',\n        run: 'text Mordor-les-bains',\n    }, {\n        content: 'Answer Where do you live',\n        trigger: 'div.js_question-wrapper:contains(\"When is your date of birth\") input',\n        run: 'text 05/05/1980',\n    }, {\n        content: 'Answer How frequently do you buy products online',\n        trigger: 'div.js_question-wrapper:contains(\"How frequently do you buy products online\") label:contains(\"Once a month\")',\n    }, {\n        content: 'Answer How many times did you order products on our website',\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website\") input',\n        run: 'text 12',\n    }, {\n        content: 'Submit and go to Next Page',\n        trigger: 'button[value=\"next\"]',\n    },\n    // Page-2\n    {\n        content: 'Answer Which of the following words would you use to describe our products (High Quality)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\")',\n    }, {\n        content: 'Answer Which of the following words would you use to describe our products (Good value for money)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\")',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The new layout and design is fresh and up-to-date)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") td:first',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (It is easy to find the product that I want)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The tool to compare the products is useful to make a choice)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") td:eq(3)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The checkout process is clear and secure)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (I have added products to my wishlist)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") td:last',\n    }, {\n        content: 'Answer Do you have any other comments, questions, or concerns',\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: 'text This is great. Really.',\n    }, {\n        content: 'Click Submit and finish the survey',\n        trigger: 'button[value=\"finish\"]',\n    },\n    // Final page\n    {\n        content: 'Thank you',\n        trigger: 'h1:contains(\"Thank you!\")',\n        isCheck: true,\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('test_survey_chained_conditional_questions', {\n    test: true,\n    url: '/survey/start/3cfadce3-3f7e-41da-920d-10fa0eb19527',\n    steps: () => [\n    {\n        content: 'Click on Start',\n        trigger: 'button.btn:contains(\"Start\")',\n    }, {\n        content: 'Answer Q1 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Answer Q2 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q2\") label:contains(\"Answer 1\")',\n        extra_trigger: 'div.js_question-wrapper:contains(\"Q4\")',\n    }, {\n        content: 'Answer Q3 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Answer Q1 with Answer 3',  // This should hide Q2 and Q4 but not Q3.\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 3\")',\n    }, {\n        content: 'Check that Q2 was hidden',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\")',\n        run : () => {\n            expectHiddenQuestion(\"Q2\");\n            expectHiddenQuestion(\"Q4\");\n        },\n    }, {\n        content: 'Answer Q3 with Answer 2',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Answer Q1 with Answer 2',  // This should hide all other questions.\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Check that only question 1 is now visible',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        run : () => {\n            expectHiddenQuestion(\"Q2\", \"Q2's trigger is gone.\");\n            expectHiddenQuestion(\"Q3\", \"No reason to show it now.\");\n            expectHiddenQuestion(\"Q4\", \"No reason to show it now.\");\n        },\n    }, {\n        content: 'Answer Q1 with Answer 3',  // This shows Q3.\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 3\")',\n    }, {\n        content: 'Check that questions Q2 and Q4 are hidden',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        run : () => {\n            expectHiddenQuestion(\"Q2\", \"Q2 should stay hidden.\");\n            expectHiddenQuestion(\"Q4\", \"Q4 should stay hidden.\");\n        },\n    }, {\n        content: 'Answer Q3 with Answer 2',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Answer Q1 with Answer 2',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Check that only question 1 is now the only one visible again',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        run : () => {\n            expectHiddenQuestion(\"Q2\", \"Q2's trigger is gone, again.\");\n            expectHiddenQuestion(\"Q3\", \"As Q2's gone, so should this one.\");\n            expectHiddenQuestion(\"Q4\", \"No reason to show it now.\");\n        },\n    }, {\n        content: 'Click Submit and finish the survey',\n        trigger: 'button[value=\"finish\"]',\n    },\n    // Final page\n    {\n        content: 'Thank you',\n        trigger: 'h1:contains(\"Thank you!\")',\n        isCheck: true,\n    }\n\n]});\n\nexport function expectHiddenQuestion (questionTitle, msg){\n    if ($(`div.js_question-wrapper.d-none:contains('${questionTitle}')`).length !== 1) {\n        throw new TourError(msg);\n    }\n}\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { expectHiddenQuestion } from \"@survey/../tests/tours/survey_chained_conditional_questions\";\n\nregistry.category(\"web_tour.tours\").add('test_survey_conditional_question_on_different_page', {\n    test: true,\n    url: '/survey/start/1cb935bd-2399-4ed1-9e10-c649318fb4dc',\n    steps: () => [\n        {\n            content: 'Click on Start',\n            trigger: 'button.btn:contains(\"Start\")',\n        }, {\n            content: 'Answer Q1 with Answer 1',\n            trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 1\")',\n        }, {\n            content: 'Go to next page',\n            trigger: 'button[value=\"next\"]',\n        }, {\n            content: 'Check that Q3 is visible',\n            trigger: 'div.js_question-wrapper:contains(\"Q3\")',\n            isCheck: true,\n        }, {\n            content: 'Answer Q2 with Answer 2',\n            trigger: 'div.js_question-wrapper:contains(\"Q2\") label:contains(\"Answer 2\")',\n        }, {\n            content: 'Check that Q3 is still visible',\n            trigger: 'div.js_question-wrapper:contains(\"Q3\")',\n            isCheck: true,\n        }, {\n            content: 'Go back',\n            trigger: 'button[value=\"previous\"]',\n        }, {\n            content: 'Answer Q1 with Answer 2',\n            trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 2\")',\n        }, {\n            content: 'Go to next page',\n            trigger: 'button[value=\"next\"]',\n        }, {\n            content: 'Check that Q3 is hidden',\n            trigger: 'div.js_question-wrapper:contains(\"Q2\")',\n            run : () => expectHiddenQuestion(\"Q3\", \"Q3 should be hidden as q1_a1 trigger is not selected anymore\"),\n        }, {\n            content: 'Answer Q2 with Answer 1',\n            trigger: 'div.js_question-wrapper:contains(\"Q2\") label:contains(\"Answer 1\")',\n        }, {\n            content: 'Check that Q3 is now visible again',\n            trigger: 'div.js_question-wrapper:contains(\"Q3\")',\n            isCheck: true,\n        }\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('survey_tour_test_survey_form_triggers', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: 'Go to Survey',\n        trigger: '.o_app[data-menu-xmlid=\"survey.menu_surveys\"]',\n    }, {\n        content: \"Create a new survey\",\n        trigger: \".o-kanban-button-new\",\n    }, {\n        content: \"Set the Survey's title\",\n        trigger: \".o_field_widget[name=title] textarea\",\n        run: \"text Test survey\",\n    }, {\n        content: \"Add a first question\",\n        trigger: \"td.o_field_x2many_list_row_add a\",\n    }, {\n        content: \"Set the first question's title\",\n        trigger: \".modal-content .o_field_widget[name=title] input\",\n        run: \"text Question 1\",\n    },\n    ...addTwoAnswers(),\n    ...saveAndNew(),\n    {\n        content: \"Set the second question's title\",\n        trigger: \".o_field_widget[name=title] input\",\n        run: \"text Question 2\",\n        in_modal: true,\n    },\n    ...addTwoAnswers(),\n    ...changeTab(\"options\"),\n    {\n        content: \"Set a trigger for the first question\",\n        trigger: \".o_field_widget[name=triggering_answer_ids] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the first question's first answer as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 1 : Answer A\")',\n        run: 'click',\n        in_modal: true,\n    },\n    ...changeTab(\"answers\"),\n    ...saveAndNew(),\n    {\n        content: \"Set the third question's title\",\n        trigger: \".o_field_widget[name=title] input\",\n        run: \"text Question 3\",\n        in_modal: true,\n    },\n    ...addTwoAnswers(),\n    ...changeTab(\"options\"),\n    {\n        content: \"Set a trigger for the second question\",\n        trigger: \".o_field_widget[name=triggering_answer_ids] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the second question's second answer as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 2 : Answer B\")',\n        run: 'click',\n        in_modal: true,\n    },\n    ...stepUtils.saveForm(),\n    {\n        content: \"Check that Question 2 has 'normal' trigger icon\",\n        trigger: \"tr:contains('Question 2') button i.fa-code-fork\",\n        isCheck: true,\n    }, {\n        content: \"Check that Question 3 has 'normal' trigger icon\",\n        trigger: \"tr:contains('Question 3') button i.fa-code-fork\",\n        isCheck: true,\n    }, {\n        content: \"Move Question 3 above its trigger (Question 2)\",\n        trigger: \"tr.o_data_row:nth-child(3) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(2)\",\n    }, {\n        content: \"Check that Question 3 has 'warning' trigger icon\",\n        trigger: \"tr:contains('Question 3') button i.fa-exclamation-triangle\",\n        isCheck: true,\n    }, {\n        content: \"Open that question to check the server's misplacement evaluation agrees\",\n        trigger: \"tr.o_data_row td:contains('Question 3')\",\n        run: \"click\",\n    }, {\n        content: \"Check that an alert is shown\",\n        trigger: \".o_form_sheet_bg div:first-child.alert-warning:contains('positioned before some or all of its triggers')\",\n        in_modal: true,\n    },\n    ...changeTab(\"options\"),\n    {\n        content: \"Remove invalid trigger\",\n        trigger: \".o_field_widget[name=triggering_answer_ids] span:contains('Question 2') a.o_delete\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Check that the alert is gone\",\n        trigger: `.o_form_sheet_bg div:first-child:not(.alert-warning).o_form_sheet`,\n        in_modal: true,\n        isCheck: true,\n    }, {\n        content: \"Choose a new valid trigger\",\n        trigger: \".o_field_widget[name=triggering_answer_ids] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the first question's second answer as trigger, then\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 1 : Answer B\")',\n        run: 'click',\n    },\n    ...stepUtils.saveForm(),\n    {\n        content: \"Check that Question 3 has its 'normal' trigger icon back\",\n        trigger: \"tr:contains('Question 3') button i.fa-code-fork\",\n        isCheck: true,\n    }, {\n        content: \"Move Question 3 back below Question 2\",\n        trigger: \"tr.o_data_row:nth-child(2) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(3)\",\n    }, {\n        content: \"Open that question again\",\n        trigger: \"tr.o_data_row td:contains('Question 3')\",\n        run: \"click\",\n    },\n    ...changeTab(\"options\"),\n    {\n        content: \"Add a second trigger to confirm we can now use Question 2 again\",\n        trigger: \".modal-content .o_field_widget[name=triggering_answer_ids] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Add the second question's second answer as trigger, then\",\n        trigger: '.modal-content ul.ui-autocomplete a:contains(\"Question 2 : Answer B\")',\n        run: \"click\",\n    },\n    ...stepUtils.saveForm(),\n    // Move question 1 below question 3,\n    {\n        content: \"Move Question 1 back below Question 3\",\n        trigger: \"tr.o_data_row:nth-child(1) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(3)\",\n    }, {\n        content: \"Check that Question 3 has 'warning' trigger icon\",\n        trigger: \"tr:contains('Question 3') button i.fa-exclamation-triangle\",\n        isCheck: true,\n    }, {\n        content: \"Open that question again\",\n        trigger: \"tr.o_data_row td:contains('Question 3')\",\n        run: \"click\",\n    }, {\n        content: \"Check that an alert is shown also when only one trigger is misplaced\",\n        trigger: \".o_form_sheet_bg div:first-child.alert-warning:contains('positioned before some or all of its triggers')\",\n        in_modal: true,\n    },\n    ...changeTab(\"options\"),\n    {\n        content: \"Remove temporarily used trigger\",\n        trigger: \".o_field_widget[name=triggering_answer_ids] span:contains('Question 1') a.o_delete\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Check that the alert is gone in this case too\",\n        trigger: `.o_form_sheet_bg div:first-child:not(.alert-warning).o_form_sheet`,\n        in_modal: true,\n        isCheck: true,\n    },\n    ...stepUtils.saveForm(),\n    {\n        content: \"Check that Question 3 has its 'normal' trigger icon back\",\n        trigger: \"tr:contains('Question 3') button i.fa-code-fork\",\n        isCheck: true,\n    }, {\n        content: \"Move Question 1 back above Question 2\",\n        trigger: \"tr.o_data_row:nth-child(3) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(1)\",\n    },\n    // Deleting trigger answers or whole question gracefully remove the trigger automatically\n    {\n        content: \"Open Question 2 again\",\n        trigger: \"tr.o_data_row td:contains('Question 2')\",\n        run: \"click\",\n    }, {\n        content: \"Delete Answer B\",\n        trigger: \"div[name=suggested_answer_ids] tr:contains('Answer B') button[name=delete]\",\n    },\n    ...stepUtils.saveForm(),\n    {\n        content: \"Check that Question 3 no longer has a trigger icon\",\n        trigger: \"div[name=question_and_page_ids] tr:contains('Question 3') div.o_widget_survey_question_trigger:not(:has(button))\",\n        allowInvisible: true,\n        isCheck: true,\n    }, {\n        content: \"Check that Question 2 however still has a trigger icon\",\n        trigger: \"tr:contains('Question 2') button i.fa-code-fork\",\n        isCheck: true,\n    }, {\n        content: \"Delete Question 1\",\n        trigger: \"tr:contains('Question 1') button[name=delete]\",\n        run: \"click\",\n    }, {\n        content: \"Check that now Question 2 too does no longer have a trigger icon\",\n        trigger: \"tr:contains('Question 2') div.o_widget_survey_question_trigger:not(:has(button))\",\n        allowInvisible: true,\n        isCheck: true,\n    }, {\n        content: 'Go back to Kanban View',\n        trigger: '[data-menu-xmlid=\"survey.menu_survey_form\"]',\n    }, {\n        content: \"Check that we arrived on the kanban view\",\n        trigger: \".o-kanban-button-new\",\n        isCheck: true,\n    }\n]});\n\nfunction addTwoAnswers() {\n    return [\n        {\n            content: \"Add the first answer\",\n            trigger: \"div[name=suggested_answer_ids] .o_field_x2many_list_row_add a\",\n            in_modal: true,\n        }, {\n            trigger: 'tr.o_selected_row div[name=value] input',\n            run: 'text Answer A',\n            in_modal: true,\n        }, {\n            content: \"Add the second answer\",\n            trigger: \"div[name=suggested_answer_ids] .o_field_x2many_list_row_add a\",\n            in_modal: true,\n        }, {\n            trigger: 'tr:nth-child(2).o_selected_row div[name=value] input',\n            run: 'text Answer B',\n            in_modal: true,\n        }\n    ];\n}\n\nfunction saveAndNew() {\n    return [\n        {\n            content: \"Click Save & New\",\n            trigger: \"button.o_form_button_save_new\",\n            in_modal: true,\n        }, {\n            content: \"Wait for the dialog to render new question form\",\n            // suggested_answer_ids required even though in_modal is specified...\n            trigger: \"div[name=suggested_answer_ids] .o_list_table tbody tr:first-child:not(.o_data_row)\", // empty answers list\n            in_modal: true,\n            isCheck: true,\n        }\n    ];\n}\n\n\nfunction changeTab(tabName) {\n    // Currently, .modal-content is required even though \"in_modal\"\n    return [\n        {\n            content: `Go to ${tabName} tab`,\n            trigger: `.modal-content a[name=${tabName}].nav-link`,\n            in_modal: true\n        }, {\n            content: `Wait for tab ${tabName} tab`,\n            trigger: `.modal-content a[name=${tabName}].nav-link.active`,\n            in_modal: true,\n            isCheck: true,\n        }\n    ];\n}\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_survey_prefill', {\n    test: true,\n    url: '/survey/start/b137640d-14d4-4748-9ef6-344caaaaaae',\n    steps: () => [{      // Page-1\n        trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Survey\")',\n    }, { // Question: Where do you live?\n        trigger: 'div.js_question-wrapper:contains(\"Where do you live?\") input',\n        run: 'text Grand-Rosiere',\n    }, { // Question: When is your date of birth?\n        trigger: 'div.js_question-wrapper:contains(\"When is your date of birth?\") input',\n        run: 'text 05/05/1980',\n    }, { // Question: How frequently do you buy products online?\n        trigger: 'div.js_question-wrapper:contains(\"How frequently do you buy products online?\") label:contains(\"Once a week\")',\n    }, { // Question: How many times did you order products on our website?\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input',\n        run: 'text 42',\n    }, {\n        content: 'Click on Next Page',\n        trigger: 'button[value=\"next\"]',\n    },\n    // Page-2\n    { // Question: Which of the following words would you use to describe our products?\n        content: 'Answer Which of the following words would you use to describe our products (High Quality)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\")',\n    }, {\n        content: 'Answer Which of the following words would you use to describe our products (Good value for money)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\")',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The new layout and design is fresh and up-to-date)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") td:first',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (It is easy to find the product that I want)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The tool to compare the products is useful to make a choice)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") td:eq(3)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The checkout process is clear and secure)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (I have added products to my wishlist)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") td:last',\n    }, {\n        content: 'Answer Do you have any other comments, questions, or concerns',\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: 'text Is the prefill working?',\n    }, {\n        // Go back to previous page\n        content: 'Click on the previous page name in the breadcrumb',\n        trigger: 'ol.breadcrumb a:first',\n    }, {\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input',\n        run: function () {\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input');\n            if ($inputQ3.val() === '42.0') {\n                $('.o_survey_title').addClass('prefilled');\n            }\n        }\n    }, {\n        trigger: '.o_survey_title.prefilled',\n        run: function () {\n            // check that all the answers are prefilled in Page 1\n            var $inputQ1 = $('div.js_question-wrapper:contains(\"Where do you live?\") input');\n            if ($inputQ1.val() !== 'Grand-Rosiere') {\n                return;\n            }\n\n            var $inputQ2 = $('div.js_question-wrapper:contains(\"When is your date of birth?\") input');\n            if ($inputQ2.val() !== '05/05/1980') {\n                return;\n            }\n\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"How frequently do you buy products online?\") label:contains(\"Once a week\") input');\n            if (!$inputQ3.is(':checked')) {\n                return;\n            }\n\n            var $inputQ4 = $('div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input');\n            if ($inputQ4.val() !== '42.0') {\n                return;\n            }\n\n            $('.o_survey_title').addClass('tour_success');\n        }\n    }, {\n        trigger: '.o_survey_title.tour_success'\n    }, {\n        content: 'Click on Next Page',\n        trigger: 'button[value=\"next\"]',\n    }, {\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: function () {\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea');\n            if ($inputQ3.val() === \"Is the prefill working?\") {\n                $('.o_survey_title').addClass('prefilled2');\n            }\n        }\n    }, {\n        trigger: '.o_survey_title.prefilled2',\n        run: function () {\n            // check that all the answers are prefilled in Page 2\n            var $input1Q1 = $('div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\") input');\n            if (!$input1Q1.is(':checked')) {\n                return;\n            }\n\n            var $input2Q1 = $('div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\") input');\n            if (!$input2Q1.is(':checked')) {\n                return;\n            }\n\n            var $input1Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") input:first');\n            if (!$input1Q2.is(':checked')) {\n                return;\n            }\n\n            var $input2Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") input:eq(2)');\n            if (!$input2Q2.is(':checked')) {\n                return;\n            }\n\n            var $input3Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") input:eq(3)');\n            if (!$input3Q2.is(':checked')) {\n                return;\n            }\n\n            var $input4Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") input:eq(2)');\n            if (!$input4Q2.is(':checked')) {\n                return;\n            }\n\n            var $input5Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") input:last');\n            if (!$input5Q2.is(':checked')) {\n                return;\n            }\n\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea');\n            if ($inputQ3.val() !== \"Is the prefill working?\") {\n                return;\n            }\n\n            $('.o_survey_title').addClass('tour_success_2');\n        }\n    }, {\n        trigger: '.o_survey_title.tour_success_2',\n        isCheck: true,\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from '@web/core/registry';\n\nregistry.category('web_tour.tours').add('test_survey_roaming_mandatory_questions', {\n    test: true,\n    url: '/survey/start/853ebb30-40f2-43bf-a95a-bbf0e367a365',\n    steps: () => [{\n        content: 'Click on Start',\n        trigger: 'button.btn:contains(\"Start\")',\n    }, {\n        content: 'Skip question Q1',\n        trigger: 'button.btn:contains(\"Continue\")',\n    }, {\n        content: 'Skip question Q2',\n        extra_trigger: 'div.js_question-wrapper:contains(\"Q2\")',\n        trigger: 'button.btn:contains(\"Continue\")',\n    }, {\n        content: 'Check if Q3 button is Submit',\n        trigger: 'button.btn:contains(\"Submit\")',\n        isCheck: true,\n    }, {\n        content: 'Go back to Q2',\n        trigger: 'button.btn[value=\"previous\"]',\n    }, {\n        content: 'Check if the alert box is present',\n        trigger: 'div.o_survey_question_error span',\n        isCheck: true,\n    }, {\n        content: 'Skip question Q2 again',\n        trigger: 'button.btn:contains(\"Continue\")',\n    }, {\n        content: 'Answer Q3',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Click on Submit',\n        trigger: 'button.btn:contains(\"Submit\")',\n    }, {\n        content: 'Check if question is Q1',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        isCheck: true,\n    }, {\n        content: 'Click on \"Next Skipped\" button',\n        trigger: 'button.btn:contains(\"Next Skipped\")',\n    }, {\n        content: 'Check if question is Q2',\n        trigger: 'div.js_question-wrapper:contains(\"Q2\")',\n        isCheck: true,\n    }, {\n        content: 'Click on \"Next Skipped\" button',\n        trigger: 'button.btn:contains(\"Next Skipped\")',\n    }, {\n        content: 'Check if question is Q1 again (should loop on skipped questions)',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        isCheck: true,\n    }, {\n        content: 'Answer Q1',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Check if the visible question is the skipped question Q2',\n        trigger: 'div.js_question-wrapper:contains(\"Q2\")',\n        isCheck: true,\n    }, {\n        content: 'Answer Q2',\n        trigger: 'div.js_question-wrapper:contains(\"Q2\") label:contains(\"Answer 3\")',\n    }, {\n        content: 'Click on Submit',\n        trigger: 'button.btn:contains(\"Submit\")',\n    }, {\n        content: 'Check if the survey is done',\n        trigger: 'div.o_survey_finished h1:contains(\"Thank you!\")',\n        isCheck: true,\n    }],\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import wTourUtils from \"@website/js/tours/tour_utils\";\n\n    function applyForAJob(jobName, application) {\n        return [{\n            content: \"Select Job\",\n            trigger: `.oe_website_jobs h3:contains(${jobName})`,\n        }, {\n            content: \"Apply\",\n            trigger: \".js_hr_recruitment a:contains('Apply')\",\n        }, {\n            content: \"Complete name\",\n            trigger: \"input[name=partner_name]\",\n            run: `text ${application.name}`,\n        }, {\n            content: \"Complete Email\",\n            trigger: \"input[name=email_from]\",\n            run: `text ${application.email}`,\n        }, {\n            content: \"Complete phone number\",\n            trigger: \"input[name=partner_phone]\",\n            run: `text ${application.phone}`,\n        }, {\n            content: \"Complete LinkedIn profile\",\n            trigger: \"input[name=linkedin_profile]\",\n            run: `text linkedin.com/in/${application.name.toLowerCase().replace(' ', '-')}`,\n        }, {\n            content: \"Complete Subject\",\n            trigger: \"textarea[name=description]\",\n            run: `text ${application.subject}`,\n        }, { // TODO: Upload a file ?\n            content: \"Send the form\",\n            trigger: \".s_website_form_send\",\n        }, {\n            content: \"Check the form is submitted without errors\",\n            trigger: \"#jobs_thankyou h1:contains('Congratulations')\",\n            isCheck: true,\n        }];\n    }\n\n    registry.category(\"web_tour.tours\").add('website_hr_recruitment_tour', {\n        test: true,\n        url: '/jobs',\n        steps: () => [\n        ...applyForAJob('Guru', {\n            name: 'John Smith',\n            email: 'john@smith.com',\n            phone: '118.218',\n            subject: '### [GURU] HR RECRUITMENT TEST DATA ###',\n        }),\n        {\n            content: \"Go back to the jobs page\",\n            trigger: \"body\",\n            run: () => {\n                window.location.href = '/jobs';\n            },\n        },\n        ...applyForAJob('Internship', {\n            name: 'Jack Doe',\n            email: 'jack@doe.com',\n            phone: '118.712',\n            subject: '### HR [INTERN] RECRUITMENT TEST DATA ###',\n        }),\n    ]});\n\n    wTourUtils.registerWebsitePreviewTour('website_hr_recruitment_tour_edit_form', {\n        test: true,\n        url: '/jobs',\n    }, () => [{\n        content: 'Go to the Guru job page',\n        trigger: 'iframe a[href*=\"guru\"]',\n    }, {\n        content: 'Go to the Guru job form',\n        trigger: 'iframe a[href*=\"apply\"]',\n    }, {\n        content: 'Check if the Guru form is present',\n        trigger: 'iframe form'\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: 'Add a fake default value for the job_id field',\n        trigger: \"body\",\n        run: () => {\n            // It must be done in this way because the editor does not allow to\n            // put a default value on a field with type=\"hidden\".\n            document.querySelector('.o_iframe:not(.o_ignore_in_tour)').contentDocument.querySelector('input[name=\"job_id\"]').value = 'FAKE_JOB_ID_DEFAULT_VAL';\n        },\n    }, {\n        content: 'Edit the form',\n        trigger: 'iframe input[type=\"file\"]',\n    }, {\n        content: 'Add a new field',\n        trigger: 'we-button[data-add-field]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Go back to /jobs page after save',\n        trigger: 'iframe body',\n        run: () => {\n            window.location.href = wTourUtils.getClientActionUrl('/jobs');\n        }\n    }, {\n        content: 'Go to the Internship job page',\n        trigger: 'iframe a[href*=\"internship\"]',\n    }, {\n        content: 'Go to the Internship job form',\n        trigger: 'iframe a[href*=\"apply\"]',\n    }, {\n        content: 'Check that a job_id has been loaded',\n        trigger: 'iframe form',\n        run: () => {\n            const selector =\n                'input[name=\"job_id\"]:not([value=\"\"]):not([value = \"FAKE_JOB_ID_DEFAULT_VAL\"])';\n            if (!document.querySelector('.o_iframe:not(.o_ignore_in_tour)').contentDocument.querySelector(selector)) {\n                console.error('The job_id field has a wrong value');\n            }\n        }\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: 'Verify that the job_id field has kept its default value',\n        trigger: \"body\",\n        run: () => {\n            const doc = document.querySelector(\".o_iframe:not(.o_ignore_in_tour)\").contentDocument;\n            const id = doc.querySelector('[data-oe-model=\"hr.job\"]').dataset.oeId;\n            if (!doc.querySelector(`input[name=\"job_id\"][value=\"${id}\"]`)) {\n                console.error('The job_id field has lost its default value');\n            }\n        }\n    },\n]);\n\n    // This tour addresses an issue that occurred in a website form containing\n    // the 'hide-change-model' attribute. Specifically, when a model-required\n    // field is selected, the alert message should not display an undefined\n    // action name.\n    wTourUtils.registerWebsitePreviewTour('model_required_field_should_have_action_name', {\n        test: true,\n        url: '/jobs',\n    }, () => [{\n        content: \"Select Job\",\n        trigger: \"iframe h3:contains('Guru')\",\n    }, {\n        content: \"Apply\",\n        trigger: \"iframe a:contains('Apply')\",\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"click on the your name field\",\n        trigger: \"iframe #hr_recruitment_form div.s_website_form_model_required\",\n    }, {\n        content: \"Select model-required field\",\n        trigger: \"we-customizeblock-options we-alert > span:not(:contains(undefined))\",\n        isCheck: true,\n    }\n]);\n\nexport default {};\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import wTourUtils from \"@website/js/tours/tour_utils\";\n\n    wTourUtils.registerWebsitePreviewTour('website_crm_pre_tour', {\n        test: true,\n        url: '/contactus',\n        edition: true,\n    }, () => [{\n        content: \"Select contact form\",\n        trigger: \"iframe #wrap.o_editable section.s_website_form\",\n    }, {\n        content: \"Open action select\",\n        trigger: \"we-select:has(we-button:contains('Create an Opportunity')) we-toggler\",\n        extra_trigger: \"#oe_snippets .o_we_customize_snippet_btn.active\",\n    }, {\n        content: \"Select 'Create an Opportunity' as form action\",\n        trigger: \"we-select we-button:contains('Create an Opportunity')\",\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Ensure form model has changed and page reload is done after save\",\n        trigger: \"iframe section.s_website_form form[data-model_name='crm.lead']\",\n        isCheck: true,\n    }]);\n\n    registry.category(\"web_tour.tours\").add('website_crm_tour', {\n        test: true,\n        url: '/contactus',\n        steps: () => [{\n        content: \"Complete name\",\n        trigger: \"input[name=contact_name]\",\n        run: \"text John Smith\",\n    }, {\n        content: \"Complete phone number\",\n        trigger: \"input[name=phone]\",\n        run: \"text +32 485 118.218\"\n    }, {\n        content: \"Complete Email\",\n        trigger: \"input[name=email_from]\",\n        run: \"text john@smith.com\"\n    }, {\n        content: \"Complete Company\",\n        trigger: \"input[name=partner_name]\",\n        run: \"text Odoo S.A.\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"input[name=name]\",\n        run: \"text Useless message\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"textarea[name=description]\",\n        run: \"text ### TOUR DATA ###\"\n    }, {\n        content: \"Send the form\",\n        trigger: \".s_website_form_send\"\n    }, {\n        content: \"Check we were redirected to the success page\",\n        trigger: \"#wrap:has(h1:contains('Thank You!'))\",\n        isCheck: true,\n    }]});\n\n    registry.category(\"web_tour.tours\").add('website_crm_catch_logged_partner_info_tour', {\n        test: true,\n        url: '/contactus',\n        steps: () => [{\n        content: \"Complete Subject\",\n        trigger: \"input[name=name]\",\n        run: \"text Useless subject\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"textarea[name=description]\",\n        run: \"text ### TOUR DATA PREFILL ###\"\n    }, {\n        content: \"Send the form\",\n        trigger: \".s_website_form_send\"\n    }, {\n        content: \"Check we were redirected to the success page\",\n        trigger: \"#wrap:has(h1:contains('Thank You!'))\",\n        isCheck: true,\n    }]});\n\n    export default {};\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail_enterprise/tests/test_discuss_channel_expand.py\n */\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js\", {\n        test: true,\n        steps: () => [\n            {\n                content:\n                    \"Click on 'Open Actions Menu' in the chat window header to show expand button\",\n                trigger:\n                    '.o-mail-ChatWindow:contains(\"test-mail-channel-expand-tour\") [title=\"Open Actions Menu\"]',\n            },\n            {\n                content: \"Click on expand button to open channel in Discuss\",\n                trigger:\n                    '.o-mail-ChatWindow:contains(\"test-mail-channel-expand-tour\") [title=\"Open in Discuss\"]',\n            },\n            {\n                content:\n                    \"Check that first message of #test-mail-channel-expand-tour is shown in Discuss app\",\n                trigger:\n                    '.o-mail-Discuss-content .o-mail-Message-body:contains(\"test-message-mail-channel-expand-tour\")',\n                run: () => {},\n            },\n        ],\n    });\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst oldWriteText = navigator.clipboard.writeText;\n\nregistry.category(\"web_tour.tours\").add('appointment_hr_recruitment_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        trigger: '.o_app[data-menu-xmlid=\"hr_recruitment.menu_hr_recruitment_root\"]',\n        run: 'click',\n    }, {\n        trigger: '.o_kanban_record:contains(\"Test Job\")',\n        run: 'click',\n    }, {\n        trigger: '.o_kanban_record:contains(\"Test Applicant\")',\n        run: 'click',\n    },{\n        trigger: 'button[name=\"action_makeMeeting\"]',\n        run: 'click',\n    }, {\n        trigger: 'button.dropdownAppointmentLink',\n        run: 'click',\n    }, {\n        trigger: '.o_appointment_button_link:contains(\"Test AppointmentHrRecruitment\")',\n        run: () => {\n            // Patch and ignore write on clipboard in tour as we don't have permissions\n            navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n            $('.o_appointment_button_link:contains(\"Test AppointmentHrRecruitment\")').click();\n        },\n    }, {\n        trigger: '.o_appointment_discard_slots',\n        run: () => {\n            $('.o_appointment_discard_slots').click();\n            // Re-patch the function with the previous writeText\n            navigator.clipboard.writeText = oldWriteText;\n        },\n    }],\n});\n", "/** @odoo-module **/\n\nimport { jsonrpc } from \"@web/core/network/rpc_service\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            $('body').addClass('wait');\n            window.location = '/web';\n        }\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n        run() {}\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\n/**\n * Checks that the TOTP button is in the specified state (true = enabled =\n * can disable, false = disabled = can enable), then closes the profile dialog\n * if it's one (= hr not installed).\n *\n * If no totp state is provided, just checks that the toggle exists.\n */\nfunction closeProfileDialog({content, totp_state}) {\n    let trigger;\n    switch (totp_state) {\n    case true: trigger = 'button[name=action_totp_disable]'; break;\n    case false: trigger = 'button[name=action_totp_enable_wizard]'; break;\n    case undefined: trigger = 'button.o_auth_2fa_btn'; break;\n    default: throw new Error(`Invalid totp state ${totp_state}`)\n    }\n\n    return [{\n        content,\n        trigger,\n        run() {\n            const $modal = this.$anchor.parents('.o_dialog');\n            if ($modal.length) {\n                $modal.find('button[name=preference_cancel]').click()\n            }\n        }\n    }, {\n        trigger: 'body',\n        async run() {\n            while (document.querySelector('.o_dialog')) {\n                await Promise.resolve();\n            }\n            this.$anchor.addClass('dialog-closed');\n        },\n    }, {\n        trigger: 'body.dialog-closed',\n        run() {},\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_tour_setup', {\n    test: true,\n    url: '/web',\n    steps: () => [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n}, {\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text test_user',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"When requested to do so\")',\n    run() {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    async run(helpers) {\n        const $secret = this.$anchor.closest('div').find('[name=secret] span:first-child');\n        const $copyBtn = $secret.find('button');\n        $copyBtn.remove();\n        const token = await jsonrpc('/totphook', {\n            secret: $secret.text()\n        });\n        helpers.text(token, '[name=code] input');\n        helpers.click('button.btn-primary:contains(Activate)');\n        $('body').addClass('got-token')\n    }\n}, {\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n    run() {}\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: true,\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_enabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text test_user',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text test_user',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        // TODO: if tours are ever async-aware the click should get moved out,\n        //       but currently there's no great way to make the tour wait until\n        //       we've retrieved and set the token: `:empty()` is aboutthe text\n        //       content of the HTML element, not the JS value property. We\n        //       could set a class but that's really no better than\n        //       procedurally clicking the button after we've set the input.\n        const token = await jsonrpc('/totphook');\n        helpers.text(token);\n        helpers.click('button:contains(\"Log in\")');\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run() {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_device', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text test_user',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text test_user',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await jsonrpc('/totphook')\n        helpers.text(token);\n        helpers.click('button:contains(\"Log in\")');\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)'\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: 'text test_user',\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: 'text test_user',\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run() {}\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_disable]',\n}, {\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text test_user',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: false\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_disabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text test_user',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text test_user',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n// close the dialog if that makes sense\n...closeProfileDialog({})\n]});\n\nconst columns = {};\nregistry.category(\"web_tour.tours\").add('totp_admin_disables', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n    run() {}\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run(helpers) {\n        // funny story: the users view we're trying to reach, sometimes we're\n        // already there, but if we re-click the next step executes before the\n        // action has the time to re-load, the one after that doesn't, and our\n        // selection get discarded by the action reloading, so here try to\n        // see if we're already on the users action through the breadcrumb and\n        // just close the menu if so\n        const $crumb = $('.breadcrumb');\n        if ($crumb.text().indexOf('Users') === -1) {\n            // on general settings page, click menu\n            helpers.click();\n        } else {\n            // else close menu\n            helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n        }\n    }\n}, {\n    content: \"Find test_user User\",\n    trigger: 'td.o_data_cell:contains(\"test_user\")',\n    run(helpers) {\n        const $titles = this.$anchor.closest('table').find('tr:first th');\n        for (let i=0; i<$titles.length; ++i) {\n            columns[$titles[i].getAttribute('data-name')] = i;\n        }\n        const $row = this.$anchor.closest('tr');\n        const sel = $row.find('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")'\n}, {\n    content: \"Select totp remover\",\n    trigger: 'span.dropdown-item:contains(Disable two-factor authentication)'\n}, { // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode & input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text admin',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check 2FA button\",\n    trigger: 'body',\n    run: () => {\n        const button = document.querySelector('button[name=action_totp_enable_wizard]').disabled\n        if (!button) {\n            console.error(\"2FA button should be disabled.\");\n        }\n    },\n}\n]})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n        run: () => {}\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const $crumb = $('.breadcrumb');\n            if ($crumb.text().indexOf('Users') === -1) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n            }\n        }\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_admin_self_invite', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that user cannot invite themselves to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        const inviteBtn = $('button:contains(Invite to use 2FA)')[0];\n        if (!inviteBtn) {\n            $('body').addClass('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\",\n    isCheck: true,\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_invite', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that test_user user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n    isCheck: true,\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { jsonrpc } from \"@web/core/network/rpc_service\";\n\nregistry.category(\"web_tour.tours\").add('totportal_tour_setup', {\n    test: true,\n    url: '/my/security',\n    steps: () => [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run: async function(helpers) {\n        const secret = this.$anchor.closest('div').find('span[name=\"secret\"]').text();\n        const token = await jsonrpc('/totphook', {\n            secret\n        });\n        helpers._text(helpers._get_action_values('input[name=code]'), token);\n        helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n    }\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n    run: () => {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_enabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await jsonrpc('/totphook');\n        helpers._text(helpers._get_action_values(), token);\n        // FIXME: is there a way to put the button as its own step trigger without\n        //        the tour straight blowing through and not waiting for this?\n        helpers._click(helpers._get_action_values('button:contains(\"Log in\")'));\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n    run: () => {}\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n    run: () => {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_disabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n    run: () => {}\n}]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * @param {string} tourName\n * @param {string} templateName\n */\nexport function registerTemplateTour(tourName, templateName) {\n    registry.category(\"web_tour.tours\").add(\n        tourName,\n        {\n            test: true,\n            url: \"/web\",\n            steps: () => [\n            {\n                trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n                content: \"Open document app\",\n                run: \"click\",\n            },\n            {\n                trigger: 'button[data-menu-xmlid=\"documents.Config\"]',\n                content: \"Open Configuration menu\",\n                run: \"click\",\n            },\n            {\n                trigger:\n                    '.dropdown-item[data-menu-xmlid=\"documents_spreadsheet.menu_technical_spreadsheet_template\"]',\n                content: \"Open Configuration menu\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_searchview .o_facet_remove\",\n                content: 'Remove \"My templates\" filter',\n                run: \"click\",\n            },\n            {\n                trigger: \"input.o_searchview_input\",\n                content: \"Search the template\",\n                run: `text ${templateName}`,\n            },\n            {\n                trigger: \".o_menu_item.focus\",\n                content: \"Validate search\",\n                run: \"click\",\n            },\n            {\n                trigger: `tr.o_data_row:first-child td[data-tooltip=\"${templateName}\"]`,\n                content: \"Wait search to complete\",\n            },\n            {\n                trigger: \"button.o-new-spreadsheet\",\n                content: \"Create spreadsheet from template\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-spreadsheet\",\n                content: \"Redirected to spreadsheet\",\n                isCheck: true,\n            },\n        ]\n    });\n}\n", "/** @odoo-module**/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_clone_xlsx\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n        },\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Test folder\")',\n            content: \"Open Test folder workspace\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Test folder\")',\n            extra_trigger: '.o_inspector_value:contains(\"1\")',\n            content: \"Make sure we start with one card\",\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Open xlsx card\",\n        },\n        {\n            trigger: \"input#willArchive\",\n            content: \"Uncheck sending to trash\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Open with Odoo Spreadsheet\",\n        },\n        {\n            trigger: \".o-spreadsheet-topbar\",\n            content: \"Check that we are now in Spreadsheet\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first:has('.o_document_spreadsheet')\",\n            content: \"Check a spreadsheet document was created\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Re-open the xlsx card\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Open with Odoo Spreadsheet without unchecking the box\",\n        },\n        {\n            trigger: \".o-spreadsheet-topbar\",\n            content: \"Check that we are now in Spreadsheet\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_record .o_document_xlsx))\",\n            content: \"Check that XLSX is no longer visible\",\n            isCheck: true,\n        },\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Trash\")',\n            content: \"Open Trash\",\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Select xlsx document\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Restore xlsx document\",\n        },\n        {\n            trigger: \".o_kanban_renderer\",\n            extra_trigger: '.o_inspector_value:contains(\"3\")',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_create_empty_sheet\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_cp_buttons:contains('Upload') .dropdown-toggle.dropdown-toggle-split\",\n            content: \"Open dropdown\",\n        },\n        {\n            trigger: \".o_documents_kanban_spreadsheet\",\n            content: \"Open template dialog\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-spreadsheet-create\",\n            content: \"Create new spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: 'span[title=\"Fill Color\"]',\n            content: \"Choose a color\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o-color-picker-line-item[data-color=\"#990000\"]',\n            content: \"Choose a color\",\n            run: \"click\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Reopen the sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n            run: 'click',\n        },\n        {\n            trigger: '.o_action_manager:not(:has(.o_spreadsheet_action))',\n            content: \"Wait for the spreadsheet to be properly unloaded\",\n            run() {},\n        },\n    ],\n});\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_create_list_view\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button.o_switch_view.o_list\",\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel .o_cp_action_menus .dropdown-toggle\",\n            extra_trigger: \".o_list_view\",\n            content: \"Open the cog menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel .o_cp_action_menus .dropdown-toggle:contains(Spreadsheet)\",\n            run: function () {\n                this.$anchor[0].dispatchEvent(new MouseEvent(\"mouseenter\"));\n            },\n        },\n        {\n            trigger: \".o_insert_list_spreadsheet_menu\",\n            content: \"Insert in spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Confirm\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-topbar-topleft .o-topbar-menu[data-id='data']\",\n            content: \"Open Data menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-menu-item[data-name='item_list_1']\",\n            content: \"Open List Side Panel\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_pivot_cancel\",\n            content: \"Go back to the list of lists\",\n            run: \"click\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_action_manager:not(:has(.o_spreadsheet_action))',\n            content: \"Wait for the spreadsheet to be properly unloaded\",\n            run() {},\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst SHEET_NAME = \"Res Partner Test Spreadsheet\";\nconst TEMPLATE_NAME = `${SHEET_NAME} - Template`;\n\nregistry.category(\"web_tour.tours\").add(\n    \"documents_spreadsheet_create_template_tour\",\n    {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        ...stepUtils.goToAppSteps(\"documents.menu_root\", \"Open Document app\"),\n        {\n            trigger: 'li[title=\"Test folder\"] header',\n            content: \"Open the test folder\",\n            run: \"click\",\n        },\n        {\n            trigger: `div[title=\"${SHEET_NAME}\"]`,\n            content: \"Select Test Sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `button.o_switch_view.o_list`,\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: `img[title=\"${SHEET_NAME}\"]`,\n            content: \"Open the sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o-topbar-menu[data-id=\"file\"]`,\n            content: \"Open the file menu\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o-menu-item[data-name=\"save_as_template\"]`,\n            content: \"Save as template\",\n            run: \"click\",\n        },\n        {\n            trigger: `button[name=\"save_template\"]`,\n            content: \"Save as template\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[data-menu-xmlid=\"documents.Config\"]',\n            content: \"Open Configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                '.dropdown-item[data-menu-xmlid=\"documents_spreadsheet.menu_technical_spreadsheet_template\"]',\n            content: \"Open Templates menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview .o_facet_remove\",\n            content: 'Remove \"My templates\" filter',\n            run: \"click\",\n        },\n        {\n            trigger: \"input.o_searchview_input\",\n            content: \"Search the template\",\n            run: `text ${TEMPLATE_NAME}`,\n        },\n        {\n            trigger: \".o_menu_item.focus\",\n            content: \"Validate search\",\n            run: \"click\",\n        },\n        {\n            trigger: `tr.o_data_row:first-child td[data-tooltip=\"${TEMPLATE_NAME}\"]`,\n            content: \"Wait search to complete\",\n        },\n        {\n            trigger: \"button.o-new-spreadsheet\",\n            content: \"Create spreadsheet from template\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-spreadsheet\",\n            content: \"Redirected to spreadsheet\",\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\n\nfunction assert(current, expected, info) {\n    if (current !== expected) {\n        fail(info + ': \"' + current + '\" instead of \"' + expected + '\".');\n    }\n}\n\nfunction fail(errorMessage) {\n    throw new TourError(errorMessage);\n}\n\nconst SHEETNAME = \"Res Partner Test Spreadsheet\";\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_open_pivot_sheet\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: 'li[title=\"Test folder\"] header',\n            content: \"Open the test folder\",\n            run: \"click\",\n        },\n        {\n            trigger: `div[title=\"${SHEETNAME}\"]`,\n            content: \"Select Test Sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `button.o_switch_view.o_list`,\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: `img[title=\"${SHEETNAME}\"]`,\n            content: \"Open the sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div.o_topbar_filter_icon\",\n            content: \"Open Filters\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div.pivot_filter\",\n            content: \"\",\n            run: function (actions) {\n                const pivots = document.querySelectorAll(\"div.pivot_filter\");\n                assert(pivots.length, 1, \"There should be one filter\");\n                const pivot = pivots[0];\n                assert(\n                    pivot.querySelector(\"div.o_side_panel_title\").textContent,\n                    \"MyFilter1\",\n                    \"Invalid filter name\"\n                );\n                assert(\n                    Boolean(\n                        pivot.querySelector(\n                            'div.o_multi_record_selector span.badge[title=\"AdminDude\"]'\n                        )\n                    ),\n                    true,\n                    \"Wrong default filter value\"\n                );\n                actions.click(pivot.querySelector(\".o_side_panel_filter_icon.fa-cog\"));\n            },\n        },\n        {\n            trigger: \".o_spreadsheet_filter_editor_side_panel\",\n            content: \"Check filter values\",\n            run: function () {\n                const defaultFilterValue = document.querySelectorAll(\n                    'div.o_multi_record_selector span.badge[title=\"AdminDude\"]'\n                );\n                assert(\n                    defaultFilterValue.length,\n                    1,\n                    \"There should be a default value in the filter...\"\n                );\n                assert(\n                    document.querySelector(\".o_side_panel_related_model input\").value,\n                    \"User\",\n                    \"Wrong model selected\"\n                );\n\n                const fieldsValue = document.querySelector(\n                    \"div.o_model_field_selector_value span.o_model_field_selector_chain_part\"\n                );\n                assert(fieldsValue.textContent.trim(), \"Users\");\n            },\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Sheet is visible in Documents\",\n            isCheck: true,\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils, TourError } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_save_multipage\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n        },\n        {\n            trigger: \".o_cp_buttons:contains('Upload') .dropdown-toggle.dropdown-toggle-split\",\n            content: \"Open dropdown\",\n        },\n        {\n            trigger: \".o_documents_kanban_spreadsheet\",\n            content: \"Open template dialog\",\n        },\n        {\n            trigger: \".o-spreadsheet-create\",\n            content: \"Create new spreadsheet\",\n        },\n        {\n            trigger: \".o-add-sheet\",\n            content: \"Add a sheet\",\n        },\n        {\n            trigger: \".o-sheet-list .o-ripple-container:nth-child(2)\",\n            content: \"Check that there are now two sheets\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first .o_kanban_stack \",\n            content: \"Check is rendered as multipage\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Reopen the sheet\",\n        },\n        {\n            trigger: \".o-sheet .o-sheet-icon\",\n            content: \"Open sheet dropdown\",\n        },\n        {\n            trigger: '.o-popover .o-menu-item[title=\"Delete\"]',\n            content: \"Delete sheet\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Confirm delete sheet\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first\",\n            content: \"Check is rendered as single page\",\n            run: () => {\n                const card = document.querySelectorAll(\n                    \".o_kanban_renderer .o_kanban_record:first-child > div.o_kanban_stack\"\n                );\n                if (card.length > 1) {\n                    throw new TourError(\"The card should not be rendered as multipage.\");\n                }\n            },\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registerTemplateTour } from \"@documents_spreadsheet/../tests/utils/tour\";\n\nregisterTemplateTour(\"spreadsheet_template_features\", \"Template with special characters\");\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\n    \"insert_crm_pivot_in_spreadsheet\",\n    {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: \"Open CRM app\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[data-tooltip=\"Pivot\"]',\n            content: \"Open Pivot view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_pivot_add_spreadsheet\",\n            content: \"Insert pivot in the spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Insert in a new spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-spreadsheet\",\n            content: \"Redirected to spreadsheet\",\n            isCheck: true,\n        },\n    ]\n});\n", "odoo.define('odoo.test.trial.tours.plan.change.warnings', ['web_tour.tour'], function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\nfunction checkPricingChangeWarningShown(options) {\n    const modalTitle = (options || {}).modal_title || \"You are about to modify your pricing plan\";\n    return {\n        content: \"Check that a warning about plan change is shown\",\n        trigger: \".modal-header:contains(\" + modalTitle + \")\",\n        run: function() {}, // this is a check\n        variant: (options || {}).variant,\n        warning_step: true,\n        plan: (options || {}).plan,\n    };\n}\n\nfunction confirmPricingChange(options) {\n    const btnText = (options || {}).button || \"Confirm\";\n    return {\n        content: \"Click on Confirm\",\n        trigger: \".modal-footer .btn-primary:contains(\" + btnText + \")\",\n        run: \"click\",\n        variant: (options || {}).variant,\n        warning_step: true,\n    };\n}\n\n/**\n * Filter steps for a those matching specific conditions\n * @param {*} steps TourStep\n * @param {*} filterFn Function that return True if step should be kept otherwise False\n */\nfunction filterSteps(steps, filterFn) {\n    return steps.filter(filterFn).map((step) => {\n        // clone step and remove non standard keys (mandatory since saas~17.4)\n        const keysToDiscard = ['variant', 'warning_step', 'display_step', 'version'];\n        return Object.fromEntries(Object.entries(step).filter(e => !keysToDiscard.includes(e[0])));\n    });\n}\n\n/* ----------------------------------------------------------------------\n * Test Studio promote dialog warning\n */\n\nfunction preparePromoteStudioTour() {\n\n    const removeIframeNode = function (template) {\n        const iframe_node = template ? template.querySelector(\"iframe\") : null;\n        if (iframe_node) {\n            iframe_node.parentNode.removeChild(iframe_node);\n        }\n    };\n\n    const patchStudioDialogTemplateInline = function (app) {\n        removeIframeNode(app.rawTemplates[\"web_enterprise.PromoteStudioDialog\"]);\n        delete app.templates[\"web_enterprise.PromoteStudioDialog\"]; /// remove it from compiled template cache\n    };\n\n    // Remove embedded YT video inside Promote Studio dialog, we don't need it\n    // (for saas~17.2+ we add an extension template as the template inheritance is\n    // done in the browser or for older version we patch it directly)\n    if (odoo.loader && odoo.loader.modules.get(\"@web/core/templates\")) { // >= saas-17.2\n        const registerTemplateExtension = odoo.loader.modules.get(\"@web/core/templates\").registerTemplateExtension;\n        registerTemplateExtension(\n            \"web_enterprise.PromoteStudioDialog\", \"--test-install-studio-tours--\",\n            `\n                <t t-inherit=\"web_enterprise.PromoteStudioDialog\" t-inherit-mode=\"extension\">\n                    <xpath expr=\"//iframe\" position=\"replace\"/>\n                </t>\n            `\n        );\n    } else if (odoo.loader) { // >= 17.0\n        patchStudioDialogTemplateInline(odoo.loader.modules.get(\"@web/core/utils/render\").renderToString.app);\n    } else { // >=16.0\n        patchStudioDialogTemplateInline(odoo.__DEBUG__.services[\"@web/core/utils/render\"].renderToString.app);\n    }\n}\n\nvar tourPromoteStudioInstallWarnSteps = [\n    {\n        content: \"Prepare tour\",\n        trigger: \"body\",\n        run: preparePromoteStudioTour,\n    },\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Switch to List view\",\n        trigger: '.o_switch_view.o_list',\n        run: \"click\",\n    },\n    {\n        content: \"Open optional fields dropdown\",\n        trigger: '.o_list_view .o_optional_columns_dropdown_toggle, ' +\n                 '.o_list_view .o_optional_columns_dropdown .dropdown-toggle',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Add Custom field'\",\n        trigger:\n            '.o-overlay-container .o-dropdown--menu .dropdown-item-studio,' + // >=saas~17.2\n            '.o_list_view .o_optional_columns_dropdown.dropdown-menu .dropdown-item-studio, ' +\n            '.o_list_view .o_optional_columns_dropdown .dropdown-menu .dropdown-item-studio',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Install Odoo Studio'\",\n        trigger: \"button.o_install_studio\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown({plan: 'trial'}),\n    checkPricingChangeWarningShown({plan: 'standard', modal_title: \"Pricing Upgrade\"}),\n    confirmPricingChange(),\n    {\n        content: \"Check that page reloads and we're still on the list view\",\n        trigger: \"body:not(:has(.modal)) .o_list_view\",\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_user_install_studio_warning_trial', {test: true},\n    filterSteps(tourPromoteStudioInstallWarnSteps, step => !step.plan || step.plan === 'trial')\n);\ntour.register('trial_user_install_studio_warning_std', {test: true},\n    filterSteps(tourPromoteStudioInstallWarnSteps, step => !step.plan || step.plan === 'standard')\n);\ntour.register('trial_user_install_studio_no_warning', {test: true},\n    filterSteps(tourPromoteStudioInstallWarnSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test User invitation warning from Settings dashboard\n */\n\nvar tourInviteUserFromSettingDashboardSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Fill new users to invite\",\n        trigger: \"input.o_user_emails\",\n        run: function(helpers) {\n            const users_list = \"user1@example.net,user2@example.net\";\n            if (helpers.edit) { /* saas~17.3+ version detection */\n                // saas~17.3: normal helpers.edit() methods simulate user input\n                // using keypress events but this trigger the confirmation\n                // dialog as soon as the comma key is press - i.e before we can\n                // input the second email; so here directly update the value and\n                // trigger a change event.\n                const element = this.anchor;\n                helpers.click(element);\n                element.value = users_list;\n                element.dispatchEvent(new Event(\"input\"));\n                element.dispatchEvent(new Event(\"change\"));\n            } else {\n                helpers.text(users_list);\n            }\n        }\n    },\n    {\n        content: \"Click on 'Invite'\",\n        trigger: \".o_web_settings_invite\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown({modal_title: \"Users Invitation\"}),\n    confirmPricingChange({button: \"Invite User(s)\"}),\n    {\n        content: \"Check that page reloads and we're still on settings dahsboard\",\n        trigger: \".oe_form_configuration\",\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_user_invite_from_setting_dashboard_warning', {test: true},\n    filterSteps(tourInviteUserFromSettingDashboardSteps, step => true),\n);\ntour.register('trial_user_invite_from_setting_dashboard_no_warning', {test: true},\n    filterSteps(tourInviteUserFromSettingDashboardSteps, step => !step.warning_step),\n);\n\nfunction getTourCheckUserSeatsDisplay(alertType) {\n    return [{\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: `Check that the user seats widget is displayed in ${alertType}`,\n        trigger: `div.o_user_seats_display > p.alert.alert-${alertType}`,\n        display_step: true,\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the user seats widget is displayed ${alertType}\",\n        trigger: `div.o_user_seats_display > p.alert.alert-${alertType}`,\n        display_step: true,\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Access the user form view\",\n        trigger: 'td.o_data_cell',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the user seats widget is displayed ${alertType}\",\n        trigger: `div.o_user_seats_display > p.alert.alert-${alertType}`,\n        display_step: true,\n        run: function() {}, // this is a check\n    }];\n}\n\ntour.register('trial_user_seats_no_display', {test: true},\n    filterSteps(getTourCheckUserSeatsDisplay('success'), step => !step.display_step),\n);\n\nfor (const alertType of ['success', 'warning', 'danger']) {\n    tour.register(`trial_user_seats_display_${alertType}`, {test: true},\n        filterSteps(getTourCheckUserSeatsDisplay(alertType), step => true),\n    );\n}\n\nvar tourCheckUserSeatsSettingsNoDisplay = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: 'Check that the user seats widget is not displayed',\n        trigger: '.o_user_seats_display:empty',\n        version: '16.0',\n        run: function() {}, // this is a check\n    },\n    {\n        content: 'Check that the user seats widget is not displayed',\n        trigger: '.o_user_seats_display:empty',\n        allowInvisible: true,\n        version: '17.0',\n        run: function() {}, // this is a check\n    },\n    {\n        content: 'Check that the user seats widget is not displayed',\n        trigger: '.o_user_seats_display:empty:not(:visible)',\n        version: '18.0',\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the user seats widget is displayed in alert-info\",\n        trigger: `div.o_user_seats_display > p.alert.alert-info`,\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Access the user form view\",\n        trigger: 'td.o_data_cell',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the user seats widget is displayed in alert-info\",\n        trigger: `div.o_user_seats_display > p.alert.alert-info`,\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register(`trial_user_seats_settings_no_display_16`, {test: true},\n    filterSteps(tourCheckUserSeatsSettingsNoDisplay, step => !step.version || step.version === '16.0')\n);\ntour.register(`trial_user_seats_settings_no_display_17`, {test: true},\n    filterSteps(tourCheckUserSeatsSettingsNoDisplay, step => !step.version || step.version === '17.0')\n);\ntour.register(`trial_user_seats_settings_no_display_18`, {test: true},\n    filterSteps(tourCheckUserSeatsSettingsNoDisplay, step => !step.version || step.version === '18.0')\n);\n\n/* ----------------------------------------------------------------------\n * Test User invitation warning from res.user Form\n */\n\nvar tourInviteUserFromUserMenuSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Get an empty form\",\n        trigger: 'button.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        content: \"Fill new user form\",\n        trigger: \"input[name=name],div[name=name]>input\",\n        run: \"text Jean-Michel Folklore\",\n    },\n    {\n        content: \"Fill new user email\",\n        trigger: \"input[name=login],div[name=login]>input\",\n        run: \"text jm@folklore.be\",\n    },\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save, button.btn-primary[type=button][name=execute]\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown({modal_title: \"Users Invitation\"}),\n    confirmPricingChange({button: \"Confirm\"}),\n    {\n        content: \"Wait for record save to complete\",\n        trigger: '.o_form_saved, .o_form_button_edit',\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_user_invite_from_user_form_warning', {test: true},\n    filterSteps(tourInviteUserFromUserMenuSteps, step => true),\n);\ntour.register('trial_user_invite_from_user_form_no_warning', {test: true},\n    filterSteps(tourInviteUserFromUserMenuSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from General Settings\n */\n\nvar tourSettingsInstallModuleSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Wait for 'General Settings' to be displayed\",\n        trigger: \".oe_form_configuration.o_base_settings, \" +\n                 \".oe_form_configuration.o_base_settings_view\",\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Enable OAuth module\",\n        trigger: 'label[for*=\"module_auth_oauth\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for the save to complete\",\n        trigger: \".o_form_button_save:not(:disabled)\",\n        run: function() {}, // this is a check\n    },\n];\n\ntour.register('trial_settings_install_module_on_save_warning', {test: true},\n    filterSteps(tourSettingsInstallModuleSteps, step => true),\n);\ntour.register('trial_settings_install_module_on_save_no_warning', {test: true},\n    filterSteps(tourSettingsInstallModuleSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from General Settings in Accounting\n * (sign module exception)\n */\n\nvar tourSettingsInstallModuleSignSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Wait for 'General Settings' to be displayed\",\n        trigger: \".oe_form_configuration.o_base_settings, \" +\n                 \".oe_form_configuration.o_base_settings_view\",\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Click on 'Accounting' tab\",\n        trigger: 'a.tab[data-key=\"account\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Wait for tab 'Accounting Settings' to be displayed\",\n        trigger: \".app_settings_block[string='Accounting']\",\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Ensure 'Sign' feature is really disabled\",\n        trigger: 'input[id*=\"sign_invoice\"]:not(:checked)',\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Scroll because wtf is the tour even doing\",\n        trigger: 'input[id*=\"sign_invoice',\n        run: function() { this.anchor.scrollIntoView(); },\n    },\n    {\n        content: \"Ensure 'Sign' feature is really disabled\",\n        trigger: 'input[id*=\"sign_invoice\"]:not(:checked)',\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Enable Sign module\",\n        trigger: 'label.o_form_label[for*=\"sign_invoice\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Ensure 'Sign' feature is enabled\",\n        trigger: 'input[id*=\"sign_invoice\"]:checked',\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for the save to complete\",\n        trigger: \".o_form_button_save:not(:disabled)\",\n        run: function() {}, // this is a check\n    },\n];\n\ntour.register('trial_settings_install_module_sign_on_save_warning', {test: true},\n    filterSteps(tourSettingsInstallModuleSignSteps, step => true),\n);\ntour.register('trial_settings_install_module_sign_on_save_no_warning', {test: true},\n    filterSteps(tourSettingsInstallModuleSignSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from Apps\n */\n\nvar tourAppsModuleInstallSteps = [\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        run: \"click\",\n    },\n    // For kanban\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_kanban_record .button_immediate_install',\n        run: \"click\",\n        variant: 'view_kanban',\n    },\n    // For form\n    {\n        content: \"Open app record dropdown\",\n        trigger: '.o_kanban_record:has(.button_immediate_install):first .dropdown-toggle',\n        run: \"click\",\n        variant: 'view_form',\n    },\n    {\n        content: \"Open app 'Module info'\",\n        trigger: [\n            // >= 18.0\n            '.o_popover .oe_kanban_action[name=more_info]',\n            // >= saas~17.2\n            '.o_kanban_record:has(.button_immediate_install):first .oe_kanban_action_a',\n            // >= saas~17.1\n            '.o-overlay-container .o-dropdown--kanban-record-menu:first .oe_kanban_action_a',\n        ].join(\", \"),\n        run: \"click\",\n        variant: 'view_form',\n    },\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_form_view .button_immediate_install',\n        run: \"click\",\n        variant: 'view_form',\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for completion\",\n        // saas_trial custom. will force button text to \"Installed\" after\n        // button_immediate_install() returns, wait for it\n        trigger: \"body:not(.o_ui_blocked) .button_immediate_install:contains(Installed)\",\n        run: function() {}, // this is a check\n        // compat. because the target element is disabled:\n        isCheck: true,          // for <= saas~17.3\n        allowDisabled: true,    // for >= saas~17.4+\n    }\n];\n\ntour.register('trial_apps_install_module_kanban_warning', {test: true},\n    filterSteps(tourAppsModuleInstallSteps, step => (step.variant || 'view_kanban') == 'view_kanban'),\n);\ntour.register('trial_apps_install_module_kanban_no_warning', {test: true},\n    filterSteps(tourAppsModuleInstallSteps,\n                step => (step.variant || 'view_kanban') == 'view_kanban' && !step.warning_step),\n);\ntour.register('trial_apps_install_module_form_warning', {test: true},\n    filterSteps(tourAppsModuleInstallSteps, step => (step.variant || 'view_form') == 'view_form'),\n);\ntour.register('trial_apps_install_module_form_no_warning', {test: true},\n    filterSteps(tourAppsModuleInstallSteps,\n                step => (step.variant || 'view_form') == 'view_form' && !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test ConfirmModal dismiss and cancel behaviour\n */\n\nvar tourAppsModuleInstallAbortSteps = [\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        run: \"click\",\n    },\n    // For kanban\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_kanban_record .button_immediate_install',\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    {\n        content: \"Click on Cancel\",\n        trigger: \".modal-footer .btn-secondary:contains('Cancel')\",\n        run: \"click\",\n        variant: 'btn_cancel'\n    },\n    {\n        content: \"Click on X\",\n        trigger: \".modal-header .btn-close[aria-label='Close']\",\n        run: \"click\",\n        variant: 'btn_dismiss'\n    },\n    {\n        content: \"Check nothing is disabled\",\n        // Install button should have been re-enabled\n        trigger: \"body:not(.o_ui_blocked) .button_immediate_install:not([disabled])\",\n        run: function() {}, // this is a check\n        // compat. because the target element is disabled:\n        isCheck: true,          // for <= saas~17.3\n        allowDisabled: true,    // for >= saas~17.4+\n    }\n];\n\ntour.register('trial_apps_install_module_cancel', {test: true},\n    filterSteps(tourAppsModuleInstallAbortSteps, step => (step.variant || 'btn_cancel') == 'btn_cancel'),\n);\ntour.register('trial_apps_install_module_dismiss', {test: true},\n    filterSteps(tourAppsModuleInstallAbortSteps, step => (step.variant || 'btn_dismiss') == 'btn_dismiss'),\n);\n\n/* ----------------------------------------------------------------------\n* Test base_automation Install\n*/\nvar tourAppsModuleInstallBaseAutomationSteps = [\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Disable app filter\",\n        trigger: '.o_facet_remove',\n        run: \"click\",\n    },\n    {\n        content: \"Search for 'base_automation'\",\n        trigger: '.o_searchview_input',\n        run: 'text base_automation',\n    },\n    {\n        content: \"Click on first autocompletion\",\n        trigger: [\n            // <= saas~18.1\n            '.o_menu_item:contains(\"Module\")',\n            // >= saas~18.2\n            '.o_searchview_autocomplete .o-dropdown-item:contains(Module)',\n        ].join(', '),\n        run: \"click\",\n    },\n    {\n        content: \"Open app record dropdown\",\n        trigger: [\n            // >= 18.0\n            '.o_kanban_record:has(main[title=\"Automation Rules\"]) .dropdown-toggle',\n            // <= saas~17.4\n            '.o_kanban_record:has(.o_kanban_record_title:contains(\"Automation Rules\")) .dropdown-toggle',\n        ].join(', '),\n        run: \"click\",\n    },\n    {\n        content: \"Open app 'Module info'\",\n        trigger: [\n            // >= 18.0\n            '.o_popover .oe_kanban_action[name=more_info]',\n            // >= saas~17.2\n            '.o_popover .oe_kanban_action_a[name=more_info]',\n            // >= 17.0\n            '.o_kanban_record .dropdown-menu .oe_kanban_action_a:first',\n        ].join(', '),\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_form_view .button_immediate_install',\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for completion\",\n        // saas_trial custom. will force button text to \"Installed\" after\n        // button_immediate_install() returns, wait for it\n        trigger: \"body:not(.o_ui_blocked) .button_immediate_install:contains(Installed):disabled,\" +\n                 \"body:not(.o_ui_blocked) .button_immediate_install:contains(Installed):enabled\",\n        run: function () { }, // this is a check\n        // compat. becauuse the target element is disabled:\n        isCheck: true,          // for <= saas~17.3\n        allowDisabled: true,    // for >= saas~17.4+\n    }\n];\n\ntour.register('trial_apps_install_base_automation_warning', { test: true },\n    filterSteps(tourAppsModuleInstallBaseAutomationSteps, step => true),\n);\ntour.register('trial_apps_install_base_automation_no_warning', { test: true },\n    filterSteps(tourAppsModuleInstallBaseAutomationSteps, step => !step.warning_step),\n);\n/* ----------------------------------------------------------------------\n * Test Company creation warning\n */\n\nvar tourCompanyCreationSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Users & Companies' menu\",\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Companies' menu\",\n        trigger: '.dropdown-item[data-menu-xmlid=\"base.menu_action_res_company_form\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Create' button\",\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        content: \"Fill company name\",\n        trigger: 'div[name=\"name\"] input',\n        run: function (actions) {\n            const companyName = \"MyNewCompany-\" + Date.now();\n            actions.text_blur(companyName);\n        }\n    },\n    {\n        content: \"Click on 'Save' button\",\n        trigger: '.o_form_button_save',\n        run: function (actions) {\n            if (!window.localStorage.getItem(\"running_tour\")) {\n                // >= saas~16.3: ensure \"running_tour\" is set in local storage\n                // to avoid the page being reloaded once the company is created\n                window.localStorage.setItem(\"running_tour\", \"_dummy_to_skip_page_reload_\");\n            }\n            actions.click();\n        }\n    },\n    checkPricingChangeWarningShown({plan: 'trial'}),\n    checkPricingChangeWarningShown({plan: 'standard', modal_title: \"Pricing Upgrade\"}),\n    confirmPricingChange(),\n    {\n        content: \"Wait for record save to complete\",\n        trigger: '.o_form_saved, .o_form_button_edit',\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_company_creation_warning_trial', {test: true},\n    filterSteps(tourCompanyCreationSteps, step => !step.plan || step.plan === 'trial'),\n);\ntour.register('trial_company_creation_warning_std', {test: true},\n    filterSteps(tourCompanyCreationSteps, step => !step.plan || step.plan === 'standard'),\n);\ntour.register('trial_company_creation_no_warning', {test: true},\n    filterSteps(tourCompanyCreationSteps, step => !step.warning_step),\n);\n\n// Same as above, but via the child_ids m2o field instead\nvar tourCompanyChildCreationSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Users & Companies' menu\",\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Companies' menu\",\n        trigger: '.dropdown-item[data-menu-xmlid=\"base.menu_action_res_company_form\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on the first (and only) company\",\n        trigger: '.o_data_row .o_data_cell[name=\"name\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Branches' tab\",\n        trigger: 'a[name=\"branches\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Add a line'\",\n        trigger: '.o_field_x2many_list_row_add > a',\n        run: \"click\",\n    },\n    {\n        content: \"Fill child company (branch) name\",\n        trigger: '.modal-body div[name=\"name\"] input',\n        run: function (actions) {\n            const companyName = \"MyNewCompanyBranch-\" + Date.now();\n            actions.text_blur(companyName);\n        }\n    },\n    {\n        content: \"Click on modal's 'Save' button\",\n        trigger: 'footer > .o_form_button_save',\n        run: \"click\",\n    },\n    {\n        content: \"Click on main 'Save' button\",\n        trigger: 'div > .o_form_button_save',\n        run: function (actions) {\n            if (!window.localStorage.getItem(\"running_tour\")) {\n                // >= saas~16.3: ensure \"running_tour\" is set in local storage\n                // to avoid the page being reloaded once the company is created\n                window.localStorage.setItem(\"running_tour\", \"_dummy_to_skip_page_reload_\");\n            }\n            actions.click();\n        }\n    },\n    checkPricingChangeWarningShown({plan: 'trial'}),\n    checkPricingChangeWarningShown({plan: 'standard', modal_title: \"Pricing Upgrade\"}),\n    confirmPricingChange(),\n    {\n        content: \"Wait for record save to complete\",\n        trigger: '.o_form_saved, .o_form_button_edit',\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_company_child_creation_warning_trial', {test: true},\n    filterSteps(tourCompanyChildCreationSteps, step => !step.plan || step.plan === 'trial'),\n);\ntour.register('trial_company_child_creation_warning_std', {test: true},\n    filterSteps(tourCompanyChildCreationSteps, step => !step.plan || step.plan === 'standard'),\n);\ntour.register('trial_company_child_creation_no_warning', {test: true},\n    filterSteps(tourCompanyChildCreationSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Cron creation warning, must have debug=1\n */\n\nvar tourCronCreationSteps = [\n    {\n        content: \"Click on 'Create' button\",\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        content: \"Fill Cron name\",\n        trigger: 'div[name=\"name\"] input',\n        run: function (actions) {\n            const cronName = \"TestCron-\" + Date.now();\n            actions.text_blur(cronName);\n        }\n    },\n    {\n        content: \"Open Model autocomplete (required)\",\n        trigger: 'div[name=\"model_id\"] input',\n        run: \"click\",\n    },\n    {\n        content: \"Fill Model with first autocomplete element (required)\",\n        trigger: '.o-autocomplete--dropdown-item:nth-child(1) > a:not(:has(.fa-spin))',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Save' button\",\n        trigger: '.o_form_button_save',\n        run: function (actions) {\n            if (!window.localStorage.getItem(\"running_tour\")) {\n                // >= saas~16.3: ensure \"running_tour\" is set in local storage\n                // to avoid the page being reloaded once the company is created\n                window.localStorage.setItem(\"running_tour\", \"_dummy_to_skip_page_reload_\");\n            }\n            actions.click();\n        }\n    },\n    checkPricingChangeWarningShown({plan: 'trial'}),\n    checkPricingChangeWarningShown({plan: 'standard', modal_title: \"Pricing Upgrade\"}),\n    confirmPricingChange(),\n    {\n        content: \"Wait for record save to complete\",\n        trigger: '.o_form_saved, .o_form_button_edit',\n        run: function() {}, // this is a check\n    }\n];\n\ntour.register('trial_cron_creation_warning_trial', {test: true},\n    filterSteps(tourCronCreationSteps, step => !step.plan || step.plan === 'trial'),\n);\ntour.register('trial_cron_creation_warning_std', {test: true},\n    filterSteps(tourCronCreationSteps, step => !step.plan || step.plan === 'standard'),\n);\ntour.register('trial_cron_creation_no_warning', {test: true},\n    filterSteps(tourCronCreationSteps, step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n* Test Module installation warning from Helpdesk Team\n*/\n\nfunction getTourHelpdeskConfigSteps(moduleName, fieldName) {\n    return [\n    {\n        content: \"Open 'Helpdesk' app\",\n        trigger: '.o_app[data-menu-xmlid=\"helpdesk.menu_helpdesk_root\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open 'Configuration' menu\",\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"helpdesk.helpdesk_menu_config\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open 'Helpdesk Team' menu\",\n        trigger: '.dropdown-item[data-menu-xmlid=\"helpdesk.helpdesk_team_menu\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Create' button\",\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        content: \"Fill Helpdesk Team's name\",\n        trigger: 'div[name=name] textarea, input#name, input[name=name]',\n        run: function (actions) {\n            // append epoch to ensure team name is unique\n            // (required to avoid duplicated mail.alias error   )\n            actions.text(\"warning_team\" + \"_\" + Date.now());\n        },\n    },\n    {\n        content: `Enable ${moduleName} option (${moduleName})`,\n        trigger: `label[for=${fieldName}], div[name=${fieldName}] input`,\n        run: 'click',\n    },\n];}\n\n// The python test will try to start a tour for each module returned by `_get_field_modules`.\n// If the python test then fails, it means a new module has been added to `_get_field_modules`\n// but is not present in the dict below.\nconst knownHelpdeskModules = {\n    'use_website_helpdesk_form': 'website_helpdesk',\n    'use_website_helpdesk_livechat': 'website_helpdesk_livechat',\n    'use_website_helpdesk_forum': 'website_helpdesk_forum',\n    'use_website_helpdesk_slides': 'website_helpdesk_slides',\n    'use_website_helpdesk_knowledge': 'website_helpdesk_knowledge',\n    'use_helpdesk_timesheet': 'helpdesk_timesheet',\n    'use_helpdesk_sale_timesheet': 'helpdesk_sale_timesheet',\n    'use_credit_notes': 'helpdesk_account',\n    'use_product_returns': 'helpdesk_stock',\n    'use_product_repairs': 'helpdesk_repair',\n    'use_coupons': 'helpdesk_sale_loyalty',\n    'use_fsm': 'helpdesk_fsm'\n};\n\nfor (const [fieldName, moduleName] of Object.entries(knownHelpdeskModules)) {\n    const tourHelpdeskTeamModuleOptionSteps = getTourHelpdeskConfigSteps(moduleName, fieldName);\n\n    // Add Confirm step to the tour\n    const fullHelpdeskTour = tourHelpdeskTeamModuleOptionSteps.concat([\n        {\n            content: \"Click on 'Save'\",\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        checkPricingChangeWarningShown(),\n        confirmPricingChange(),\n        {\n            content: \"Wait for record save to complete\",\n            trigger: '.o_form_saved, .o_form_button_edit',\n            run: function() {}, // this is a check\n        }\n    ]);\n\n    tour.register(`trial_helpdesk_team_install_module_${moduleName}_on_save_warning`, {test: true},\n        filterSteps(fullHelpdeskTour, step => true),\n    );\n\n    tour.register(`trial_helpdesk_team_install_module_${moduleName}_on_save_no_warning`, {test: true},\n        filterSteps(fullHelpdeskTour, step => !step.warning_step),\n    );\n}\n\n// Ensure the cancel button is correctly preventing a module installation\nconst helpdeskFieldName = Object.keys(knownHelpdeskModules)[0];\nconst helpdeskMappedModuleName = knownHelpdeskModules[helpdeskFieldName];\nconst tourHelpdeskTeamModuleOptionSteps = getTourHelpdeskConfigSteps(helpdeskMappedModuleName, helpdeskFieldName);\nconst fullHelpdeskTour = tourHelpdeskTeamModuleOptionSteps.concat([\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    {\n        content: \"Click on Cancel\",\n        trigger: \".modal-footer .btn-secondary:contains('Cancel')\",\n        run: \"click\",\n    },\n    {\n        content: \"Ensure save button is still there\",\n        trigger: \".o_form_button_save\",\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Discard the changes\",\n        trigger: \".o_form_button_cancel\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that we are back a the Teams ListView\",\n        trigger: \".o_list_renderer\",\n        run: function() {}, // this is a check\n    }\n]);\ntour.register(`trial_helpdesk_team_install_module_on_save_cancel`, {test: true},\n    filterSteps(fullHelpdeskTour, step => true),\n);\n\n\n/* ----------------------------------------------------------------------\n* Test Module installation warning from PoS Config\n*/\n\nfunction getTourPosConfigSteps(moduleName, fieldName) {\n    return [\n    {\n        content: \"Open 'Point of Sale' app\",\n        trigger: '.o_app[data-menu-xmlid=\"point_of_sale.menu_point_root\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Open the PoS config dropdown\",\n        trigger: '.o_kanban_record',\n        version: '18.0',\n        run: \"hover\",\n    },\n    {\n        content: \"Open the PoS config dropdown\",\n        trigger: '.o_kanban_record .o_dropdown_kanban:not(:visible) .dropdown-toggle:not(:visible)',\n        version: '18.0',\n        run: \"click\",\n    },\n    {\n        content: \"Open the PoS config dropdown\",\n        trigger: '.fa-ellipsis-v',\n        allowInvisible: true,\n        version: 'lt_18.0',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Edit' button\",\n        trigger: 'a[name=\"action_pos_config_modal_edit\"]',\n        run: \"click\",\n    },\n    {\n        content: `Enable ${fieldName} option (${moduleName} module)`,\n        trigger: `label[for*=${fieldName}], div[name*=${fieldName}] input`,\n        run: 'click',\n    },\n    {\n        content: `Ensure ${moduleName} module is enabled`,\n        trigger: `input[id*=${fieldName}]:checked, div[name*=${fieldName}] input:checked`,\n        run: function() {}, // this is a check\n    },\n];}\n\n// The python test will try to start a tour for each module returned by `_get_field_modules`.\n// If the python test then fails, it means a new module has been added to `_get_field_modules`\n// but is not present in the dict below.\nconst knownPosModules = {\n    // 'module_pos_restaurant': 'pos_restaurant', -> Exception, will not exit 1-App Free\n    // 'module_pos_avatax': 'pos_avatax',       |\n    // 'module_pos_discount': 'pos_discount',   | -> Not activable from the pos.config modal\n    // 'module_pos_sms': 'pos_sms',             |\n    'module_pos_hr': 'pos_hr',\n\n};\n\nfor (const [fieldName, moduleName] of Object.entries(knownPosModules)) {\n    const tourPosConfigModuleOptionSteps = getTourPosConfigSteps(moduleName, fieldName);\n\n    // Add Confirm step to the tour\n    const fullPosConfigTour = tourPosConfigModuleOptionSteps.concat([\n        {\n            content: \"Click on 'Save'\",\n            trigger: \"footer > .btn-primary\",\n            run: \"click\",\n        },\n        checkPricingChangeWarningShown(),\n        confirmPricingChange(),\n        {\n            content: \"Wait for record save to complete\",\n            trigger: 'body:not(.modal-open)',\n            run: function() {}, // this is a check\n        }\n    ]);\n\n    tour.register(`trial_pos_config_install_module_${moduleName}_on_save_warning`, {test: true},\n        filterSteps(fullPosConfigTour, step => !step.version || step.version !== '18.0'),\n    );\n\n    tour.register(`trial_pos_config_install_module_${moduleName}_on_save_warning_18`, {test: true},\n        filterSteps(fullPosConfigTour, step => !step.version || step.version === '18.0'),\n    );\n\n    tour.register(`trial_pos_config_install_module_${moduleName}_on_save_no_warning`, {test: true},\n        filterSteps(fullPosConfigTour, step => !step.warning_step && (!step.version || step.version !== '18.0')),\n    );\n    tour.register(`trial_pos_config_install_module_${moduleName}_on_save_no_warning_18`, {test: true},\n        filterSteps(fullPosConfigTour, step => !step.warning_step && (!step.version || step.version === '18.0')),\n    );\n}\n\n// Ensure the cancel button is correctly preventing a module installation\nconst posFieldName = Object.keys(knownPosModules)[0];\nconst posMappedModuleName = knownPosModules[posFieldName];\nconst tourPosConfigSteps = getTourPosConfigSteps(posMappedModuleName, posFieldName);\nconst fullPosConfigTour = tourPosConfigSteps.concat([\n    {\n        content: \"Click on 'Save'\",\n        trigger: \"footer > .btn-primary\",\n        run: \"click\",\n    },\n    checkPricingChangeWarningShown(),\n    {\n        content: \"Click on Cancel\",\n        trigger: \".modal-footer .btn-secondary:contains('Cancel')\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the modal is still open\",\n        trigger: \".modal-dialog\",\n        run: function() {}, // this is a check\n    },\n    {\n        content: \"Close the pos.config modal\",\n        trigger: 'footer > .btn-secondary',\n        run: \"click\"\n    },\n    {\n        content: \"Ensure the modal is closed\",\n        trigger: 'body:not(.modal-open)',\n        run: function() {}, // this is a check\n    }\n]);\ntour.register(`trial_pos_config_install_module_on_save_cancel`, {test: true},\n    filterSteps(fullPosConfigTour, step => !step.version || step.version !== '18.0'),\n);\ntour.register(`trial_pos_config_install_module_on_save_cancel_18`, {test: true},\n    filterSteps(fullPosConfigTour, step => !step.version || step.version === '18.0'),\n);\n\n});\n", "odoo.define('odoo.test.trial.tours', ['web_tour.tour'], function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register('trial_resend_activation_email_backend', {url: '/web', test: true}, [\n    {\n        content: \"Click on navbar Pending Activation button\",\n        trigger: \".o_main_navbar .oe_expiration_tag a\",\n        run: \"click\",\n    },\n    {\n        content: \"Fill the modal\",\n        trigger: 'input[name=email]',\n        run: 'text customer@example.net',\n    },\n    {\n        content: \"Click on modal resend button\",\n        trigger: 'input[type=submit], button:contains(Resend)',\n        run: \"click\",\n    },\n    {\n        content: \"Check that email was successfully sent.\",\n        trigger: '.modal-dialog *:contains(An activation email has been successfully sent)',\n        run: function () {}, // this is a check\n        isCheck: true,\n    }\n]);\n\ntour.register('trial_my_subscriptions_menuitem', {url: '/web', test: true}, [\n    {\n        content: \"Click on the user menu\",\n        trigger: \".o_user_menu .dropdown-toggle\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the  'My Subscriptions' menuitem\",\n        trigger: 'span[data-menu=\"odoo_subscription\"]',\n        run: function() {}, // this is a check\n        isCheck: true,\n    },\n]);\n\ntour.register('trial_rr_upgrade_available_user', {url: '/web', test: true}, [\n    // Employee should see that an upgrade is available (in the statusbar) but should see any upgrade button\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that there is no button\",\n        trigger: \".o_main_navbar .o_rr_widget .rr-widget-dropdown\",\n        run: function () {\n            const anchor = this.anchor || this.$anchor.get(0);\n            let buttons = null;\n            if (window.$ !== undefined) {\n                buttons = $(anchor).find('a.btn:visible, button:visible').get();\n            } else {\n                // no JQuery anymore, so the modal are now rendered in Owl\n                // and we don't need to check for visibility (\"hidden\" elements\n                // should not be added to the DOM at all)\n                buttons = anchor.querySelectorAll('a.btn, button');\n            }\n            if (buttons.length !== 0) {\n                console.error('User should not see any upgrade button (' + buttons.length + ' found)');\n            }\n        }\n    },\n    {\n        content: \"Check that user should ask their admin for upgrade\",\n        trigger: \".o_main_navbar .o_rr_widget .rr_users_only:contains(Contact the administrator)\",\n        run: function () {}, // this is a check\n    },\n]);\n\n\ntour.register('trial_rr_upgrade_available_admin', {url: '/web', test: true}, [\n    // Admin see that there is a new upgrade availabe, open upgrade and cancel it (not sure as he has not tested yet)\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n        run: \"click\",\n    },\n    {\n        content: \"Check release notes button link is valid\",\n        trigger: '.o_main_navbar .o_rr_widget .o_release_notes_link[href*=\"https://www.odoo.com/r/rr-release-notes-\"]',\n        run: function () {}, // this is a check\n    },\n    {\n        content: \"Click on Upgrade Now\",\n        trigger: 'button.o_prod_upgrade',\n        run: \"click\",\n    },\n    {\n        content: \"Hum, not sure yet, click on Cancel\",\n        trigger: '.o_prod_upgrade_cancel',\n        run: \"click\",\n    },\n    // Admin has now propertly tested the upgrade (don't they?) and start real production upgrade\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Upgrade Now'\",\n        trigger: 'button.o_prod_upgrade',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Confirm Upgrade'\",\n        trigger: '.o_prod_upgrade_confirm',\n        run: \"click\",\n    },\n    {\n        content: \"Check that upgrade has been queued\",\n        trigger: '.modal-body:contains(Production upgrade requested successfully)',\n        run: function() {}, // this is a check\n        isCheck: true,\n    },\n]);\n\ntour.register('trial_rr_upgrade_dismiss', {url: '/web', test: true}, [\n    // Admin see that there is a new upgrade available, open upgrade but dismiss it\n    // (he want to stay on LTS version-for now)\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Upgrade Later'\",\n        trigger: \"button.o_prod_dismiss\",\n        run: \"click\",\n    },\n    {\n        // dummy check only to ensure dismiss RPC are completed\n        trigger: \".o_main_navbar\",\n        run: function () {},\n        isCheck: true,\n    },\n]);\n\ntour.register('trial_edu_eol_warning', {url: '/web', test: true}, [\n    {\n        content: \"Check that the edu EOL warning is displayed\",\n        trigger: \".o_edu_eol_warning:contains(Your education database is on an unsupported version of Odoo)\",\n        run: function () {}, // this is a check,\n        isCheck: true,\n    }\n]);\n\ntour.register('trial_edu_expires_warning', {url: '/web', test: true}, [\n    {\n        content: \"Check that the edu expiration warning is displayed\",\n        trigger: \".oe_instance_expires:contains(Your education database is reaching its expiration date)\",\n        run: function () {}, // this is a check,\n        isCheck: true,\n    }\n]);\n\n});\n", "odoo.define('odoo.saas_website.test.tours', ['web_tour.tour'], function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register('trial_resend_activation_email_frontend', {url: '/', test: true}, [\n    {\n        content: \"Click on navbar Pending Activation button\",\n        trigger: \".o_main_navbar .oe_expiration_tag a\",\n        run: \"click\",\n    },\n    {\n        content: \"Fill the modal\",\n        trigger: 'input[name=email]',\n        run: 'text customer@example.net',\n    },\n    {\n        content: \"Click on modal resend button\",\n        trigger: 'input[type=submit], button:contains(Resend)',\n        run: \"click\",\n    },\n    {\n        content: \"Check that email was successfully sent.\",\n        trigger: '*:contains(An activation email has been successfully sent)',\n        run: function () { }, // this is a check\n    }\n]);\n\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\nconst unselectAllFeatures = function() {\n    return {\n        content: \"Unselect all features\",\n        trigger: \".page_feature_selection.o_configurator_show\",\n        run: async function (actions) {\n            const anchor = this.anchor || this.$anchor.get(0);\n            const features = anchor.querySelectorAll(\".o_configurator_feature_status.fa-check-circle\");\n            for (const e of features) {\n                await actions.click(e);\n            }\n        }\n    };\n};\n\nconst selectionFeature = function(name) {\n    return {\n        content: \"Selecting feature: \" + name,\n        trigger: \".card .card-title:contains(\" + name + \")\",\n        run: \"click\",\n    };\n};\n\ntour.register('trial_website_configurator', {url: \"/website/configurator\", test: true}, [\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n        run: \"click\",\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n        run: \"click\",\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: 'text ab',\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry_wrapper ul li a:contains(\"abbey\")',\n        run: \"click\",\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n        run: \"click\",\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n        run: \"click\",\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n        run: \"click\",\n    },\n    // Features screen\n    {\n        content: \"Check that we're on Free Plan by default\",\n        trigger: \"p:contains(Free Plan)\",\n        run: function () {}, // this is check\n    },\n    // - check for app that force out of 1-app-free mode (to trial mode)\n    unselectAllFeatures(),\n    selectionFeature(\"Appointment\"),\n    {\n        content: \"Check that Appointment force to Standard Plan (trial mode)\",\n        trigger: \"p:contains(Standard Plan (15 days trial))\",\n        run: function () {}, // this is a check\n    },\n    // - check for single free app\n    unselectAllFeatures(),\n    selectionFeature(\"Shop\"),\n    {\n        content: \"Check that selecting only Shop keep in 1-app-free mode\",\n        trigger: \"p:contains(Free Plan)\",\n        run: function () {}, // this is a check\n    },\n    selectionFeature(\"Events\"),\n    {\n        content: \"Check that selecting both Shop and Events force to Standard Plan (trial mode)\",\n        trigger: \"p:contains(Standard Plan (15 days trial))\",\n        run: function () {}, // this is a check\n    },\n    // Exit configurator\n    {\n        content: \"Check button 'Build my website' is available\",\n        trigger: \"button:contains(Build my website)\",\n        run: function() {}, // this is a check\n    },\n]);\n", "/** @odoo-module */\n\nimport { patch } from '@web/core/utils/patch';\nimport { registry } from \"@web/core/registry\";\n\nlet uniqueSeed = 0;\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.moduleName === \"@social_twitter/js/stream_post_comments_reply\") {\n        patch(e.module.StreamPostCommentsReplyTwitter.prototype, \"social_twitter_spam\", {\n            get authorPictureSrc() { return '' }\n        });\n    }\n})\n\n\nconst triggerEnterEvent = (element) => {\n    const ev = new window.KeyboardEvent('keydown', { bubbles: true, key: \"Enter\" });\n    element.dispatchEvent(ev);\n};\n\nfunction createReplies(textareaSelector) {\n    const maximumAllowedReplies = 3;\n    uniqueSeed += 1;\n\n    let tourSteps = [];\n\n    // must be able to post \"maximumAllowedReplies\" replies\n    for (let i = 0; i < maximumAllowedReplies; i++) {\n        const message = `__social_twitter_test_tour_${uniqueSeed}_${i}__`;\n\n        tourSteps.push(\n            {\n                trigger: '.o_social_comments_modal textarea',\n                content: `Reply number ${i}`,\n                run: () => {\n                    const $inputComment = $(textareaSelector);\n                    $inputComment.val(message);\n                    triggerEnterEvent($inputComment[0]);\n                }\n            },\n            {\n                trigger: `.o_social_comment_text[data-original-message*=\"${message}\"]`,\n                content: 'Check if the comment has been posted',\n            },\n        );\n    }\n\n    // the next reply must fail\n    const message = `__social_twitter_test_tour_${uniqueSeed}_last__`;\n    tourSteps.push(\n        {\n            trigger: '.o_social_comments_modal textarea',\n            content: 'Write the last comment that will fail',\n            run: () => {\n                const $inputComment = $(textareaSelector);\n                $inputComment.val(message);\n                triggerEnterEvent($inputComment[0]);\n            },\n        },\n        {\n            trigger: '.o_social_comments_modal',\n            extra_trigger: '.o_social_textarea_message.text-danger',\n            content: 'Should not be able to spam',\n            run: () => {\n                const $fourthComment = $(`.o_social_comment_text[data-original-message*=\"${message}\"]`);\n                if ($fourthComment.length) {\n                    console.error('Should not be able to spam (message detected)');\n                }\n            },\n        },\n    );\n\n    return tourSteps;\n}\n\n/**\n  * Twitter has a spam detection and will take measures against spamming accounts.\n  * We now have a spam check mechanism to prevent any potential issues.\n  * This will test that:\n  * - Users can't spam when replying to a stream.post\n  * - Users can't spam when replying to another comment (on a stream.post)\n  *\n  * The spam detection is set to maximum 3 comments.\n  **/\nregistry.category(\"web_tour.tours\").add(\n    'social_twitter/static/tests/tours/tour_social_twitter_spam.js',\n    {\n        url: '/web',\n        test: true,\n        steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"social.menu_social_global\"]',\n            content: 'Open the Social App',\n            run: 'click',\n        },\n        {\n            trigger: '.o_social_stream_post_message',\n            content: 'Open the tweet comments',\n            run: 'click',\n        },\n        // Test comments spam\n        ...createReplies('.o_social_comments_modal textarea.o_social_add_comment:not([data-is-comment-reply])'),\n        // Test replies spam\n        // TODO awa: not sure how this one worked, as we have no textarea to reply already opened\n        // ...createReplies('.o_social_comment:first textarea[name=\"message\"]'),\n    ]\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\n\nlet startingNumberOfSheetsInGroup = 0;\n\nfunction assertNSheetsInGroup(number) {\n    const actualNumber = document.querySelectorAll(\".o_list_table tr.o_data_row\").length;\n    if (actualNumber !== number) {\n        throw new TourError(`Expected ${number} sheets in the dashbord group, got ${actualNumber}`);\n    }\n}\n\nfunction focusFirstSheetInModal() {\n    const sheetImg = document.querySelector(\"img.o-sp-dialog-item-img\");\n    sheetImg.dispatchEvent(new MouseEvent(\"focus\"));\n}\n\nregistry.category(\"web_tour.tours\").add(\n    \"spreadsheet_dashboard_document_add_document_to_dashboard_group\",\n    {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        {\n            trigger:\n                '.o_app[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_root\"]',\n            content: \"Open dashboard app\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                'button[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_configuration\"]',\n            content: \"Open configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                'a[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_configuration_dashboards\"]',\n            content: \"Open dashboard configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger: 'tbody tr td[name=\"name\"]',\n            content: \"Open a dashboard group from list view\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            run: () => {\n                startingNumberOfSheetsInGroup = document.querySelectorAll(\n                    \".o_list_table tr.o_data_row\"\n                ).length;\n            },\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            content: \"Open add document to dashboard modal\",\n            run: \"click\",\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Focus a spreadsheet\",\n            run: focusFirstSheetInModal,\n        },\n        {\n            trigger: \"button.btn-primary\",\n            content: \"Click confirm button\",\n            run: \"click\",\n        },\n        {\n            trigger: '.breadcrumb-item :contains(\"Sales\")',\n            content: 'Go back to the dashboard group config'\n        },\n        {\n            trigger: `.o_data_row`,\n            content: \"A spreadsheet was added as dashboard\",\n            run: () => assertNSheetsInGroup(startingNumberOfSheetsInGroup + 1),\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            content: \"Open add document to dashboard modal\",\n            run: \"click\",\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Focus a spreadsheet\",\n            run: focusFirstSheetInModal,\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Double click a spreadsheet\",\n            run: \"dblclick\",\n        },\n        {\n            trigger: '.breadcrumb-item :contains(\"Sales\")',\n            content: 'Go back to the dashboard group config'\n        },\n        {\n            trigger: `.o_data_row`,\n            content: \"A spreadsheet was added as dashboard\",\n            run: () => assertNSheetsInGroup(startingNumberOfSheetsInGroup + 2),\n        },\n    ]\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat.lazy_frontend_bus\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: \".o-livechat-LivechatButton\",\n            async run() {\n                await odoo.__WOWL_DEBUG__.root.env.services[\"mail.messaging\"].isReady;\n                if (odoo.__WOWL_DEBUG__.root.env.services.bus_service.isActive) {\n                    throw new Error(\"Bus service should not start when loading the page\");\n                }\n            },\n        },\n        {\n            trigger: \".o-livechat-LivechatButton\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Hello, I need help!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                if (odoo.__WOWL_DEBUG__.root.env.services.bus_service.isActive) {\n                    throw new Error(\"Bus service should not start for temporary live chat\");\n                }\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Message:contains(Hello, I need help!)\",\n            run() {\n                if (!odoo.__WOWL_DEBUG__.root.env.services.bus_service.isActive) {\n                    throw new Error(\"Bus service should start after first live chat message\");\n                }\n            },\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_as_portal_tour\", {\n    test: true,\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: \".o-livechat-LivechatButton\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Hello, I need help!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Message:contains('Hello, I need help!')\",\n            isCheck: true,\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endDiscussion } from \"./website_livechat_common\";\n\nconst messagesContain = (text) => `.o-mail-Message:contains(\"${text}\")`;\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_chatbot_after_reload_tour\", {\n    test: true,\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: messagesContain(\"Hello! I'm a bot!\"),\n        },\n        {\n            content: \"Reload the page\",\n            trigger: messagesContain(\"How can I help you?\"),\n            run: () => location.reload(),\n        },\n        ...endDiscussion,\n        {\n            trigger: \".o-livechat-LivechatButton\",\n            run: \"click\",\n        },\n        {\n            trigger: messagesContain(\"Hello! I'm a bot!\"),\n            run: () => {},\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { debounce } from \"@web/core/utils/timing\";\nimport { contains } from \"@web/../tests/utils\";\n\nconst messagesContain = (text) => `.o-mail-Message:contains(\"${text}\")`;\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_chatbot_flow_tour\", {\n    test: true,\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: messagesContain(\"Hello! I'm a bot!\"),\n            run: () => {\n                // make chat bot faster for this tour\n                const chatbotService = odoo.__WOWL_DEBUG__.root.env.services[\"im_livechat.chatbot\"];\n                chatbotService.debouncedProcessUserAnswer = debounce(\n                    chatbotService._processUserAnswer.bind(chatbotService),\n                    500\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"I help lost visitors find their way.\"),\n            run: () => {}, // check second welcome message is posted\n        },\n        {\n            trigger: messagesContain(\"How can I help you?\"),\n            // check question_selection message is posted and reactions are not\n            // available since the thread is not yet persisted\n            run() {\n                if (\n                    this.$anchor[0].querySelector(\n                        \".o-mail-Message-actions [title='Add a Reaction']\"\n                    )\n                ) {\n                    console.error(\"Reactions should not be available before thread is persisted.\");\n                }\n            },\n        },\n        {\n            trigger: 'li:contains(\"I want to buy the software\")',\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-ChatWindow\",\n            // check selected option is posted and reactions are available since\n            // the thread has been persisted in the process\n            async run() {\n                await contains(\".o-mail-Message-actions [title='Add a Reaction']\", {\n                    target: this.$anchor[0].getRootNode(),\n                    parent: [\".o-mail-Message\", { text: \"I want to buy the software\" }],\n                });\n            },\n        },\n        {\n            trigger: messagesContain(\"Can you give us your email please?\"),\n            run: () => {}, // check ask email step following selecting option A\n        },\n        {\n            trigger: \".o-mail-Composer-input \",\n            run: \"text No, you won't get my email!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\n                \"'No, you won't get my email!' does not look like a valid email. Can you please try again?\"\n            ),\n            run: () => {}, // check invalid email detected and the bot asks for a retry\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text okfine@fakeemail.com\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"Your email is validated, thank you!\"),\n            run: () => {}, // check that this time the email goes through and we proceed to next step\n        },\n        {\n            trigger: messagesContain(\"Would you mind providing your website address?\"),\n            run: () => {}, // should ask for website now\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text https://www.fakeaddress.com\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"Great, do you want to leave any feedback for us to improve?\"),\n            run: () => {}, // should ask for feedback now\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Yes, actually, I'm glad you asked!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text I think it's outrageous that you ask for all my personal information!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text I will be sure to take this to your manager!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"Ok bye!\"),\n            run: () => {}, // last step is displayed\n        },\n        {\n            trigger: \".o-mail-ChatWindow-command[title='Restart Conversation']\",\n            run: \"click\",\n        },\n        {\n            trigger: messagesContain(\"Restarting conversation...\"),\n            run: () => {}, // check that conversation is properly restarting\n        },\n        {\n            trigger: messagesContain(\"Hello! I'm a bot!\"),\n            run: () => {}, // check first welcome message is posted\n        },\n        {\n            trigger: messagesContain(\"I help lost visitors find their way.\"),\n            run: () => {}, // check second welcome message is posted\n        },\n        {\n            trigger: messagesContain(\"How can I help you?\"),\n            run: () => {}, // check question_selection message is posted\n        },\n        {\n            trigger: 'li:contains(\"Pricing Question\")',\n            run: \"click\",\n        },\n        {\n            trigger: messagesContain(\n                \"For any pricing question, feel free ton contact us at pricing@mycompany.com\"\n            ),\n            run: () => {}, // the path should now go towards 'Pricing Question (first part)'\n        },\n        {\n            trigger: messagesContain(\"We will reach back to you as soon as we can!\"),\n            run: () => {}, // the path should now go towards 'Pricing Question (second part)'\n        },\n        {\n            trigger: messagesContain(\"Would you mind providing your website address?\"),\n            run: () => {}, // should ask for website now\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text no\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"Great, do you want to leave any feedback for us to improve?\"),\n            run: () => {}, // should ask for feedback now\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text no, nothing so say\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: messagesContain(\"Ok bye!\"),\n        },\n        {\n            // wait for chatbot script to finish.\n            trigger: \".o-mail-ChatWindow-command[title='Restart Conversation']\",\n            run() {},\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"chatbot_fw_operator_matching_lang\", {\n    test: true,\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: `.o-mail-Message:contains(\"Hello! I'm a bot!\")`,\n        },\n        {\n            trigger: \"li:contains(I want to speak with an operator)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Composer-input:enabled\",\n            run: () => {},\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat.chatbot_redirect\", {\n    shadow_dom: \".o-livechat-root\",\n    test: true,\n    url: \"/contactus\",\n    steps: () => [\n        {\n            trigger: \".o-livechat-LivechatButton\",\n        },\n        {\n            trigger: \".o-mail-Message:contains(Hello, were do you want to go?)\",\n        },\n        {\n            trigger: \"li:contains(Go to the #chatbot-redirect anchor)\",\n        },\n        {\n            trigger: \".o-mail-Message:contains(Tadam, we are on the page you asked for!)\",\n            run() {\n                const url = new URL(location.href);\n                if (url.pathname !== \"/contactus\" || url.hash !== \"#chatbot-redirect\") {\n                    throw new Error(\n                        \"Chatbot should have redirected to the #chatbot-redirect anchor.\"\n                    );\n                }\n            },\n        },\n        {\n            trigger: \"button[title='Restart Conversation']\",\n        },\n        {\n            trigger: \"li:contains(Go to the /chatbot-redirect page)\",\n        },\n        {\n            trigger:\n                \".o-mail-Message:contains('Go to the /chatbot-redirect page') + .o-mail-Message:contains('Tadam')\",\n            run() {\n                const url = new URL(location.href);\n                if (url.pathname !== \"/chatbot-redirect\") {\n                    throw new Error(\n                        \"Chatbot should have redirected to the /chatbot-redirect page.\"\n                    );\n                }\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n/*******************************\n *         Common Steps\n *******************************/\n\nexport const start = [\n    {\n        content: \"click on livechat widget\",\n        trigger: \".o-livechat-LivechatButton\",\n    },\n    {\n        content: \"Say hello!\",\n        trigger: \".o-mail-Composer-input\",\n        run: \"text Hello Sir!\",\n    },\n    {\n        content: \"Send the message\",\n        trigger: \".o-mail-Composer-input\",\n        run() {\n            this.$anchor[0].dispatchEvent(\n                new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n            );\n        },\n    },\n    {\n        content: \"Verify your message has been typed\",\n        trigger: \".o-mail-Message:contains('Hello Sir!')\",\n    },\n    {\n        content: \"Verify there is no duplicates\",\n        trigger: \".o-mail-Thread\",\n        run() {\n            if (this.$anchor.find(\".o-mail-Message:contains('Hello Sir!')\").length === 1) {\n                $(\"body\").addClass(\"no_duplicated_message\");\n            }\n        },\n    },\n    {\n        content: \"Is your message correctly sent ?\",\n        trigger: \"body.no_duplicated_message\",\n        shadow_dom: false,\n        isCheck: true,\n    },\n];\n\nexport const endDiscussion = [\n    {\n        content: \"Close the chat window\",\n        trigger: \".o-mail-ChatWindow-command[title*=Close]\",\n        run: \"click\",\n    },\n];\n\nexport const feedback = [\n    {\n        content: \"Patching Livechat\",\n        trigger: \"textarea[placeholder='Explain your note']\",\n        run: function() {\n            document.body.classList.add(\"feedback_sent\");\n        }\n    },\n    {\n        content: \"Type a feedback\",\n        trigger: \"textarea[placeholder='Explain your note']\",\n        run: \"text ;-) This was really helpful. Thanks ;-)!\",\n    },\n    {\n        content: \"Send the feedback\",\n        trigger: \"button:contains(Send):not(:disabled)\",\n    },\n    {\n        content: \"Thanks for your feedback\",\n        trigger: \"p:contains('Thank you for your feedback')\",\n        isCheck: true,\n    },\n];\n\nexport const transcript = [\n    {\n        content: \"Type your email\",\n        trigger: \"input[placeholder='mail@example.com']\",\n        run: \"text deboul@onner.com\",\n    },\n    {\n        content: \"Send the conversation to your email address\",\n        trigger: \"button[data-action=sendTranscript]\",\n    },\n    {\n        content: \"Check conversation is sent\",\n        trigger: \".form-text:contains(The conversation was sent)\",\n    },\n];\n\nexport const close = [\n    {\n        content: \"Close the conversation with the x button\",\n        trigger: \".o-mail-ChatWindow-command[title*=Close]\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the button is not displayed anymore\",\n        trigger: \".o-mail-ChatWindowContainer\",\n        allowInvisible: true,\n        run() {\n            if (this.$anchor.find(\".o-livechat-livechatButton\").length === 0) {\n                $(\"body\").addClass(\"tour_success\");\n            }\n        },\n    },\n    {\n        content: \"Is the Test succeded ?\",\n        trigger: \"body.tour_success\",\n        shadow_dom: false,\n        isCheck: true,\n    },\n];\n\nexport const goodRating = [\n    {\n        content: \"Choose Good Rating\",\n        trigger: `img[src*=rating][alt=5]`,\n    },\n];\n\nexport const okRating = [\n    {\n        content: \"Choose ok Rating\",\n        trigger: `img[src*=rating][alt=3]`,\n    },\n];\n\nexport const sadRating = [\n    {\n        content: \"Choose bad Rating\",\n        trigger: `img[src*=rating][alt=1]`,\n    },\n];\n", "/** @odoo-module **/\n\nimport {\n    start,\n    endDiscussion,\n    goodRating,\n    okRating,\n    sadRating,\n    feedback,\n    transcript,\n    close,\n} from \"./website_livechat_common\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_complete_flow_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start, endDiscussion, okRating, feedback, transcript, close),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_happy_rating_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start, endDiscussion, goodRating, feedback),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_ok_rating_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start, endDiscussion, okRating, feedback),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_sad_rating_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start, endDiscussion, sadRating, feedback),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_no_rating_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start, endDiscussion, transcript, close),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_no_rating_no_close_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(start),\n});\n", "/** @odoo-module **/\n\nimport { patch } from \"@web/core/utils/patch\";\nimport { endDiscussion, okRating, feedback, transcript, close } from \"./website_livechat_common\";\nimport { registry } from \"@web/core/registry\";\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@im_livechat/embed/common/livechat_service\") {\n        const { LivechatService, ODOO_VERSION_KEY } = e.detail.module;\n        // Livechat sessions are deleted if they come from a different odoo version than\n        // the current one. Since each test is run with a different browser the version\n        // is never set. This patch sets the version to the current one.\n        patch(LivechatService.prototype, {\n            async initialize() {\n                try {\n                    const response = await fetch(\"/web/webclient/version_info\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                        body: JSON.stringify({}),\n                    });\n                    const { server_version: serverVersion } = (await response.json()).result;\n                    localStorage.setItem(ODOO_VERSION_KEY, serverVersion);\n                } catch {\n                    // Could be intentional (tour ended successfully while version still loading)\n                }\n\n                return super.initialize(...arguments);\n            },\n        });\n    }\n});\n\nconst chatRequest = [\n    {\n        content: \"Answer the chat request!\",\n        trigger: \".o-mail-Composer-input\",\n        run: \"text Hi ! What a coincidence! I need your help indeed.\",\n    },\n    {\n        content: \"Send the message\",\n        trigger: \".o-mail-Composer-input\",\n        run() {\n            this.$anchor[0].dispatchEvent(\n                new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n            );\n        },\n    },\n    {\n        content: \"Verify your message has been typed\",\n        trigger: \".o-mail-Message:contains('Hi ! What a coincidence! I need your help indeed.')\",\n    },\n    {\n        content: \"Verify there is no duplicates\",\n        trigger: \".o-mail-Thread\",\n        run() {\n            if (\n                this.$anchor.find(\n                    \".o-mail-Message:contains('Hi ! What a coincidence! I need your help indeed.')\"\n                ).length === 1\n            ) {\n                $(\"body\").addClass(\"no_duplicated_message\");\n            }\n        },\n    },\n    {\n        content: \"Is your message correctly sent ?\",\n        shadow_dom: false,\n        trigger: \"body.no_duplicated_message\",\n        isCheck: true,\n    },\n];\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_chat_request_part_1_no_close_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(chatRequest),\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_chat_request_part_2_end_session_tour\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [].concat(endDiscussion, okRating, feedback, transcript, close),\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_login_after_chat_start\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: \".o-livechat-LivechatButton\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Hello!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: function () {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Message-content:contains('Hello!')\",\n        },\n        {\n            trigger: \"a:contains(Sign in)\",\n            run: \"click\",\n            shadow_dom: false,\n        },\n        {\n            trigger: \"input[name='login']\",\n            run: \"text admin\",\n            shadow_dom: false,\n        },\n        {\n            trigger: \"input[name='password']\",\n            run: \"text admin\",\n            shadow_dom: false,\n        },\n        {\n            trigger: \"button:contains(Log in)\",\n            run: \"click\",\n            shadow_dom: false,\n        },\n        {\n            trigger: \".o_main_navbar\",\n            shadow_dom: false,\n            run() {\n                window.location = \"/\";\n            },\n        },\n        {\n            content:\n                \"Livechat button is present since the old livechat session was linked to the public user, not the current user.\",\n            trigger: \".o-livechat-LivechatButton\",\n            isCheck: true,\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_livechat_logout_after_chat_start\", {\n    test: true,\n    url: \"/\",\n    shadow_dom: \".o-livechat-root\",\n    steps: () => [\n        {\n            trigger: \".o-livechat-LivechatButton\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"text Hello!\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: function () {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", which: 13, bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-mail-Message-content:contains('Hello!')\",\n        },\n        {\n            trigger: \"header#top a:contains(Mitchell Admin)\",\n            run: \"click\",\n            shadow_dom: false,\n        },\n        {\n            trigger: \"a:contains(Logout)\",\n            shadow_dom: false,\n        },\n        {\n            content:\n                \"Livechat button is present since the old livechat session was linked to the logged user, not the public one.\",\n            trigger: \".o-livechat-LivechatButton\",\n            isCheck: true,\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nclass FinalSteps {\n\n    _getSteps() {\n        return [{\n            trigger: 'h3:contains(\"Booth Registration completed!\")',\n            run: function() {},\n        }];\n    }\n\n}\n\nexport default FinalSteps;\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import FinalSteps from \"@website_event_booth_exhibitor/../tests/tours/website_event_booth_exhibitor_steps\";\n\n\n    registry.category(\"web_tour.tours\").add(\"webooth_exhibitor_register\", {\n        test: true,\n        url: \"/event\",\n        steps: () => [{\n        content: 'Go on \"Online Reveal\" page',\n        trigger: 'a[href*=\"/event\"]:contains(\"Online Reveal\"):first',\n    }, {\n        content: 'Browse Booths',\n        trigger: 'a:contains(\"Get A Booth\")',\n    }, {\n        content: 'Wait for the first item to be properly selected before proceeding',\n        trigger: 'label.d-block:has(input:checked) h5[name=booth_category_name]',\n        run() {},\n    }, {\n        content: 'Choose Premium Booths',\n        trigger: 'img[alt=\"Premium Booth\"]',\n    }, {\n        content: 'Choose Booth',\n        trigger: '.o_wbooth_booths div:contains(\"OpenWood Demonstrator 2\") input',\n    }, {\n        content: \"Validate attendees details\",\n        trigger: 'button:enabled:contains(\"Book my Booth(s)\")',\n        run: 'click',\n    }, {\n        content: \"Fill booth details\",\n        trigger: 'form[id=\"o_wbooth_contact_details_form\"]',\n        run: function () {\n            $(\"input[name='sponsor_name']\").val(\"Patrick Sponsor\");\n            $(\"input[name='sponsor_email']\").val(\"patrick.sponssor@test.example.com\");\n            $(\"input[name='sponsor_phone']\").val(\"+32456001122\");\n            $(\"input[name='sponsor_slogan']\").val(\"Patrick is Your Sponsor\");\n            $(\"textarea[name='sponsor_description']\").text(\"Really eager to meet you !\");\n        },\n    }, {\n        content: \"Validate booth details\",\n        extra_trigger: \"input[name='sponsor_name'], input[name='sponsor_email'], input[name='sponsor_phone']\",\n        trigger: 'button.o_wbooth_registration_confirm',\n        run: 'click',\n    }, ...new FinalSteps()._getSteps()].filter(Boolean)});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { browser } from \"@web/core/browser/browser\";\n\nfunction fillSelect2(inputID, search) {\n    return [\n        {\n            content: \"Click select2 form item\",\n            trigger: `.o_website_links_utm_forms div:has(+ #${inputID}) > .select2-choice`,\n        },\n        {\n            content: \"Enter select2 search query\",\n            trigger: '.select2-drop .select2-input',\n            run: `text ${search}`,\n        },\n        {\n            content: \"Select found select2 item\",\n            trigger: `.select2-drop li:only-child .select2-match:containsExact(\"${search}\")`,\n        },\n        {\n            content: \"Check that select2 is properly filled\",\n            trigger: `.o_website_links_utm_forms div:has(+ #${inputID}) .select2-chosen:containsExact(\"${search}\")`,\n            run: () => null,\n        },\n    ];\n}\n\nconst campaignValue = 'Super Specific Campaign';\nconst mediumValue = 'Super Specific Medium';\nconst sourceValue = 'Super Specific Source';\n\nregistry.category(\"web_tour.tours\").add('website_links_tour', {\n    test: true,\n    url: '/r',\n    steps: () => [\n        // 1. Create a tracked URL\n        {\n            content: \"check that existing links are shown\",\n            trigger: '#o_website_links_recent_links .btn_shorten_url_clipboard',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"fill the URL form input\",\n            trigger: '#o_website_links_link_tracker_form input#url',\n            run: function () {\n                var url = window.location.host + '/contactus';\n                $('#o_website_links_link_tracker_form input#url').val(url);\n            },\n        },\n        ...fillSelect2('campaign-select', campaignValue),\n        ...fillSelect2('channel-select', mediumValue),\n        ...fillSelect2('source-select', sourceValue),\n        {\n            content: \"Copy tracker link\",\n            trigger: '#btn_shorten_url',\n            run: function () {\n                // Patch and ignore write on clipboard in tour as we don't have permissions\n                const oldWriteText = browser.navigator.clipboard.writeText;\n                browser.navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n                $('#btn_shorten_url').click();\n                browser.navigator.clipboard.writeText = oldWriteText;\n            },\n        },\n        // 2. Visit it\n        {\n            content: \"check that link was created and visit it\",\n            extra_trigger: '#o_website_links_recent_links .truncate_text:first():contains(\"Contact Us\")',\n            trigger: '#o_website_links_link_tracker_form #generated_tracked_link:contains(\"/r/\")',\n            run: function () {\n                window.location.href = $('#generated_tracked_link').text();\n            },\n        },\n        {\n            content: \"check that we landed on correct page with correct query strings\",\n            trigger: '.s_title h1:containsExact(\"Contact us\")',\n            run: function () {\n                const enc = c => encodeURIComponent(c).replace(/%20/g, '+');\n                const expectedUrl = `/contactus?utm_campaign=${enc(campaignValue)}&utm_source=${enc(sourceValue)}&utm_medium=${enc(mediumValue)}`;\n                if (window.location.pathname + window.location.search !== expectedUrl) {\n                    console.error(\"The link was not correctly created. \" + window.location.search);\n                }\n                window.location.href = '/r';\n            },\n        },\n        // 3. Check that counter got incremented and charts are correctly displayed\n        {\n            content: \"filter recently used links\",\n            trigger: '#filter-recently-used-links',\n        },\n        {\n            content: \"visit link stats page\",\n            trigger: '#o_website_links_recent_links a:containsExact(\"Stats\"):first',\n        },\n        {\n            content: \"check click number and ensure graphs are initialized\",\n            extra_trigger: '.website_links_click_chart .title:contains(\"1 clicks\")',\n            trigger: 'canvas',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"click on Last Month tab\",\n            trigger: '.o_website_links_chart .graph-tabs a:contains(\"Last Month\")',\n        },\n        {\n            content: \"ensure tab is correctly resized\",\n            trigger: '#last_month_charts #last_month_clicks_chart',\n            run: function () {\n                var width = $('#last_month_charts #last_month_clicks_chart').width();\n                if (width < 50) {\n                    console.error(\"The graphs are probably not resized on tab change.\");\n                }\n            },\n        },\n    ]\n});\n", "/** @odoo-module */\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_newsletter_block_with_edit', {\n    test: true,\n    url: '/',\n    edition: true,\n}, () => [\n    // Put a Newsletter block.\n    wTourUtils.dragNDrop({\n        id: 's_newsletter_block',\n        name: 'Newsletter Block',\n    }),\n    {\n        content: 'Wait for the list id to be set.',\n        trigger: 'iframe .s_newsletter_block[data-list-id]:not([data-list-id=\"0\"]) .s_newsletter_subscribe_form',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnSave(),\n    // Subscribe to the newsletter.\n    {\n        content: 'Wait for the email to be loaded in the newsletter input',\n        trigger: 'iframe .s_newsletter_block .js_subscribe_btn',\n        extra_trigger: 'iframe .s_newsletter_block input:propValue(admin@yourcompany.example.com)',\n    },\n    // Change the link style.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: 'Click on the Subscribe button',\n        trigger: 'iframe .s_newsletter_block .js_subscribe_btn',\n    },\n    {\n        content: 'Toggle the option to display the Thanks button',\n        trigger: 'we-button[data-toggle-thanks-button] we-checkbox',\n    },\n    {\n        content: 'Click on the Thanks button',\n        trigger: 'iframe .s_newsletter_block .js_subscribed_btn',\n    },\n    {\n        content: 'Click on the link style button',\n        trigger: '.dropdown:has([name=\"link_style_color\"]) > button',\n    },\n    {\n        content: 'Click on the primary style button',\n        trigger: '[data-value=\"primary\"]',\n    },\n    {\n        content: 'Verify that the shape option is not available for primary while the size option appeared',\n        trigger: 'we-customizeblock-option:not(:has([name=\"link_style_shape\"]))',\n        extra_trigger: 'we-customizeblock-option:has([name=\"link_style_size\"])',\n        isCheck: true,\n    },\n    {\n        content: 'Click on the link style button',\n        trigger: '.dropdown:has([name=\"link_style_color\"]) > button',\n    },\n    {\n        content: 'Click on the custom style button',\n        trigger: '[data-value=\"custom\"]',\n    },\n    {\n        content: 'Change the shape of the button',\n        trigger: '.dropdown:has([name=\"link_style_shape\"]) > button',\n    },\n    {\n        content: 'Click on the flat shape button',\n        trigger: '[data-value=\"flat\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    // Check if the button style is correct (make sure that the 'btn-success'\n    // class which is not suggested as a valid style in the editor panel did not\n    // prevent to edit the button).\n    {\n        content: 'Check that the link style is correct',\n        trigger: 'iframe .s_newsletter_block .js_subscribed_btn.btn.btn-custom.flat:not(.btn-success)',\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\nimport snippetNewsletterPopupUseTour from \"@website_mass_mailing/../tests/tours/snippet_newsletter_popup_use\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_newsletter_popup_edition\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, () => [\n    wTourUtils.dragNDrop({\n        id: 's_newsletter_subscribe_popup',\n        name: 'Newsletter Popup',\n    }),\n    {\n        content: \"Check the modal is opened for edition\",\n        trigger: 'iframe .o_newsletter_popup .modal:visible',\n        in_modal: false,\n        run: () => null,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check the modal has been saved, closed\",\n        trigger: 'iframe body:has(.o_newsletter_popup)',\n        run: snippetNewsletterPopupUseTour.ensurePopupNotVisible,\n    }\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nfunction ensurePopupNotVisible() {\n    const $modal = this.$anchor.find('.o_newsletter_popup .modal');\n    if ($modal.length !== 1) {\n        // Avoid the tour to succeed if the modal can't be found while\n        // it should. Indeed, if the selector ever becomes wrong and the\n        // expected element is actually not found anymore, the test\n        // won't be testing anything anymore as the visible check will\n        // always be truthy on empty jQuery element.\n        console.error(\"Modal couldn't be found in the DOM. The tour is not working as expected.\");\n    }\n    if ($modal.is(':visible')) {\n        console.error('Modal should not be opened.');\n    }\n}\n\nregistry.category(\"web_tour.tours\").add('snippet_newsletter_popup_use', {\n    test: true,\n    url: '/',\n    steps: () => [\n    {\n        content: \"Check the modal is not yet opened and force it opened\",\n        trigger: 'body:has(.o_newsletter_popup)',\n        run: ensurePopupNotVisible,\n    },\n    {\n        content: \"Check the modal is now opened and enter text in the subscribe input\",\n        trigger: '.o_newsletter_popup .modal input',\n        in_modal: false,\n        run: 'text hello@world.com',\n    },\n    {\n        content: \"Subscribe\",\n        trigger: '.modal-dialog .btn-primary',\n    },\n    {\n        content: \"Check the modal is now closed\",\n        trigger: 'body:not(.modal-open)',\n        run: ensurePopupNotVisible,\n    }\n]});\n\nexport default {\n    ensurePopupNotVisible: ensurePopupNotVisible,\n};\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Makes sure that blog search can be used with the date filtering.\n */\nregistry.category(\"web_tour.tours\").add(\"blog_autocomplete_with_date\", {\n    test: true,\n    url: '/blog',\n    steps: () => [{\n    content: \"Select first month\",\n    trigger: 'select[name=archive]',\n    run: 'text option 2',\n}, {\n    content: \"Enter search term\",\n    trigger: '.o_searchbar_form input',\n    extra_trigger: '#o_wblog_posts_loop span:has(i.fa-calendar-o):has(a[href=\"/blog\"])',\n    run: 'text a',\n}, {\n    content: \"Wait for suggestions then click on search icon\",\n    extra_trigger: '.o_searchbar_form .o_dropdown_menu .o_search_result_item',\n    trigger: '.o_searchbar_form button:has(i.oi-search)',\n}, {\n    content: \"Ensure both filters are applied\",\n    trigger: '#o_wblog_posts_loop:has(span:has(i.fa-calendar-o):has(a[href=\"/blog?search=a\"])):has(span:has(i.fa-search):has(a[href^=\"/blog?date_begin\"]))',\n    run: () => {}, // This is a check.\n}]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"@website/js/tours/tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\n    \"blog_sidebar_with_date_and_tag\",\n    {\n        test: true,\n        url: \"/blog\",\n    },\n    () => [\n        {\n            content: \"Click on the 'Nature' blog category to filter blog posts.\",\n            trigger: \"iframe b:contains('Nature')\",\n        },\n        {\n            content: \"Check if the archive dropdown contains exactly 1 option: February.\",\n            trigger: \"iframe select[name=archive]\",\n            run: function () {\n                const optionEls = this.$anchor[0].querySelectorAll(\"optgroup option\");\n                const length = optionEls.length;\n                const monthName = optionEls[0].textContent;\n                if (length !== 1 || !monthName.includes(\"February\")) {\n                    throw new Error(\"Expected 1 option in the select with February\");\n                }\n            },\n        },\n        {\n            content: \"Click on the 'Space' blog category to switch filters.\",\n            trigger: \"iframe b:contains('Space')\",\n        },\n        {\n            content: \"Verify that the archive dropdown now contains only 1 option: January.\",\n            trigger: \"iframe select[name=archive]\",\n            run: function () {\n                const optionEls = this.$anchor[0].querySelectorAll(\"optgroup option\");\n                const length = optionEls.length;\n                const monthName = optionEls[0].textContent;\n                if (length !== 1 || !monthName.includes(\"January\")) {\n                    throw new Error(\"Expected 1 option in the select with January\");\n                }\n            },\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport wTourUtils from '@website/js/tours/tour_utils';\n\n\n/**\n * Makes sure that blog tags can be created and removed.\n */\nwTourUtils.registerWebsitePreviewTour('blog_tags', {\n    test: true,\n    url: '/blog',\n}, () => [{\n        content: \"Go to the 'Post Test' blog\",\n        trigger: \"iframe article[name=blog_post] a:contains('Post Test')\",\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet('#o_wblog_post_top .o_wblog_post_page_cover'),\n    {\n        content: \"Open tag dropdown\",\n        trigger: \"we-customizeblock-option:contains(Tags) .o_we_m2m we-toggler\",\n    }, {\n        content: \"Enter tag name\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-selection-items .o_we_m2o_create input\",\n        run: \"text testtag\",\n    }, {\n        content: \"Click Create\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-selection-items .o_we_m2o_create we-button\",\n    }, {\n        content: \"Verify tag appears in options\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list input[data-name=testtag]\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Verify tag appears in blog post\",\n        trigger: \"iframe #o_wblog_post_content .badge:contains(testtag)\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet('#o_wblog_post_top .o_wblog_post_page_cover'),\n    {\n        content: \"Remove tag\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list tr:has(input[data-name=testtag]) we-button.fa-minus\",\n    }, {\n        content: \"Verify tag does not appear in options anymore\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list:not(:has(input[data-name=testtag]))\",\n        isCheck: true,\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Verify tag does not appear in blog post anymore\",\n        trigger: \"iframe #o_wblog_post_content div:has(.badge):not(:contains(testtag))\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Go back to /blog\",\n        trigger: \"iframe .top_menu a[href='/blog'] span\",\n    }, {\n        content: \"Click on the adventure tag\",\n        trigger: \"iframe a[href^='/blog/tag/adventure']\",\n    }, {\n        content: \"Verify we are still on the backend\",\n        trigger: \"iframe span:contains(adventure) i.fa-tag\",\n        run: () => {}, // it's a check\n    }]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('website_appointment_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: 'Click on appointment app',\n        trigger: '.o_app[data-menu-xmlid=\"appointment.main_menu_appointments\"]',\n    }, {\n        content: 'Click on Create button',\n        trigger: '.o-kanban-button-new',\n    }, {\n        content: 'Set name of appointment type',\n        trigger: '#name_0',\n    }, {\n        content: 'Set max scheduled days',\n        trigger: '#max_schedule_days_0',\n        run: 'text 45',\n    }, {\n        content: 'Open the options tab',\n        trigger: 'a[name=\"options\"]',\n    }, {\n        content: 'Checked the allow_guests',\n        trigger: '#allow_guests_0',\n    }, {\n        content: 'Save appointment type',\n        trigger: '.o_form_button_save',\n    }, {\n        content: 'Publish the appointment',\n        trigger: 'button[name=\"action_toggle_published\"]',\n        extra_trigger: 'button.o_form_button_create',\n    }, {\n        content: 'Go to the front end',\n        trigger: 'button[name=\"action_customer_preview\"]',\n    }, {\n        content: 'Click on first date available',\n        trigger: '.o_slots_list > div > button',\n    }, {\n        content: 'Fill tel field',\n        trigger: 'input[name=\"phone\"]',\n        run: 'text 0123456789',\n    }, {\n        content: 'Click on the add guest link',\n        trigger: 'button.btn-link',\n    }, {\n        content: 'Enter the emails of the guests',\n        trigger: '#o_appointment_input_guest_emails',\n        run:()=>{\n            document.querySelector('#o_appointment_input_guest_emails').value = 'test1@gmail.com\\r\\nportal@example.com\\r\\naaaa'\n        }\n    }, {\n        content: 'Click on the add guest button',\n        trigger: '.o_appointment_form_confirm_btn',\n    }, {\n        content: 'Check the error msg',\n        trigger: '.o_appointment_error_text:contains(\"Invalid Email\")',\n        isCheck: true,\n    }, {\n        content: 'Removing the Invalid Email from the text area',\n        trigger: '#o_appointment_input_guest_emails',\n        run:()=>{\n            document.querySelector('#o_appointment_input_guest_emails').value =\n                '\"Raoul\" <hello@gmail.com>\\r\\ntest1@gmail.com\\r\\nnew_zeadland2@test.example.com\\r\\n\\r\\nportal@example.com\\r\\napt_manager@test.example.com'\n        }\n    }, {\n        content: 'Confirm the appointment',\n        trigger: '.o_appointment_form_confirm_btn',\n    }, {\n        trigger: 'div:contains(\"test1@gmail.com\")',\n        isCheck: true\n    }, {\n        trigger: 'div:contains(\"Portal User\")',\n        isCheck: true\n    }, {\n        trigger: 'div:contains(\"new_zeadland2@test.example.com\")',\n        isCheck: true\n    }, {\n        trigger: 'div:contains(\"Raoul\")',\n        isCheck: true\n    }, {\n        trigger: '.o_appointment_guest_addition_open',\n        content: 'Adding the guest at the validation page'\n    }, {\n        content: 'Check the email validation on validation page',\n        trigger: '#o_appointment_input_guest_emails',\n        run:()=>{\n            document.querySelector('#o_appointment_input_guest_emails').value = 'test2@gmail.com\\r\\nabc@gmail.com def@gmail.example.com\\r\\ntest1tttt'\n        }\n    }, {\n        content: 'Click on the add guest button',\n        trigger: '.o_appointment_guest_add',\n    }, {\n        content: 'Checking the error msg on the validation page',\n        trigger: '.o_appointment_error_text:contains(\"Invalid Email\")',\n        isCheck: true,\n    }, {\n        content: 'Remove the invalid email from the input',\n        trigger: '#o_appointment_input_guest_emails',\n        run: ()=>{\n            document.querySelector('#o_appointment_input_guest_emails').value = 'test2@gmail.com\\r\\nabc@gmail.com def@gmail.example.com\\r\\ntest1@gmail.com'\n        },\n    }, {\n        content: 'Click on the add guest button',\n        trigger: '.o_appointment_guest_add',\n    }, {\n        trigger: 'div:contains(\"test2@gmail.com\")',\n        isCheck: true\n    }, {\n        trigger: 'div:contains(\"abc@gmail.com\")',\n        isCheck: true\n    }, {\n        trigger: 'div:contains(\"def@gmail.example.com\")',\n        isCheck: true\n    }, {\n        content: 'Clicking on the back to edit mode link',\n        trigger: 'a:contains(\"Back to edit mode\")',\n    }, {\n        content: 'Check that the appointment is booked or not',\n        trigger: 'div[name=\"appointment_count\"] > span.o_stat_value:contains(\"1\")',\n        isCheck: true,\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst oldWriteText = navigator.clipboard.writeText;\n\nregistry.category(\"web_tour.tours\").add('appointment_crm_meeting_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n        run: 'click',\n    }, {\n        trigger: '.o_kanban_record:contains(\"Test Opportunity\")',\n        extra_trigger: '.o_opportunity_kanban',\n        run: 'click',\n    }, {\n        trigger: 'button[name=\"action_schedule_meeting\"]',\n        run: 'click',\n    }, {\n        trigger: 'button.dropdownAppointmentLink',\n        run: 'click',\n    }, {\n        trigger: '.o_appointment_button_link:contains(\"Test AppointmentCRM\")',\n        run: () => {\n            // Patch and ignore write on clipboard in tour as we don't have permissions\n            navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n            $('.o_appointment_button_link:contains(\"Test AppointmentCRM\")').click();\n        },\n    }, {\n        trigger: '.o_appointment_discard_slots',\n        run: () => {\n            $('.o_appointment_discard_slots').click();\n            // Re-patch the function with the previous writeText\n            navigator.clipboard.writeText = oldWriteText;\n        },\n    }],\n});\n", "window.__odooIgnoreMissingDependencies = false;\n"], "file": "/web/assets/62/9bb2849/web.__assets_tests_call__.js", "sourceRoot": "../../../../"}